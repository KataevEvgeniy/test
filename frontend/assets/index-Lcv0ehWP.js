var xf=Object.defineProperty;var ad=t=>{throw TypeError(t)};var Ef=(t,e,n)=>e in t?xf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wr=(t,e,n)=>Ef(t,typeof e!="symbol"?e+"":e,n),eu=(t,e,n)=>e.has(t)||ad("Cannot "+n);var de=(t,e,n)=>(eu(t,e,"read from private field"),n?n.call(t):e.get(t)),Gt=(t,e,n)=>e.has(t)?ad("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ln=(t,e,n,i)=>(eu(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),Ft=(t,e,n)=>(eu(t,e,"access private method"),n);var tu=(t,e,n,i)=>({set _(s){ln(t,e,s,n)},get _(){return de(t,e,i)}});function _mergeNamespaces(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function v(z,j,U){this.props=z,this.context=j,this.refs=w,this.updater=U||x}v.prototype.isReactComponent={},v.prototype.setState=function(z,j){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,j,"setState")},v.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function b(){}b.prototype=v.prototype;function _(z,j,U){this.props=z,this.context=j,this.refs=w,this.updater=U||x}var E=_.prototype=new b;E.constructor=_,S(E,v.prototype),E.isPureReactComponent=!0;var k=Array.isArray,T=Object.prototype.hasOwnProperty,L={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function C(z,j,U){var Y,ce={},ge=null,he=null;if(j!=null)for(Y in j.ref!==void 0&&(he=j.ref),j.key!==void 0&&(ge=""+j.key),j)T.call(j,Y)&&!F.hasOwnProperty(Y)&&(ce[Y]=j[Y]);var ye=arguments.length-2;if(ye===1)ce.children=U;else if(1<ye){for(var Ae=Array(ye),ot=0;ot<ye;ot++)Ae[ot]=arguments[ot+2];ce.children=Ae}if(z&&z.defaultProps)for(Y in ye=z.defaultProps,ye)ce[Y]===void 0&&(ce[Y]=ye[Y]);return{$$typeof:t,type:z,key:ge,ref:he,props:ce,_owner:L.current}}function O(z,j){return{$$typeof:t,type:z.type,key:j,ref:z.ref,props:z.props,_owner:z._owner}}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function G(z){var j={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(U){return j[U]})}var W=/\/+/g;function J(z,j){return typeof z=="object"&&z!==null&&z.key!=null?G(""+z.key):j.toString(36)}function ne(z,j,U,Y,ce){var ge=typeof z;(ge==="undefined"||ge==="boolean")&&(z=null);var he=!1;if(z===null)he=!0;else switch(ge){case"string":case"number":he=!0;break;case"object":switch(z.$$typeof){case t:case e:he=!0}}if(he)return he=z,ce=ce(he),z=Y===""?"."+J(he,0):Y,k(ce)?(U="",z!=null&&(U=z.replace(W,"$&/")+"/"),ne(ce,j,U,"",function(ot){return ot})):ce!=null&&(P(ce)&&(ce=O(ce,U+(!ce.key||he&&he.key===ce.key?"":(""+ce.key).replace(W,"$&/")+"/")+z)),j.push(ce)),1;if(he=0,Y=Y===""?".":Y+":",k(z))for(var ye=0;ye<z.length;ye++){ge=z[ye];var Ae=Y+J(ge,ye);he+=ne(ge,j,U,Ae,ce)}else if(Ae=y(z),typeof Ae=="function")for(z=Ae.call(z),ye=0;!(ge=z.next()).done;)ge=ge.value,Ae=Y+J(ge,ye++),he+=ne(ge,j,U,Ae,ce);else if(ge==="object")throw j=String(z),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return he}function we(z,j,U){if(z==null)return z;var Y=[],ce=0;return ne(z,Y,"","",function(ge){return j.call(U,ge,ce++)}),Y}function me(z){if(z._status===-1){var j=z._result;j=j(),j.then(function(U){(z._status===0||z._status===-1)&&(z._status=1,z._result=U)},function(U){(z._status===0||z._status===-1)&&(z._status=2,z._result=U)}),z._status===-1&&(z._status=0,z._result=j)}if(z._status===1)return z._result.default;throw z._result}var re={current:null},ee={transition:null},be={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:ee,ReactCurrentOwner:L};function ke(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:we,forEach:function(z,j,U){we(z,function(){j.apply(this,arguments)},U)},count:function(z){var j=0;return we(z,function(){j++}),j},toArray:function(z){return we(z,function(j){return j})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},react_production_min.Component=v,react_production_min.Fragment=n,react_production_min.Profiler=s,react_production_min.PureComponent=_,react_production_min.StrictMode=i,react_production_min.Suspense=f,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=be,react_production_min.act=ke,react_production_min.cloneElement=function(z,j,U){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Y=S({},z.props),ce=z.key,ge=z.ref,he=z._owner;if(j!=null){if(j.ref!==void 0&&(ge=j.ref,he=L.current),j.key!==void 0&&(ce=""+j.key),z.type&&z.type.defaultProps)var ye=z.type.defaultProps;for(Ae in j)T.call(j,Ae)&&!F.hasOwnProperty(Ae)&&(Y[Ae]=j[Ae]===void 0&&ye!==void 0?ye[Ae]:j[Ae])}var Ae=arguments.length-2;if(Ae===1)Y.children=U;else if(1<Ae){ye=Array(Ae);for(var ot=0;ot<Ae;ot++)ye[ot]=arguments[ot+2];Y.children=ye}return{$$typeof:t,type:z.type,key:ce,ref:ge,props:Y,_owner:he}},react_production_min.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},react_production_min.createElement=C,react_production_min.createFactory=function(z){var j=C.bind(null,z);return j.type=z,j},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(z){return{$$typeof:c,render:z}},react_production_min.isValidElement=P,react_production_min.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:me}},react_production_min.memo=function(z,j){return{$$typeof:h,type:z,compare:j===void 0?null:j}},react_production_min.startTransition=function(z){var j=ee.transition;ee.transition={};try{z()}finally{ee.transition=j}},react_production_min.unstable_act=ke,react_production_min.useCallback=function(z,j){return re.current.useCallback(z,j)},react_production_min.useContext=function(z){return re.current.useContext(z)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(z){return re.current.useDeferredValue(z)},react_production_min.useEffect=function(z,j){return re.current.useEffect(z,j)},react_production_min.useId=function(){return re.current.useId()},react_production_min.useImperativeHandle=function(z,j,U){return re.current.useImperativeHandle(z,j,U)},react_production_min.useInsertionEffect=function(z,j){return re.current.useInsertionEffect(z,j)},react_production_min.useLayoutEffect=function(z,j){return re.current.useLayoutEffect(z,j)},react_production_min.useMemo=function(z,j){return re.current.useMemo(z,j)},react_production_min.useReducer=function(z,j,U){return re.current.useReducer(z,j,U)},react_production_min.useRef=function(z){return re.current.useRef(z)},react_production_min.useState=function(z){return re.current.useState(z)},react_production_min.useSyncExternalStore=function(z,j,U){return re.current.useSyncExternalStore(z,j,U)},react_production_min.useTransition=function(){return re.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var t=requireReact(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,h){var p,g={},y=null,x=null;h!==void 0&&(y=""+h),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(x=f.ref);for(p in f)i.call(f,p)&&!o.hasOwnProperty(p)&&(g[p]=f[p]);if(c&&c.defaultProps)for(p in f=c.defaultProps,f)g[p]===void 0&&(g[p]=f[p]);return{$$typeof:e,type:c,key:y,ref:x,props:g,_owner:s.current}}return reactJsxRuntime_production_min.Fragment=n,reactJsxRuntime_production_min.jsx=l,reactJsxRuntime_production_min.jsxs=l,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(t){function e(ee,be){var ke=ee.length;ee.push(be);e:for(;0<ke;){var z=ke-1>>>1,j=ee[z];if(0<s(j,be))ee[z]=be,ee[ke]=j,ke=z;else break e}}function n(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var be=ee[0],ke=ee.pop();if(ke!==be){ee[0]=ke;e:for(var z=0,j=ee.length,U=j>>>1;z<U;){var Y=2*(z+1)-1,ce=ee[Y],ge=Y+1,he=ee[ge];if(0>s(ce,ke))ge<j&&0>s(he,ce)?(ee[z]=he,ee[ge]=ke,z=ge):(ee[z]=ce,ee[Y]=ke,z=Y);else if(ge<j&&0>s(he,ke))ee[z]=he,ee[ge]=ke,z=ge;else break e}}return be}function s(ee,be){var ke=ee.sortIndex-be.sortIndex;return ke!==0?ke:ee.id-be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],p=1,g=null,y=3,x=!1,S=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(ee){for(var be=n(h);be!==null;){if(be.callback===null)i(h);else if(be.startTime<=ee)i(h),be.sortIndex=be.expirationTime,e(f,be);else break;be=n(h)}}function k(ee){if(w=!1,E(ee),!S)if(n(f)!==null)S=!0,me(T);else{var be=n(h);be!==null&&re(k,be.startTime-ee)}}function T(ee,be){S=!1,w&&(w=!1,b(C),C=-1),x=!0;var ke=y;try{for(E(be),g=n(f);g!==null&&(!(g.expirationTime>be)||ee&&!G());){var z=g.callback;if(typeof z=="function"){g.callback=null,y=g.priorityLevel;var j=z(g.expirationTime<=be);be=t.unstable_now(),typeof j=="function"?g.callback=j:g===n(f)&&i(f),E(be)}else i(f);g=n(f)}if(g!==null)var U=!0;else{var Y=n(h);Y!==null&&re(k,Y.startTime-be),U=!1}return U}finally{g=null,y=ke,x=!1}}var L=!1,F=null,C=-1,O=5,P=-1;function G(){return!(t.unstable_now()-P<O)}function W(){if(F!==null){var ee=t.unstable_now();P=ee;var be=!0;try{be=F(!0,ee)}finally{be?J():(L=!1,F=null)}}else L=!1}var J;if(typeof _=="function")J=function(){_(W)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,we=ne.port2;ne.port1.onmessage=W,J=function(){we.postMessage(null)}}else J=function(){v(W,0)};function me(ee){F=ee,L||(L=!0,J())}function re(ee,be){C=v(function(){ee(t.unstable_now())},be)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,me(T))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ee){switch(y){case 1:case 2:case 3:var be=3;break;default:be=y}var ke=y;y=be;try{return ee()}finally{y=ke}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,be){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ke=y;y=ee;try{return be()}finally{y=ke}},t.unstable_scheduleCallback=function(ee,be,ke){var z=t.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?z+ke:z):ke=z,ee){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ke+j,ee={id:p++,callback:be,priorityLevel:ee,startTime:ke,expirationTime:j,sortIndex:-1},ke>z?(ee.sortIndex=ke,e(h,ee),n(f)===null&&ee===n(h)&&(w?(b(C),C=-1):w=!0,re(k,ke-z))):(ee.sortIndex=j,e(f,ee),S||x||(S=!0,me(T))),ee},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(ee){var be=y;return function(){var ke=y;y=be;try{return ee.apply(this,arguments)}finally{y=ke}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var t=requireReact(),e=requireScheduler();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function o(a,u){l(a,u),l(a+"Capture",u)}function l(a,u){for(s[a]=u,a=0;a<u.length;a++)i.add(u[a])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(a){return f.call(g,a)?!0:f.call(p,a)?!1:h.test(a)?g[a]=!0:(p[a]=!0,!1)}function x(a,u,m,R){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return R?!1:m!==null?!m.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,u,m,R){if(u===null||typeof u>"u"||x(a,u,m,R))return!0;if(R)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(a,u,m,R,M,$,oe){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=R,this.attributeNamespace=M,this.mustUseProperty=m,this.propertyName=a,this.type=u,this.sanitizeURL=$,this.removeEmptyString=oe}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){v[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];v[u]=new w(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){v[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){v[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){v[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){v[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){v[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){v[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){v[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function _(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(b,_);v[u]=new w(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(b,_);v[u]=new w(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(b,_);v[u]=new w(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){v[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),v.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){v[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,u,m,R){var M=v.hasOwnProperty(u)?v[u]:null;(M!==null?M.type!==0:R||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(S(u,m,M,R)&&(m=null),R||M===null?y(u)&&(m===null?a.removeAttribute(u):a.setAttribute(u,""+m)):M.mustUseProperty?a[M.propertyName]=m===null?M.type===3?!1:"":m:(u=M.attributeName,R=M.attributeNamespace,m===null?a.removeAttribute(u):(M=M.type,m=M===3||M===4&&m===!0?"":""+m,R?a.setAttributeNS(R,u,m):a.setAttribute(u,m))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),L=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),G=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),ee=Symbol.iterator;function be(a){return a===null||typeof a!="object"?null:(a=ee&&a[ee]||a["@@iterator"],typeof a=="function"?a:null)}var ke=Object.assign,z;function j(a){if(z===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);z=u&&u[1]||""}return`
`+z+a}var U=!1;function Y(a,u){if(!a||U)return"";U=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ct){var R=Ct}Reflect.construct(a,[],u)}else{try{u.call()}catch(Ct){R=Ct}a.call(u.prototype)}else{try{throw Error()}catch(Ct){R=Ct}a()}}catch(Ct){if(Ct&&R&&typeof Ct.stack=="string"){for(var M=Ct.stack.split(`
`),$=R.stack.split(`
`),oe=M.length-1,Le=$.length-1;1<=oe&&0<=Le&&M[oe]!==$[Le];)Le--;for(;1<=oe&&0<=Le;oe--,Le--)if(M[oe]!==$[Le]){if(oe!==1||Le!==1)do if(oe--,Le--,0>Le||M[oe]!==$[Le]){var Ge=`
`+M[oe].replace(" at new "," at ");return a.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",a.displayName)),Ge}while(1<=oe&&0<=Le);break}}}finally{U=!1,Error.prepareStackTrace=m}return(a=a?a.displayName||a.name:"")?j(a):""}function ce(a){switch(a.tag){case 5:return j(a.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return a=Y(a.type,!1),a;case 11:return a=Y(a.type.render,!1),a;case 1:return a=Y(a.type,!0),a;default:return""}}function ge(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case F:return"Fragment";case L:return"Portal";case O:return"Profiler";case C:return"StrictMode";case J:return"Suspense";case ne:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case G:return(a.displayName||"Context")+".Consumer";case P:return(a._context.displayName||"Context")+".Provider";case W:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case we:return u=a.displayName||null,u!==null?u:ge(a.type)||"Memo";case me:u=a._payload,a=a._init;try{return ge(a(u))}catch{}}return null}function he(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(u);case 8:return u===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ye(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ae(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ot(a){var u=Ae(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),R=""+a[u];if(!a.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var M=m.get,$=m.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return M.call(this)},set:function(oe){R=""+oe,$.call(this,oe)}}),Object.defineProperty(a,u,{enumerable:m.enumerable}),{getValue:function(){return R},setValue:function(oe){R=""+oe},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Ie(a){a._valueTracker||(a._valueTracker=ot(a))}function V(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var m=u.getValue(),R="";return a&&(R=Ae(a)?a.checked?"true":"false":a.value),a=R,a!==m?(u.setValue(a),!0):!1}function K(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ae(a,u){var m=u.checked;return ke({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??a._wrapperState.initialChecked})}function ue(a,u){var m=u.defaultValue==null?"":u.defaultValue,R=u.checked!=null?u.checked:u.defaultChecked;m=ye(u.value!=null?u.value:m),a._wrapperState={initialChecked:R,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Z(a,u){u=u.checked,u!=null&&E(a,"checked",u,!1)}function ve(a,u){Z(a,u);var m=ye(u.value),R=u.type;if(m!=null)R==="number"?(m===0&&a.value===""||a.value!=m)&&(a.value=""+m):a.value!==""+m&&(a.value=""+m);else if(R==="submit"||R==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?Fe(a,u.type,m):u.hasOwnProperty("defaultValue")&&Fe(a,u.type,ye(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function Pe(a,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var R=u.type;if(!(R!=="submit"&&R!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,m||u===a.value||(a.value=u),a.defaultValue=u}m=a.name,m!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,m!==""&&(a.name=m)}function Fe(a,u,m){(u!=="number"||K(a.ownerDocument)!==a)&&(m==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+m&&(a.defaultValue=""+m))}var it=Array.isArray;function fe(a,u,m,R){if(a=a.options,u){u={};for(var M=0;M<m.length;M++)u["$"+m[M]]=!0;for(m=0;m<a.length;m++)M=u.hasOwnProperty("$"+a[m].value),a[m].selected!==M&&(a[m].selected=M),M&&R&&(a[m].defaultSelected=!0)}else{for(m=""+ye(m),u=null,M=0;M<a.length;M++){if(a[M].value===m){a[M].selected=!0,R&&(a[M].defaultSelected=!0);return}u!==null||a[M].disabled||(u=a[M])}u!==null&&(u.selected=!0)}}function xe(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return ke({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Se(a,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(n(92));if(it(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),m=u}a._wrapperState={initialValue:ye(m)}}function gt(a,u){var m=ye(u.value),R=ye(u.defaultValue);m!=null&&(m=""+m,m!==a.value&&(a.value=m),u.defaultValue==null&&a.defaultValue!==m&&(a.defaultValue=m)),R!=null&&(a.defaultValue=""+R)}function qe(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function dt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?dt(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Nt,nn=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,R,M){MSApp.execUnsafeLocalFunction(function(){return a(u,m,R,M)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Nt=Nt||document.createElement("div"),Nt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Nt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function zt(a,u){if(u){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=u;return}}a.textContent=u}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ue=["Webkit","ms","Moz","O"];Object.keys(mt).forEach(function(a){Ue.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),mt[u]=mt[a]})});function Me(a,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||mt.hasOwnProperty(a)&&mt[a]?(""+u).trim():u+"px"}function Mt(a,u){a=a.style;for(var m in u)if(u.hasOwnProperty(m)){var R=m.indexOf("--")===0,M=Me(m,u[m],R);m==="float"&&(m="cssFloat"),R?a.setProperty(m,M):a[m]=M}}var cn=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function te(a,u){if(u){if(cn[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function vt(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=null;function Dt(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ee=null,Et=null,I=null;function X(a){if(a=Io(a)){if(typeof Ee!="function")throw Error(n(280));var u=a.stateNode;u&&(u=ea(u),Ee(a.stateNode,a.type,u))}}function Ce(a){Et?I?I.push(a):I=[a]:Et=a}function N(){if(Et){var a=Et,u=I;if(I=Et=null,X(a),u)for(a=0;a<u.length;a++)X(u[a])}}function Ne(a,u){return a(u)}function Je(){}var se=!1;function Be(a,u,m){if(se)return a(u,m);se=!0;try{return Ne(a,u,m)}finally{se=!1,(Et!==null||I!==null)&&(Je(),N())}}function ft(a,u){var m=a.stateNode;if(m===null)return null;var R=ea(m);if(R===null)return null;m=R[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(a=a.type,R=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!R;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(n(231,u,typeof m));return m}var Zt=!1;if(c)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Zt=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{Zt=!1}function Vt(a,u,m,R,M,$,oe,Le,Ge){var Ct=Array.prototype.slice.call(arguments,3);try{u.apply(m,Ct)}catch(Ht){this.onError(Ht)}}var In=!1,vr=null,Kn=!1,Mn=null,ur={onError:function(a){In=!0,vr=a}};function Wn(a,u,m,R,M,$,oe,Le,Ge){In=!1,vr=null,Vt.apply(ur,arguments)}function br(a,u,m,R,M,$,oe,Le,Ge){if(Wn.apply(this,arguments),In){if(In){var Ct=vr;In=!1,vr=null}else throw Error(n(198));Kn||(Kn=!0,Mn=Ct)}}function dr(a){var u=a,m=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(m=u.return),a=u.return;while(a)}return u.tag===3?m:null}function Qr(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function Sr(a){if(dr(a)!==a)throw Error(n(188))}function Rr(a){var u=a.alternate;if(!u){if(u=dr(a),u===null)throw Error(n(188));return u!==a?null:a}for(var m=a,R=u;;){var M=m.return;if(M===null)break;var $=M.alternate;if($===null){if(R=M.return,R!==null){m=R;continue}break}if(M.child===$.child){for($=M.child;$;){if($===m)return Sr(M),a;if($===R)return Sr(M),u;$=$.sibling}throw Error(n(188))}if(m.return!==R.return)m=M,R=$;else{for(var oe=!1,Le=M.child;Le;){if(Le===m){oe=!0,m=M,R=$;break}if(Le===R){oe=!0,R=M,m=$;break}Le=Le.sibling}if(!oe){for(Le=$.child;Le;){if(Le===m){oe=!0,m=$,R=M;break}if(Le===R){oe=!0,R=$,m=M;break}Le=Le.sibling}if(!oe)throw Error(n(189))}}if(m.alternate!==R)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?a:u}function kr(a){return a=Rr(a),a!==null?Fr(a):null}function Fr(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Fr(a);if(u!==null)return u;a=a.sibling}return null}var Xr=e.unstable_scheduleCallback,zi=e.unstable_cancelCallback,Pr=e.unstable_shouldYield,Pi=e.unstable_requestPaint,nr=e.unstable_now,Gi=e.unstable_getCurrentPriorityLevel,Jr=e.unstable_ImmediatePriority,ss=e.unstable_UserBlockingPriority,Ci=e.unstable_NormalPriority,os=e.unstable_LowPriority,Di=e.unstable_IdlePriority,as=null,Br=null;function xs(a){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(as,a,void 0,(a.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:Te,pe=Math.log,We=Math.LN2;function Te(a){return a>>>=0,a===0?32:31-(pe(a)/We|0)|0}var He=64,ut=4194304;function Ye(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Pt(a,u){var m=a.pendingLanes;if(m===0)return 0;var R=0,M=a.suspendedLanes,$=a.pingedLanes,oe=m&268435455;if(oe!==0){var Le=oe&~M;Le!==0?R=Ye(Le):($&=oe,$!==0&&(R=Ye($)))}else oe=m&~M,oe!==0?R=Ye(oe):$!==0&&(R=Ye($));if(R===0)return 0;if(u!==0&&u!==R&&!(u&M)&&(M=R&-R,$=u&-u,M>=$||M===16&&($&4194240)!==0))return u;if(R&4&&(R|=m&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=R;0<u;)m=31-jn(u),M=1<<m,R|=a[m],u&=~M;return R}function Ut(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kt(a,u){for(var m=a.suspendedLanes,R=a.pingedLanes,M=a.expirationTimes,$=a.pendingLanes;0<$;){var oe=31-jn($),Le=1<<oe,Ge=M[oe];Ge===-1?(!(Le&m)||Le&R)&&(M[oe]=Ut(Le,u)):Ge<=u&&(a.expiredLanes|=Le),$&=~Le}}function Wt(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function tn(){var a=He;return He<<=1,!(He&4194240)&&(He=64),a}function gn(a){for(var u=[],m=0;31>m;m++)u.push(a);return u}function Vn(a,u,m){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-jn(u),a[u]=m}function tr(a,u){var m=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var R=a.eventTimes;for(a=a.expirationTimes;0<m;){var M=31-jn(m),$=1<<M;u[M]=0,R[M]=-1,a[M]=-1,m&=~$}}function rr(a,u){var m=a.entangledLanes|=u;for(a=a.entanglements;m;){var R=31-jn(m),M=1<<R;M&u|a[R]&u&&(a[R]|=u),m&=~M}}var Nn=0;function Dn(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var $r,$i,ps,Ir,Ai,Ki=!1,ui=[],ri=null,ii=null,_r=null,ei=new Map,Oi=new Map,si=[],Hs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ui(a,u){switch(a){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":ei.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(u.pointerId)}}function Es(a,u,m,R,M,$){return a===null||a.nativeEvent!==$?(a={blockedOn:u,domEventName:m,eventSystemFlags:R,nativeEvent:$,targetContainers:[M]},u!==null&&(u=Io(u),u!==null&&$i(u)),a):(a.eventSystemFlags|=R,u=a.targetContainers,M!==null&&u.indexOf(M)===-1&&u.push(M),a)}function q(a,u,m,R,M){switch(u){case"focusin":return ri=Es(ri,a,u,m,R,M),!0;case"dragenter":return ii=Es(ii,a,u,m,R,M),!0;case"mouseover":return _r=Es(_r,a,u,m,R,M),!0;case"pointerover":var $=M.pointerId;return ei.set($,Es(ei.get($)||null,a,u,m,R,M)),!0;case"gotpointercapture":return $=M.pointerId,Oi.set($,Es(Oi.get($)||null,a,u,m,R,M)),!0}return!1}function ie(a){var u=Ks(a.target);if(u!==null){var m=dr(u);if(m!==null){if(u=m.tag,u===13){if(u=Qr(m),u!==null){a.blockedOn=u,Ai(a.priority,function(){ps(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Re(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var m=Tt(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(m===null){m=a.nativeEvent;var R=new m.constructor(m.type,m);It=R,m.target.dispatchEvent(R),It=null}else return u=Io(m),u!==null&&$i(u),a.blockedOn=m,!1;u.shift()}return!0}function De(a,u,m){Re(a)&&m.delete(u)}function $e(){Ki=!1,ri!==null&&Re(ri)&&(ri=null),ii!==null&&Re(ii)&&(ii=null),_r!==null&&Re(_r)&&(_r=null),ei.forEach(De),Oi.forEach(De)}function Ve(a,u){a.blockedOn===u&&(a.blockedOn=null,Ki||(Ki=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$e)))}function et(a){function u(M){return Ve(M,a)}if(0<ui.length){Ve(ui[0],a);for(var m=1;m<ui.length;m++){var R=ui[m];R.blockedOn===a&&(R.blockedOn=null)}}for(ri!==null&&Ve(ri,a),ii!==null&&Ve(ii,a),_r!==null&&Ve(_r,a),ei.forEach(u),Oi.forEach(u),m=0;m<si.length;m++)R=si[m],R.blockedOn===a&&(R.blockedOn=null);for(;0<si.length&&(m=si[0],m.blockedOn===null);)ie(m),m.blockedOn===null&&si.shift()}var Ke=k.ReactCurrentBatchConfig,Oe=!0;function tt(a,u,m,R){var M=Nn,$=Ke.transition;Ke.transition=null;try{Nn=1,kt(a,u,m,R)}finally{Nn=M,Ke.transition=$}}function Qe(a,u,m,R){var M=Nn,$=Ke.transition;Ke.transition=null;try{Nn=4,kt(a,u,m,R)}finally{Nn=M,Ke.transition=$}}function kt(a,u,m,R){if(Oe){var M=Tt(a,u,m,R);if(M===null)qa(a,u,R,Rt,m),Ui(a,R);else if(q(M,a,u,m,R))R.stopPropagation();else if(Ui(a,R),u&4&&-1<Hs.indexOf(a)){for(;M!==null;){var $=Io(M);if($!==null&&$r($),$=Tt(a,u,m,R),$===null&&qa(a,u,R,Rt,m),$===M)break;M=$}M!==null&&R.stopPropagation()}else qa(a,u,R,null,m)}}var Rt=null;function Tt(a,u,m,R){if(Rt=null,a=Dt(R),a=Ks(a),a!==null)if(u=dr(a),u===null)a=null;else if(m=u.tag,m===13){if(a=Qr(u),a!==null)return a;a=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Rt=a,null}function Yt(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gi()){case Jr:return 1;case ss:return 4;case Ci:case os:return 16;case Di:return 536870912;default:return 16}default:return 16}}var Bt=null,$t=null,On=null;function bn(){if(On)return On;var a,u=$t,m=u.length,R,M="value"in Bt?Bt.value:Bt.textContent,$=M.length;for(a=0;a<m&&u[a]===M[a];a++);var oe=m-a;for(R=1;R<=oe&&u[m-R]===M[$-R];R++);return On=M.slice(a,1<R?1-R:void 0)}function xn(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Sn(){return!0}function dn(){return!1}function mn(a){function u(m,R,M,$,oe){this._reactName=m,this._targetInst=M,this.type=R,this.nativeEvent=$,this.target=oe,this.currentTarget=null;for(var Le in a)a.hasOwnProperty(Le)&&(m=a[Le],this[Le]=m?m($):$[Le]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Sn:dn,this.isPropagationStopped=dn,this}return ke(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Sn)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Sn)},persist:function(){},isPersistent:Sn}),u}var wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qn=mn(wn),Hn=ke({},wn,{view:0,detail:0}),Jn=mn(Hn),Zn,er,fr,qn=ke({},Hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==fr&&(fr&&a.type==="mousemove"?(Zn=a.screenX-fr.screenX,er=a.screenY-fr.screenY):er=Zn=0,fr=a),Zn)},movementY:function(a){return"movementY"in a?a.movementY:er}}),xr=mn(qn),hr=ke({},qn,{dataTransfer:0}),Tr=mn(hr),Er=ke({},Hn,{relatedTarget:0}),yr=mn(Er),Hr=ke({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),ci=mn(Hr),di=ke({},wn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Cr=mn(di),Yr=ke({},wn,{data:0}),yi=mn(Yr),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=pn[a])?!!u[a]:!1}function hn(){return En}var kn=ke({},Hn,{key:function(a){if(a.key){var u=An[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=xn(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_n[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(a){return a.type==="keypress"?xn(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?xn(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Fn=mn(kn),vn=ke({},qn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),on=mn(vn),zn=ke({},Hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn}),Gn=mn(zn),pr=ke({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),lr=mn(pr),Ur=ke({},qn,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),fi=mn(Ur),Bn=[9,13,27,32],Dr=c&&"CompositionEvent"in window,ir=null;c&&"documentMode"in document&&(ir=document.documentMode);var mr=c&&"TextEvent"in window&&!ir,Nr=c&&(!Dr||ir&&8<ir&&11>=ir),or=" ",Vi=!1;function Ii(a,u){switch(a){case"keyup":return Bn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hi(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ar=!1;function Xi(a,u){switch(a){case"compositionend":return hi(u);case"keypress":return u.which!==32?null:(Vi=!0,or);case"textInput":return a=u.data,a===or&&Vi?null:a;default:return null}}function bi(a,u){if(ar)return a==="compositionend"||!Dr&&Ii(a,u)?(a=bn(),On=$t=Bt=null,ar=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Nr&&u.locale!=="ko"?null:u.data;default:return null}}var pi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ws(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!pi[a.type]:u==="textarea"}function Gs(a,u,m,R){Ce(R),u=Zo(u,"onChange"),0<u.length&&(m=new Qn("onChange","change",null,m,R),a.push({event:m,listeners:u}))}var Yn=null,ls=null;function mi(a){wu(a,0)}function Ti(a){var u=co(a);if(V(u))return a}function ao(a,u){if(a==="change")return u}var A=!1;if(c){var D;if(c){var B="oninput"in document;if(!B){var H=document.createElement("div");H.setAttribute("oninput","return;"),B=typeof H.oninput=="function"}D=B}else D=!1;A=D&&(!document.documentMode||9<document.documentMode)}function Q(){Yn&&(Yn.detachEvent("onpropertychange",le),ls=Yn=null)}function le(a){if(a.propertyName==="value"&&Ti(ls)){var u=[];Gs(u,ls,a,Dt(a)),Be(mi,u)}}function _e(a,u,m){a==="focusin"?(Q(),Yn=u,ls=m,Yn.attachEvent("onpropertychange",le)):a==="focusout"&&Q()}function je(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ti(ls)}function Ze(a,u){if(a==="click")return Ti(u)}function nt(a,u){if(a==="input"||a==="change")return Ti(u)}function ct(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var ze=typeof Object.is=="function"?Object.is:ct;function ht(a,u){if(ze(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var m=Object.keys(a),R=Object.keys(u);if(m.length!==R.length)return!1;for(R=0;R<m.length;R++){var M=m[R];if(!f.call(u,M)||!ze(a[M],u[M]))return!1}return!0}function Xe(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function lt(a,u){var m=Xe(a);a=0;for(var R;m;){if(m.nodeType===3){if(R=a+m.textContent.length,a<=u&&R>=u)return{node:m,offset:u-a};a=R}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Xe(m)}}function pt(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?pt(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function rt(){for(var a=window,u=K();u instanceof a.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)a=u.contentWindow;else break;u=K(a.document)}return u}function xt(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function St(a){var u=rt(),m=a.focusedElem,R=a.selectionRange;if(u!==m&&m&&m.ownerDocument&&pt(m.ownerDocument.documentElement,m)){if(R!==null&&xt(m)){if(u=R.start,a=R.end,a===void 0&&(a=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(a,m.value.length);else if(a=(u=m.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var M=m.textContent.length,$=Math.min(R.start,M);R=R.end===void 0?$:Math.min(R.end,M),!a.extend&&$>R&&(M=R,R=$,$=M),M=lt(m,$);var oe=lt(m,R);M&&oe&&(a.rangeCount!==1||a.anchorNode!==M.node||a.anchorOffset!==M.offset||a.focusNode!==oe.node||a.focusOffset!==oe.offset)&&(u=u.createRange(),u.setStart(M.node,M.offset),a.removeAllRanges(),$>R?(a.addRange(u),a.extend(oe.node,oe.offset)):(u.setEnd(oe.node,oe.offset),a.addRange(u)))}}for(u=[],a=m;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)a=u[m],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var _t=c&&"documentMode"in document&&11>=document.documentMode,Ot=null,Xt=null,rn=null,Qt=!1;function en(a,u,m){var R=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Qt||Ot==null||Ot!==K(R)||(R=Ot,"selectionStart"in R&&xt(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),rn&&ht(rn,R)||(rn=R,R=Zo(Xt,"onSelect"),0<R.length&&(u=new Qn("onSelect","select",null,u,m),a.push({event:u,listeners:R}),u.target=Ot)))}function at(a,u){var m={};return m[a.toLowerCase()]=u.toLowerCase(),m["Webkit"+a]="webkit"+u,m["Moz"+a]="moz"+u,m}var At={animationend:at("Animation","AnimationEnd"),animationiteration:at("Animation","AnimationIteration"),animationstart:at("Animation","AnimationStart"),transitionend:at("Transition","TransitionEnd")},jt={},un={};c&&(un=document.createElement("div").style,"AnimationEvent"in window||(delete At.animationend.animation,delete At.animationiteration.animation,delete At.animationstart.animation),"TransitionEvent"in window||delete At.transitionend.transition);function fn(a){if(jt[a])return jt[a];if(!At[a])return a;var u=At[a],m;for(m in u)if(u.hasOwnProperty(m)&&m in un)return jt[a]=u[m];return a}var an=fn("animationend"),sr=fn("animationiteration"),Ln=fn("animationstart"),Vr=fn("transitionend"),jr=new Map,xi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(a,u){jr.set(a,u),o(u,[a])}for(var Ni=0;Ni<xi.length;Ni++){var Yi=xi[Ni],Ds=Yi.toLowerCase(),Pd=Yi[0].toUpperCase()+Yi.slice(1);Ar(Ds,"on"+Pd)}Ar(an,"onAnimationEnd"),Ar(sr,"onAnimationIteration"),Ar(Ln,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Vr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dd=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function Eu(a,u,m){var R=a.type||"unknown-event";a.currentTarget=m,br(R,u,void 0,a),a.currentTarget=null}function wu(a,u){u=(u&4)!==0;for(var m=0;m<a.length;m++){var R=a[m],M=R.event;R=R.listeners;e:{var $=void 0;if(u)for(var oe=R.length-1;0<=oe;oe--){var Le=R[oe],Ge=Le.instance,Ct=Le.currentTarget;if(Le=Le.listener,Ge!==$&&M.isPropagationStopped())break e;Eu(M,Le,Ct),$=Ge}else for(oe=0;oe<R.length;oe++){if(Le=R[oe],Ge=Le.instance,Ct=Le.currentTarget,Le=Le.listener,Ge!==$&&M.isPropagationStopped())break e;Eu(M,Le,Ct),$=Ge}}}if(Kn)throw a=Mn,Kn=!1,Mn=null,a}function Lr(a,u){var m=u[Ya];m===void 0&&(m=u[Ya]=new Set);var R=a+"__bubble";m.has(R)||(Su(u,a,2,!1),m.add(R))}function Va(a,u,m){var R=0;u&&(R|=4),Su(m,a,R,u)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function Po(a){if(!a[Yo]){a[Yo]=!0,i.forEach(function(m){m!=="selectionchange"&&(Dd.has(m)||Va(m,!1,a),Va(m,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Yo]||(u[Yo]=!0,Va("selectionchange",!1,u))}}function Su(a,u,m,R){switch(Yt(u)){case 1:var M=tt;break;case 4:M=Qe;break;default:M=kt}m=M.bind(null,u,m,a),M=void 0,!Zt||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(M=!0),R?M!==void 0?a.addEventListener(u,m,{capture:!0,passive:M}):a.addEventListener(u,m,!0):M!==void 0?a.addEventListener(u,m,{passive:M}):a.addEventListener(u,m,!1)}function qa(a,u,m,R,M){var $=R;if(!(u&1)&&!(u&2)&&R!==null)e:for(;;){if(R===null)return;var oe=R.tag;if(oe===3||oe===4){var Le=R.stateNode.containerInfo;if(Le===M||Le.nodeType===8&&Le.parentNode===M)break;if(oe===4)for(oe=R.return;oe!==null;){var Ge=oe.tag;if((Ge===3||Ge===4)&&(Ge=oe.stateNode.containerInfo,Ge===M||Ge.nodeType===8&&Ge.parentNode===M))return;oe=oe.return}for(;Le!==null;){if(oe=Ks(Le),oe===null)return;if(Ge=oe.tag,Ge===5||Ge===6){R=$=oe;continue e}Le=Le.parentNode}}R=R.return}Be(function(){var Ct=$,Ht=Dt(m),Jt=[];e:{var qt=jr.get(a);if(qt!==void 0){var yn=Qn,Tn=a;switch(a){case"keypress":if(xn(m)===0)break e;case"keydown":case"keyup":yn=Fn;break;case"focusin":Tn="focus",yn=yr;break;case"focusout":Tn="blur",yn=yr;break;case"beforeblur":case"afterblur":yn=yr;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yn=xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yn=Tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yn=Gn;break;case an:case sr:case Ln:yn=ci;break;case Vr:yn=lr;break;case"scroll":yn=Jn;break;case"wheel":yn=fi;break;case"copy":case"cut":case"paste":yn=Cr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yn=on}var Rn=(u&4)!==0,Kr=!Rn&&a==="scroll",bt=Rn?qt!==null?qt+"Capture":null:qt;Rn=[];for(var st=Ct,wt;st!==null;){wt=st;var sn=wt.stateNode;if(wt.tag===5&&sn!==null&&(wt=sn,bt!==null&&(sn=ft(st,bt),sn!=null&&Rn.push(Do(st,sn,wt)))),Kr)break;st=st.return}0<Rn.length&&(qt=new yn(qt,Tn,null,m,Ht),Jt.push({event:qt,listeners:Rn}))}}if(!(u&7)){e:{if(qt=a==="mouseover"||a==="pointerover",yn=a==="mouseout"||a==="pointerout",qt&&m!==It&&(Tn=m.relatedTarget||m.fromElement)&&(Ks(Tn)||Tn[Ss]))break e;if((yn||qt)&&(qt=Ht.window===Ht?Ht:(qt=Ht.ownerDocument)?qt.defaultView||qt.parentWindow:window,yn?(Tn=m.relatedTarget||m.toElement,yn=Ct,Tn=Tn?Ks(Tn):null,Tn!==null&&(Kr=dr(Tn),Tn!==Kr||Tn.tag!==5&&Tn.tag!==6)&&(Tn=null)):(yn=null,Tn=Ct),yn!==Tn)){if(Rn=xr,sn="onMouseLeave",bt="onMouseEnter",st="mouse",(a==="pointerout"||a==="pointerover")&&(Rn=on,sn="onPointerLeave",bt="onPointerEnter",st="pointer"),Kr=yn==null?qt:co(yn),wt=Tn==null?qt:co(Tn),qt=new Rn(sn,st+"leave",yn,m,Ht),qt.target=Kr,qt.relatedTarget=wt,sn=null,Ks(Ht)===Ct&&(Rn=new Rn(bt,st+"enter",Tn,m,Ht),Rn.target=wt,Rn.relatedTarget=Kr,sn=Rn),Kr=sn,yn&&Tn)t:{for(Rn=yn,bt=Tn,st=0,wt=Rn;wt;wt=lo(wt))st++;for(wt=0,sn=bt;sn;sn=lo(sn))wt++;for(;0<st-wt;)Rn=lo(Rn),st--;for(;0<wt-st;)bt=lo(bt),wt--;for(;st--;){if(Rn===bt||bt!==null&&Rn===bt.alternate)break t;Rn=lo(Rn),bt=lo(bt)}Rn=null}else Rn=null;yn!==null&&_u(Jt,qt,yn,Rn,!1),Tn!==null&&Kr!==null&&_u(Jt,Kr,Tn,Rn,!0)}}e:{if(qt=Ct?co(Ct):window,yn=qt.nodeName&&qt.nodeName.toLowerCase(),yn==="select"||yn==="input"&&qt.type==="file")var Pn=ao;else if(ws(qt))if(A)Pn=nt;else{Pn=je;var $n=_e}else(yn=qt.nodeName)&&yn.toLowerCase()==="input"&&(qt.type==="checkbox"||qt.type==="radio")&&(Pn=Ze);if(Pn&&(Pn=Pn(a,Ct))){Gs(Jt,Pn,m,Ht);break e}$n&&$n(a,qt,Ct),a==="focusout"&&($n=qt._wrapperState)&&$n.controlled&&qt.type==="number"&&Fe(qt,"number",qt.value)}switch($n=Ct?co(Ct):window,a){case"focusin":(ws($n)||$n.contentEditable==="true")&&(Ot=$n,Xt=Ct,rn=null);break;case"focusout":rn=Xt=Ot=null;break;case"mousedown":Qt=!0;break;case"contextmenu":case"mouseup":case"dragend":Qt=!1,en(Jt,m,Ht);break;case"selectionchange":if(_t)break;case"keydown":case"keyup":en(Jt,m,Ht)}var Un;if(Dr)e:{switch(a){case"compositionstart":var Xn="onCompositionStart";break e;case"compositionend":Xn="onCompositionEnd";break e;case"compositionupdate":Xn="onCompositionUpdate";break e}Xn=void 0}else ar?Ii(a,m)&&(Xn="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(Xn="onCompositionStart");Xn&&(Nr&&m.locale!=="ko"&&(ar||Xn!=="onCompositionStart"?Xn==="onCompositionEnd"&&ar&&(Un=bn()):(Bt=Ht,$t="value"in Bt?Bt.value:Bt.textContent,ar=!0)),$n=Zo(Ct,Xn),0<$n.length&&(Xn=new yi(Xn,a,null,m,Ht),Jt.push({event:Xn,listeners:$n}),Un?Xn.data=Un:(Un=hi(m),Un!==null&&(Xn.data=Un)))),(Un=mr?Xi(a,m):bi(a,m))&&(Ct=Zo(Ct,"onBeforeInput"),0<Ct.length&&(Ht=new yi("onBeforeInput","beforeinput",null,m,Ht),Jt.push({event:Ht,listeners:Ct}),Ht.data=Un))}wu(Jt,u)})}function Do(a,u,m){return{instance:a,listener:u,currentTarget:m}}function Zo(a,u){for(var m=u+"Capture",R=[];a!==null;){var M=a,$=M.stateNode;M.tag===5&&$!==null&&(M=$,$=ft(a,m),$!=null&&R.unshift(Do(a,$,M)),$=ft(a,u),$!=null&&R.push(Do(a,$,M))),a=a.return}return R}function lo(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function _u(a,u,m,R,M){for(var $=u._reactName,oe=[];m!==null&&m!==R;){var Le=m,Ge=Le.alternate,Ct=Le.stateNode;if(Ge!==null&&Ge===R)break;Le.tag===5&&Ct!==null&&(Le=Ct,M?(Ge=ft(m,$),Ge!=null&&oe.unshift(Do(m,Ge,Le))):M||(Ge=ft(m,$),Ge!=null&&oe.push(Do(m,Ge,Le)))),m=m.return}oe.length!==0&&a.push({event:u,listeners:oe})}var Od=/\r\n?/g,Id=/\u0000|\uFFFD/g;function Cu(a){return(typeof a=="string"?a:""+a).replace(Od,`
`).replace(Id,"")}function Qo(a,u,m){if(u=Cu(u),Cu(a)!==u&&m)throw Error(n(425))}function Jo(){}var Wa=null,Ha=null;function Ga(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Ka=typeof setTimeout=="function"?setTimeout:void 0,Nd=typeof clearTimeout=="function"?clearTimeout:void 0,Au=typeof Promise=="function"?Promise:void 0,Ld=typeof queueMicrotask=="function"?queueMicrotask:typeof Au<"u"?function(a){return Au.resolve(null).then(a).catch(Md)}:Ka;function Md(a){setTimeout(function(){throw a})}function Xa(a,u){var m=u,R=0;do{var M=m.nextSibling;if(a.removeChild(m),M&&M.nodeType===8)if(m=M.data,m==="/$"){if(R===0){a.removeChild(M),et(u);return}R--}else m!=="$"&&m!=="$?"&&m!=="$!"||R++;m=M}while(m);et(u)}function Os(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function Tu(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return a;u--}else m==="/$"&&u++}a=a.previousSibling}return null}var uo=Math.random().toString(36).slice(2),ms="__reactFiber$"+uo,Oo="__reactProps$"+uo,Ss="__reactContainer$"+uo,Ya="__reactEvents$"+uo,Fd="__reactListeners$"+uo,Bd="__reactHandles$"+uo;function Ks(a){var u=a[ms];if(u)return u;for(var m=a.parentNode;m;){if(u=m[Ss]||m[ms]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(a=Tu(a);a!==null;){if(m=a[ms])return m;a=Tu(a)}return u}a=m,m=a.parentNode}return null}function Io(a){return a=a[ms]||a[Ss],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function co(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function ea(a){return a[Oo]||null}var Za=[],fo=-1;function Is(a){return{current:a}}function Mr(a){0>fo||(a.current=Za[fo],Za[fo]=null,fo--)}function Or(a,u){fo++,Za[fo]=a.current,a.current=u}var Ns={},Ei=Is(Ns),Li=Is(!1),Xs=Ns;function ho(a,u){var m=a.type.contextTypes;if(!m)return Ns;var R=a.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===u)return R.__reactInternalMemoizedMaskedChildContext;var M={},$;for($ in m)M[$]=u[$];return R&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=M),M}function Mi(a){return a=a.childContextTypes,a!=null}function ta(){Mr(Li),Mr(Ei)}function Ru(a,u,m){if(Ei.current!==Ns)throw Error(n(168));Or(Ei,u),Or(Li,m)}function ku(a,u,m){var R=a.stateNode;if(u=u.childContextTypes,typeof R.getChildContext!="function")return m;R=R.getChildContext();for(var M in R)if(!(M in u))throw Error(n(108,he(a)||"Unknown",M));return ke({},m,R)}function na(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ns,Xs=Ei.current,Or(Ei,a),Or(Li,Li.current),!0}function Pu(a,u,m){var R=a.stateNode;if(!R)throw Error(n(169));m?(a=ku(a,u,Xs),R.__reactInternalMemoizedMergedChildContext=a,Mr(Li),Mr(Ei),Or(Ei,a)):Mr(Li),Or(Li,m)}var _s=null,ra=!1,Qa=!1;function Du(a){_s===null?_s=[a]:_s.push(a)}function jd(a){ra=!0,Du(a)}function Ls(){if(!Qa&&_s!==null){Qa=!0;var a=0,u=Nn;try{var m=_s;for(Nn=1;a<m.length;a++){var R=m[a];do R=R(!0);while(R!==null)}_s=null,ra=!1}catch(M){throw _s!==null&&(_s=_s.slice(a+1)),Xr(Jr,Ls),M}finally{Nn=u,Qa=!1}}return null}var po=[],mo=0,ia=null,sa=0,Zi=[],Qi=0,Ys=null,Cs=1,As="";function Zs(a,u){po[mo++]=sa,po[mo++]=ia,ia=a,sa=u}function Ou(a,u,m){Zi[Qi++]=Cs,Zi[Qi++]=As,Zi[Qi++]=Ys,Ys=a;var R=Cs;a=As;var M=32-jn(R)-1;R&=~(1<<M),m+=1;var $=32-jn(u)+M;if(30<$){var oe=M-M%5;$=(R&(1<<oe)-1).toString(32),R>>=oe,M-=oe,Cs=1<<32-jn(u)+M|m<<M|R,As=$+a}else Cs=1<<$|m<<M|R,As=a}function Ja(a){a.return!==null&&(Zs(a,1),Ou(a,1,0))}function el(a){for(;a===ia;)ia=po[--mo],po[mo]=null,sa=po[--mo],po[mo]=null;for(;a===Ys;)Ys=Zi[--Qi],Zi[Qi]=null,As=Zi[--Qi],Zi[Qi]=null,Cs=Zi[--Qi],Zi[Qi]=null}var qi=null,Wi=null,zr=!1,us=null;function Iu(a,u){var m=ns(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=a,u=a.deletions,u===null?(a.deletions=[m],a.flags|=16):u.push(m)}function Nu(a,u){switch(a.tag){case 5:var m=a.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,qi=a,Wi=Os(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,qi=a,Wi=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=Ys!==null?{id:Cs,overflow:As}:null,a.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=ns(18,null,null,0),m.stateNode=u,m.return=a,a.child=m,qi=a,Wi=null,!0):!1;default:return!1}}function tl(a){return(a.mode&1)!==0&&(a.flags&128)===0}function nl(a){if(zr){var u=Wi;if(u){var m=u;if(!Nu(a,u)){if(tl(a))throw Error(n(418));u=Os(m.nextSibling);var R=qi;u&&Nu(a,u)?Iu(R,m):(a.flags=a.flags&-4097|2,zr=!1,qi=a)}}else{if(tl(a))throw Error(n(418));a.flags=a.flags&-4097|2,zr=!1,qi=a}}}function Lu(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;qi=a}function oa(a){if(a!==qi)return!1;if(!zr)return Lu(a),zr=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!Ga(a.type,a.memoizedProps)),u&&(u=Wi)){if(tl(a))throw Mu(),Error(n(418));for(;u;)Iu(a,u),u=Os(u.nextSibling)}if(Lu(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="/$"){if(u===0){Wi=Os(a.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}a=a.nextSibling}Wi=null}}else Wi=qi?Os(a.stateNode.nextSibling):null;return!0}function Mu(){for(var a=Wi;a;)a=Os(a.nextSibling)}function go(){Wi=qi=null,zr=!1}function rl(a){us===null?us=[a]:us.push(a)}var zd=k.ReactCurrentBatchConfig;function No(a,u,m){if(a=m.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var R=m.stateNode}if(!R)throw Error(n(147,a));var M=R,$=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===$?u.ref:(u=function(oe){var Le=M.refs;oe===null?delete Le[$]:Le[$]=oe},u._stringRef=$,u)}if(typeof a!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,a))}return a}function aa(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function Fu(a){var u=a._init;return u(a._payload)}function Bu(a){function u(bt,st){if(a){var wt=bt.deletions;wt===null?(bt.deletions=[st],bt.flags|=16):wt.push(st)}}function m(bt,st){if(!a)return null;for(;st!==null;)u(bt,st),st=st.sibling;return null}function R(bt,st){for(bt=new Map;st!==null;)st.key!==null?bt.set(st.key,st):bt.set(st.index,st),st=st.sibling;return bt}function M(bt,st){return bt=Vs(bt,st),bt.index=0,bt.sibling=null,bt}function $(bt,st,wt){return bt.index=wt,a?(wt=bt.alternate,wt!==null?(wt=wt.index,wt<st?(bt.flags|=2,st):wt):(bt.flags|=2,st)):(bt.flags|=1048576,st)}function oe(bt){return a&&bt.alternate===null&&(bt.flags|=2),bt}function Le(bt,st,wt,sn){return st===null||st.tag!==6?(st=Kl(wt,bt.mode,sn),st.return=bt,st):(st=M(st,wt),st.return=bt,st)}function Ge(bt,st,wt,sn){var Pn=wt.type;return Pn===F?Ht(bt,st,wt.props.children,sn,wt.key):st!==null&&(st.elementType===Pn||typeof Pn=="object"&&Pn!==null&&Pn.$$typeof===me&&Fu(Pn)===st.type)?(sn=M(st,wt.props),sn.ref=No(bt,st,wt),sn.return=bt,sn):(sn=Da(wt.type,wt.key,wt.props,null,bt.mode,sn),sn.ref=No(bt,st,wt),sn.return=bt,sn)}function Ct(bt,st,wt,sn){return st===null||st.tag!==4||st.stateNode.containerInfo!==wt.containerInfo||st.stateNode.implementation!==wt.implementation?(st=Xl(wt,bt.mode,sn),st.return=bt,st):(st=M(st,wt.children||[]),st.return=bt,st)}function Ht(bt,st,wt,sn,Pn){return st===null||st.tag!==7?(st=so(wt,bt.mode,sn,Pn),st.return=bt,st):(st=M(st,wt),st.return=bt,st)}function Jt(bt,st,wt){if(typeof st=="string"&&st!==""||typeof st=="number")return st=Kl(""+st,bt.mode,wt),st.return=bt,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case T:return wt=Da(st.type,st.key,st.props,null,bt.mode,wt),wt.ref=No(bt,null,st),wt.return=bt,wt;case L:return st=Xl(st,bt.mode,wt),st.return=bt,st;case me:var sn=st._init;return Jt(bt,sn(st._payload),wt)}if(it(st)||be(st))return st=so(st,bt.mode,wt,null),st.return=bt,st;aa(bt,st)}return null}function qt(bt,st,wt,sn){var Pn=st!==null?st.key:null;if(typeof wt=="string"&&wt!==""||typeof wt=="number")return Pn!==null?null:Le(bt,st,""+wt,sn);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case T:return wt.key===Pn?Ge(bt,st,wt,sn):null;case L:return wt.key===Pn?Ct(bt,st,wt,sn):null;case me:return Pn=wt._init,qt(bt,st,Pn(wt._payload),sn)}if(it(wt)||be(wt))return Pn!==null?null:Ht(bt,st,wt,sn,null);aa(bt,wt)}return null}function yn(bt,st,wt,sn,Pn){if(typeof sn=="string"&&sn!==""||typeof sn=="number")return bt=bt.get(wt)||null,Le(st,bt,""+sn,Pn);if(typeof sn=="object"&&sn!==null){switch(sn.$$typeof){case T:return bt=bt.get(sn.key===null?wt:sn.key)||null,Ge(st,bt,sn,Pn);case L:return bt=bt.get(sn.key===null?wt:sn.key)||null,Ct(st,bt,sn,Pn);case me:var $n=sn._init;return yn(bt,st,wt,$n(sn._payload),Pn)}if(it(sn)||be(sn))return bt=bt.get(wt)||null,Ht(st,bt,sn,Pn,null);aa(st,sn)}return null}function Tn(bt,st,wt,sn){for(var Pn=null,$n=null,Un=st,Xn=st=0,li=null;Un!==null&&Xn<wt.length;Xn++){Un.index>Xn?(li=Un,Un=null):li=Un.sibling;var gr=qt(bt,Un,wt[Xn],sn);if(gr===null){Un===null&&(Un=li);break}a&&Un&&gr.alternate===null&&u(bt,Un),st=$(gr,st,Xn),$n===null?Pn=gr:$n.sibling=gr,$n=gr,Un=li}if(Xn===wt.length)return m(bt,Un),zr&&Zs(bt,Xn),Pn;if(Un===null){for(;Xn<wt.length;Xn++)Un=Jt(bt,wt[Xn],sn),Un!==null&&(st=$(Un,st,Xn),$n===null?Pn=Un:$n.sibling=Un,$n=Un);return zr&&Zs(bt,Xn),Pn}for(Un=R(bt,Un);Xn<wt.length;Xn++)li=yn(Un,bt,Xn,wt[Xn],sn),li!==null&&(a&&li.alternate!==null&&Un.delete(li.key===null?Xn:li.key),st=$(li,st,Xn),$n===null?Pn=li:$n.sibling=li,$n=li);return a&&Un.forEach(function(Ws){return u(bt,Ws)}),zr&&Zs(bt,Xn),Pn}function Rn(bt,st,wt,sn){var Pn=be(wt);if(typeof Pn!="function")throw Error(n(150));if(wt=Pn.call(wt),wt==null)throw Error(n(151));for(var $n=Pn=null,Un=st,Xn=st=0,li=null,gr=wt.next();Un!==null&&!gr.done;Xn++,gr=wt.next()){Un.index>Xn?(li=Un,Un=null):li=Un.sibling;var Ws=qt(bt,Un,gr.value,sn);if(Ws===null){Un===null&&(Un=li);break}a&&Un&&Ws.alternate===null&&u(bt,Un),st=$(Ws,st,Xn),$n===null?Pn=Ws:$n.sibling=Ws,$n=Ws,Un=li}if(gr.done)return m(bt,Un),zr&&Zs(bt,Xn),Pn;if(Un===null){for(;!gr.done;Xn++,gr=wt.next())gr=Jt(bt,gr.value,sn),gr!==null&&(st=$(gr,st,Xn),$n===null?Pn=gr:$n.sibling=gr,$n=gr);return zr&&Zs(bt,Xn),Pn}for(Un=R(bt,Un);!gr.done;Xn++,gr=wt.next())gr=yn(Un,bt,Xn,gr.value,sn),gr!==null&&(a&&gr.alternate!==null&&Un.delete(gr.key===null?Xn:gr.key),st=$(gr,st,Xn),$n===null?Pn=gr:$n.sibling=gr,$n=gr);return a&&Un.forEach(function(bf){return u(bt,bf)}),zr&&Zs(bt,Xn),Pn}function Kr(bt,st,wt,sn){if(typeof wt=="object"&&wt!==null&&wt.type===F&&wt.key===null&&(wt=wt.props.children),typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case T:e:{for(var Pn=wt.key,$n=st;$n!==null;){if($n.key===Pn){if(Pn=wt.type,Pn===F){if($n.tag===7){m(bt,$n.sibling),st=M($n,wt.props.children),st.return=bt,bt=st;break e}}else if($n.elementType===Pn||typeof Pn=="object"&&Pn!==null&&Pn.$$typeof===me&&Fu(Pn)===$n.type){m(bt,$n.sibling),st=M($n,wt.props),st.ref=No(bt,$n,wt),st.return=bt,bt=st;break e}m(bt,$n);break}else u(bt,$n);$n=$n.sibling}wt.type===F?(st=so(wt.props.children,bt.mode,sn,wt.key),st.return=bt,bt=st):(sn=Da(wt.type,wt.key,wt.props,null,bt.mode,sn),sn.ref=No(bt,st,wt),sn.return=bt,bt=sn)}return oe(bt);case L:e:{for($n=wt.key;st!==null;){if(st.key===$n)if(st.tag===4&&st.stateNode.containerInfo===wt.containerInfo&&st.stateNode.implementation===wt.implementation){m(bt,st.sibling),st=M(st,wt.children||[]),st.return=bt,bt=st;break e}else{m(bt,st);break}else u(bt,st);st=st.sibling}st=Xl(wt,bt.mode,sn),st.return=bt,bt=st}return oe(bt);case me:return $n=wt._init,Kr(bt,st,$n(wt._payload),sn)}if(it(wt))return Tn(bt,st,wt,sn);if(be(wt))return Rn(bt,st,wt,sn);aa(bt,wt)}return typeof wt=="string"&&wt!==""||typeof wt=="number"?(wt=""+wt,st!==null&&st.tag===6?(m(bt,st.sibling),st=M(st,wt),st.return=bt,bt=st):(m(bt,st),st=Kl(wt,bt.mode,sn),st.return=bt,bt=st),oe(bt)):m(bt,st)}return Kr}var vo=Bu(!0),ju=Bu(!1),la=Is(null),ua=null,yo=null,il=null;function sl(){il=yo=ua=null}function ol(a){var u=la.current;Mr(la),a._currentValue=u}function al(a,u,m){for(;a!==null;){var R=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,R!==null&&(R.childLanes|=u)):R!==null&&(R.childLanes&u)!==u&&(R.childLanes|=u),a===m)break;a=a.return}}function bo(a,u){ua=a,il=yo=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(Fi=!0),a.firstContext=null)}function Ji(a){var u=a._currentValue;if(il!==a)if(a={context:a,memoizedValue:u,next:null},yo===null){if(ua===null)throw Error(n(308));yo=a,ua.dependencies={lanes:0,firstContext:a}}else yo=yo.next=a;return u}var Qs=null;function ll(a){Qs===null?Qs=[a]:Qs.push(a)}function zu(a,u,m,R){var M=u.interleaved;return M===null?(m.next=m,ll(u)):(m.next=M.next,M.next=m),u.interleaved=m,Ts(a,R)}function Ts(a,u){a.lanes|=u;var m=a.alternate;for(m!==null&&(m.lanes|=u),m=a,a=a.return;a!==null;)a.childLanes|=u,m=a.alternate,m!==null&&(m.childLanes|=u),m=a,a=a.return;return m.tag===3?m.stateNode:null}var Ms=!1;function ul(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $u(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Rs(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Fs(a,u,m){var R=a.updateQueue;if(R===null)return null;if(R=R.shared,cr&2){var M=R.pending;return M===null?u.next=u:(u.next=M.next,M.next=u),R.pending=u,Ts(a,m)}return M=R.interleaved,M===null?(u.next=u,ll(R)):(u.next=M.next,M.next=u),R.interleaved=u,Ts(a,m)}function ca(a,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var R=u.lanes;R&=a.pendingLanes,m|=R,u.lanes=m,rr(a,m)}}function Uu(a,u){var m=a.updateQueue,R=a.alternate;if(R!==null&&(R=R.updateQueue,m===R)){var M=null,$=null;if(m=m.firstBaseUpdate,m!==null){do{var oe={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};$===null?M=$=oe:$=$.next=oe,m=m.next}while(m!==null);$===null?M=$=u:$=$.next=u}else M=$=u;m={baseState:R.baseState,firstBaseUpdate:M,lastBaseUpdate:$,shared:R.shared,effects:R.effects},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=u:a.next=u,m.lastBaseUpdate=u}function da(a,u,m,R){var M=a.updateQueue;Ms=!1;var $=M.firstBaseUpdate,oe=M.lastBaseUpdate,Le=M.shared.pending;if(Le!==null){M.shared.pending=null;var Ge=Le,Ct=Ge.next;Ge.next=null,oe===null?$=Ct:oe.next=Ct,oe=Ge;var Ht=a.alternate;Ht!==null&&(Ht=Ht.updateQueue,Le=Ht.lastBaseUpdate,Le!==oe&&(Le===null?Ht.firstBaseUpdate=Ct:Le.next=Ct,Ht.lastBaseUpdate=Ge))}if($!==null){var Jt=M.baseState;oe=0,Ht=Ct=Ge=null,Le=$;do{var qt=Le.lane,yn=Le.eventTime;if((R&qt)===qt){Ht!==null&&(Ht=Ht.next={eventTime:yn,lane:0,tag:Le.tag,payload:Le.payload,callback:Le.callback,next:null});e:{var Tn=a,Rn=Le;switch(qt=u,yn=m,Rn.tag){case 1:if(Tn=Rn.payload,typeof Tn=="function"){Jt=Tn.call(yn,Jt,qt);break e}Jt=Tn;break e;case 3:Tn.flags=Tn.flags&-65537|128;case 0:if(Tn=Rn.payload,qt=typeof Tn=="function"?Tn.call(yn,Jt,qt):Tn,qt==null)break e;Jt=ke({},Jt,qt);break e;case 2:Ms=!0}}Le.callback!==null&&Le.lane!==0&&(a.flags|=64,qt=M.effects,qt===null?M.effects=[Le]:qt.push(Le))}else yn={eventTime:yn,lane:qt,tag:Le.tag,payload:Le.payload,callback:Le.callback,next:null},Ht===null?(Ct=Ht=yn,Ge=Jt):Ht=Ht.next=yn,oe|=qt;if(Le=Le.next,Le===null){if(Le=M.shared.pending,Le===null)break;qt=Le,Le=qt.next,qt.next=null,M.lastBaseUpdate=qt,M.shared.pending=null}}while(!0);if(Ht===null&&(Ge=Jt),M.baseState=Ge,M.firstBaseUpdate=Ct,M.lastBaseUpdate=Ht,u=M.shared.interleaved,u!==null){M=u;do oe|=M.lane,M=M.next;while(M!==u)}else $===null&&(M.shared.lanes=0);to|=oe,a.lanes=oe,a.memoizedState=Jt}}function Vu(a,u,m){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var R=a[u],M=R.callback;if(M!==null){if(R.callback=null,R=m,typeof M!="function")throw Error(n(191,M));M.call(R)}}}var Lo={},gs=Is(Lo),Mo=Is(Lo),Fo=Is(Lo);function Js(a){if(a===Lo)throw Error(n(174));return a}function cl(a,u){switch(Or(Fo,u),Or(Mo,a),Or(gs,Lo),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:yt(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=yt(u,a)}Mr(gs),Or(gs,u)}function xo(){Mr(gs),Mr(Mo),Mr(Fo)}function qu(a){Js(Fo.current);var u=Js(gs.current),m=yt(u,a.type);u!==m&&(Or(Mo,a),Or(gs,m))}function dl(a){Mo.current===a&&(Mr(gs),Mr(Mo))}var qr=Is(0);function fa(a){for(var u=a;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var fl=[];function hl(){for(var a=0;a<fl.length;a++)fl[a]._workInProgressVersionPrimary=null;fl.length=0}var ha=k.ReactCurrentDispatcher,pl=k.ReactCurrentBatchConfig,eo=0,Wr=null,ti=null,oi=null,pa=!1,Bo=!1,jo=0,$d=0;function wi(){throw Error(n(321))}function ml(a,u){if(u===null)return!1;for(var m=0;m<u.length&&m<a.length;m++)if(!ze(a[m],u[m]))return!1;return!0}function gl(a,u,m,R,M,$){if(eo=$,Wr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ha.current=a===null||a.memoizedState===null?Wd:Hd,a=m(R,M),Bo){$=0;do{if(Bo=!1,jo=0,25<=$)throw Error(n(301));$+=1,oi=ti=null,u.updateQueue=null,ha.current=Gd,a=m(R,M)}while(Bo)}if(ha.current=va,u=ti!==null&&ti.next!==null,eo=0,oi=ti=Wr=null,pa=!1,u)throw Error(n(300));return a}function vl(){var a=jo!==0;return jo=0,a}function vs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?Wr.memoizedState=oi=a:oi=oi.next=a,oi}function es(){if(ti===null){var a=Wr.alternate;a=a!==null?a.memoizedState:null}else a=ti.next;var u=oi===null?Wr.memoizedState:oi.next;if(u!==null)oi=u,ti=a;else{if(a===null)throw Error(n(310));ti=a,a={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},oi===null?Wr.memoizedState=oi=a:oi=oi.next=a}return oi}function zo(a,u){return typeof u=="function"?u(a):u}function yl(a){var u=es(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var R=ti,M=R.baseQueue,$=m.pending;if($!==null){if(M!==null){var oe=M.next;M.next=$.next,$.next=oe}R.baseQueue=M=$,m.pending=null}if(M!==null){$=M.next,R=R.baseState;var Le=oe=null,Ge=null,Ct=$;do{var Ht=Ct.lane;if((eo&Ht)===Ht)Ge!==null&&(Ge=Ge.next={lane:0,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null}),R=Ct.hasEagerState?Ct.eagerState:a(R,Ct.action);else{var Jt={lane:Ht,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null};Ge===null?(Le=Ge=Jt,oe=R):Ge=Ge.next=Jt,Wr.lanes|=Ht,to|=Ht}Ct=Ct.next}while(Ct!==null&&Ct!==$);Ge===null?oe=R:Ge.next=Le,ze(R,u.memoizedState)||(Fi=!0),u.memoizedState=R,u.baseState=oe,u.baseQueue=Ge,m.lastRenderedState=R}if(a=m.interleaved,a!==null){M=a;do $=M.lane,Wr.lanes|=$,to|=$,M=M.next;while(M!==a)}else M===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function bl(a){var u=es(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var R=m.dispatch,M=m.pending,$=u.memoizedState;if(M!==null){m.pending=null;var oe=M=M.next;do $=a($,oe.action),oe=oe.next;while(oe!==M);ze($,u.memoizedState)||(Fi=!0),u.memoizedState=$,u.baseQueue===null&&(u.baseState=$),m.lastRenderedState=$}return[$,R]}function Wu(){}function Hu(a,u){var m=Wr,R=es(),M=u(),$=!ze(R.memoizedState,M);if($&&(R.memoizedState=M,Fi=!0),R=R.queue,xl(Xu.bind(null,m,R,a),[a]),R.getSnapshot!==u||$||oi!==null&&oi.memoizedState.tag&1){if(m.flags|=2048,$o(9,Ku.bind(null,m,R,M,u),void 0,null),ai===null)throw Error(n(349));eo&30||Gu(m,u,M)}return M}function Gu(a,u,m){a.flags|=16384,a={getSnapshot:u,value:m},u=Wr.updateQueue,u===null?(u={lastEffect:null,stores:null},Wr.updateQueue=u,u.stores=[a]):(m=u.stores,m===null?u.stores=[a]:m.push(a))}function Ku(a,u,m,R){u.value=m,u.getSnapshot=R,Yu(u)&&Zu(a)}function Xu(a,u,m){return m(function(){Yu(u)&&Zu(a)})}function Yu(a){var u=a.getSnapshot;a=a.value;try{var m=u();return!ze(a,m)}catch{return!0}}function Zu(a){var u=Ts(a,1);u!==null&&hs(u,a,1,-1)}function Qu(a){var u=vs();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:a},u.queue=a,a=a.dispatch=qd.bind(null,Wr,a),[u.memoizedState,a]}function $o(a,u,m,R){return a={tag:a,create:u,destroy:m,deps:R,next:null},u=Wr.updateQueue,u===null?(u={lastEffect:null,stores:null},Wr.updateQueue=u,u.lastEffect=a.next=a):(m=u.lastEffect,m===null?u.lastEffect=a.next=a:(R=m.next,m.next=a,a.next=R,u.lastEffect=a)),a}function Ju(){return es().memoizedState}function ma(a,u,m,R){var M=vs();Wr.flags|=a,M.memoizedState=$o(1|u,m,void 0,R===void 0?null:R)}function ga(a,u,m,R){var M=es();R=R===void 0?null:R;var $=void 0;if(ti!==null){var oe=ti.memoizedState;if($=oe.destroy,R!==null&&ml(R,oe.deps)){M.memoizedState=$o(u,m,$,R);return}}Wr.flags|=a,M.memoizedState=$o(1|u,m,$,R)}function ec(a,u){return ma(8390656,8,a,u)}function xl(a,u){return ga(2048,8,a,u)}function tc(a,u){return ga(4,2,a,u)}function nc(a,u){return ga(4,4,a,u)}function rc(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function ic(a,u,m){return m=m!=null?m.concat([a]):null,ga(4,4,rc.bind(null,u,a),m)}function El(){}function sc(a,u){var m=es();u=u===void 0?null:u;var R=m.memoizedState;return R!==null&&u!==null&&ml(u,R[1])?R[0]:(m.memoizedState=[a,u],a)}function oc(a,u){var m=es();u=u===void 0?null:u;var R=m.memoizedState;return R!==null&&u!==null&&ml(u,R[1])?R[0]:(a=a(),m.memoizedState=[a,u],a)}function ac(a,u,m){return eo&21?(ze(m,u)||(m=tn(),Wr.lanes|=m,to|=m,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,Fi=!0),a.memoizedState=m)}function Ud(a,u){var m=Nn;Nn=m!==0&&4>m?m:4,a(!0);var R=pl.transition;pl.transition={};try{a(!1),u()}finally{Nn=m,pl.transition=R}}function lc(){return es().memoizedState}function Vd(a,u,m){var R=$s(a);if(m={lane:R,action:m,hasEagerState:!1,eagerState:null,next:null},uc(a))cc(u,m);else if(m=zu(a,u,m,R),m!==null){var M=ki();hs(m,a,R,M),dc(m,u,R)}}function qd(a,u,m){var R=$s(a),M={lane:R,action:m,hasEagerState:!1,eagerState:null,next:null};if(uc(a))cc(u,M);else{var $=a.alternate;if(a.lanes===0&&($===null||$.lanes===0)&&($=u.lastRenderedReducer,$!==null))try{var oe=u.lastRenderedState,Le=$(oe,m);if(M.hasEagerState=!0,M.eagerState=Le,ze(Le,oe)){var Ge=u.interleaved;Ge===null?(M.next=M,ll(u)):(M.next=Ge.next,Ge.next=M),u.interleaved=M;return}}catch{}finally{}m=zu(a,u,M,R),m!==null&&(M=ki(),hs(m,a,R,M),dc(m,u,R))}}function uc(a){var u=a.alternate;return a===Wr||u!==null&&u===Wr}function cc(a,u){Bo=pa=!0;var m=a.pending;m===null?u.next=u:(u.next=m.next,m.next=u),a.pending=u}function dc(a,u,m){if(m&4194240){var R=u.lanes;R&=a.pendingLanes,m|=R,u.lanes=m,rr(a,m)}}var va={readContext:Ji,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useInsertionEffect:wi,useLayoutEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useMutableSource:wi,useSyncExternalStore:wi,useId:wi,unstable_isNewReconciler:!1},Wd={readContext:Ji,useCallback:function(a,u){return vs().memoizedState=[a,u===void 0?null:u],a},useContext:Ji,useEffect:ec,useImperativeHandle:function(a,u,m){return m=m!=null?m.concat([a]):null,ma(4194308,4,rc.bind(null,u,a),m)},useLayoutEffect:function(a,u){return ma(4194308,4,a,u)},useInsertionEffect:function(a,u){return ma(4,2,a,u)},useMemo:function(a,u){var m=vs();return u=u===void 0?null:u,a=a(),m.memoizedState=[a,u],a},useReducer:function(a,u,m){var R=vs();return u=m!==void 0?m(u):u,R.memoizedState=R.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},R.queue=a,a=a.dispatch=Vd.bind(null,Wr,a),[R.memoizedState,a]},useRef:function(a){var u=vs();return a={current:a},u.memoizedState=a},useState:Qu,useDebugValue:El,useDeferredValue:function(a){return vs().memoizedState=a},useTransition:function(){var a=Qu(!1),u=a[0];return a=Ud.bind(null,a[1]),vs().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,m){var R=Wr,M=vs();if(zr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=u(),ai===null)throw Error(n(349));eo&30||Gu(R,u,m)}M.memoizedState=m;var $={value:m,getSnapshot:u};return M.queue=$,ec(Xu.bind(null,R,$,a),[a]),R.flags|=2048,$o(9,Ku.bind(null,R,$,m,u),void 0,null),m},useId:function(){var a=vs(),u=ai.identifierPrefix;if(zr){var m=As,R=Cs;m=(R&~(1<<32-jn(R)-1)).toString(32)+m,u=":"+u+"R"+m,m=jo++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=$d++,u=":"+u+"r"+m.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},Hd={readContext:Ji,useCallback:sc,useContext:Ji,useEffect:xl,useImperativeHandle:ic,useInsertionEffect:tc,useLayoutEffect:nc,useMemo:oc,useReducer:yl,useRef:Ju,useState:function(){return yl(zo)},useDebugValue:El,useDeferredValue:function(a){var u=es();return ac(u,ti.memoizedState,a)},useTransition:function(){var a=yl(zo)[0],u=es().memoizedState;return[a,u]},useMutableSource:Wu,useSyncExternalStore:Hu,useId:lc,unstable_isNewReconciler:!1},Gd={readContext:Ji,useCallback:sc,useContext:Ji,useEffect:xl,useImperativeHandle:ic,useInsertionEffect:tc,useLayoutEffect:nc,useMemo:oc,useReducer:bl,useRef:Ju,useState:function(){return bl(zo)},useDebugValue:El,useDeferredValue:function(a){var u=es();return ti===null?u.memoizedState=a:ac(u,ti.memoizedState,a)},useTransition:function(){var a=bl(zo)[0],u=es().memoizedState;return[a,u]},useMutableSource:Wu,useSyncExternalStore:Hu,useId:lc,unstable_isNewReconciler:!1};function cs(a,u){if(a&&a.defaultProps){u=ke({},u),a=a.defaultProps;for(var m in a)u[m]===void 0&&(u[m]=a[m]);return u}return u}function wl(a,u,m,R){u=a.memoizedState,m=m(R,u),m=m==null?u:ke({},u,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var ya={isMounted:function(a){return(a=a._reactInternals)?dr(a)===a:!1},enqueueSetState:function(a,u,m){a=a._reactInternals;var R=ki(),M=$s(a),$=Rs(R,M);$.payload=u,m!=null&&($.callback=m),u=Fs(a,$,M),u!==null&&(hs(u,a,M,R),ca(u,a,M))},enqueueReplaceState:function(a,u,m){a=a._reactInternals;var R=ki(),M=$s(a),$=Rs(R,M);$.tag=1,$.payload=u,m!=null&&($.callback=m),u=Fs(a,$,M),u!==null&&(hs(u,a,M,R),ca(u,a,M))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var m=ki(),R=$s(a),M=Rs(m,R);M.tag=2,u!=null&&(M.callback=u),u=Fs(a,M,R),u!==null&&(hs(u,a,R,m),ca(u,a,R))}};function fc(a,u,m,R,M,$,oe){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(R,$,oe):u.prototype&&u.prototype.isPureReactComponent?!ht(m,R)||!ht(M,$):!0}function hc(a,u,m){var R=!1,M=Ns,$=u.contextType;return typeof $=="object"&&$!==null?$=Ji($):(M=Mi(u)?Xs:Ei.current,R=u.contextTypes,$=(R=R!=null)?ho(a,M):Ns),u=new u(m,$),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ya,a.stateNode=u,u._reactInternals=a,R&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=M,a.__reactInternalMemoizedMaskedChildContext=$),u}function pc(a,u,m,R){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,R),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,R),u.state!==a&&ya.enqueueReplaceState(u,u.state,null)}function Sl(a,u,m,R){var M=a.stateNode;M.props=m,M.state=a.memoizedState,M.refs={},ul(a);var $=u.contextType;typeof $=="object"&&$!==null?M.context=Ji($):($=Mi(u)?Xs:Ei.current,M.context=ho(a,$)),M.state=a.memoizedState,$=u.getDerivedStateFromProps,typeof $=="function"&&(wl(a,u,$,m),M.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(u=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),u!==M.state&&ya.enqueueReplaceState(M,M.state,null),da(a,m,M,R),M.state=a.memoizedState),typeof M.componentDidMount=="function"&&(a.flags|=4194308)}function Eo(a,u){try{var m="",R=u;do m+=ce(R),R=R.return;while(R);var M=m}catch($){M=`
Error generating stack: `+$.message+`
`+$.stack}return{value:a,source:u,stack:M,digest:null}}function _l(a,u,m){return{value:a,source:null,stack:m??null,digest:u??null}}function Cl(a,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var Kd=typeof WeakMap=="function"?WeakMap:Map;function mc(a,u,m){m=Rs(-1,m),m.tag=3,m.payload={element:null};var R=u.value;return m.callback=function(){Ca||(Ca=!0,zl=R),Cl(a,u)},m}function gc(a,u,m){m=Rs(-1,m),m.tag=3;var R=a.type.getDerivedStateFromError;if(typeof R=="function"){var M=u.value;m.payload=function(){return R(M)},m.callback=function(){Cl(a,u)}}var $=a.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(m.callback=function(){Cl(a,u),typeof R!="function"&&(js===null?js=new Set([this]):js.add(this));var oe=u.stack;this.componentDidCatch(u.value,{componentStack:oe!==null?oe:""})}),m}function vc(a,u,m){var R=a.pingCache;if(R===null){R=a.pingCache=new Kd;var M=new Set;R.set(u,M)}else M=R.get(u),M===void 0&&(M=new Set,R.set(u,M));M.has(m)||(M.add(m),a=uf.bind(null,a,u,m),u.then(a,a))}function yc(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function bc(a,u,m,R,M){return a.mode&1?(a.flags|=65536,a.lanes=M,a):(a===u?a.flags|=65536:(a.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=Rs(-1,1),u.tag=2,Fs(m,u,1))),m.lanes|=1),a)}var Xd=k.ReactCurrentOwner,Fi=!1;function Ri(a,u,m,R){u.child=a===null?ju(u,null,m,R):vo(u,a.child,m,R)}function xc(a,u,m,R,M){m=m.render;var $=u.ref;return bo(u,M),R=gl(a,u,m,R,$,M),m=vl(),a!==null&&!Fi?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~M,ks(a,u,M)):(zr&&m&&Ja(u),u.flags|=1,Ri(a,u,R,M),u.child)}function Ec(a,u,m,R,M){if(a===null){var $=m.type;return typeof $=="function"&&!Gl($)&&$.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=$,wc(a,u,$,R,M)):(a=Da(m.type,null,R,u,u.mode,M),a.ref=u.ref,a.return=u,u.child=a)}if($=a.child,!(a.lanes&M)){var oe=$.memoizedProps;if(m=m.compare,m=m!==null?m:ht,m(oe,R)&&a.ref===u.ref)return ks(a,u,M)}return u.flags|=1,a=Vs($,R),a.ref=u.ref,a.return=u,u.child=a}function wc(a,u,m,R,M){if(a!==null){var $=a.memoizedProps;if(ht($,R)&&a.ref===u.ref)if(Fi=!1,u.pendingProps=R=$,(a.lanes&M)!==0)a.flags&131072&&(Fi=!0);else return u.lanes=a.lanes,ks(a,u,M)}return Al(a,u,m,R,M)}function Sc(a,u,m){var R=u.pendingProps,M=R.children,$=a!==null?a.memoizedState:null;if(R.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(So,Hi),Hi|=m;else{if(!(m&1073741824))return a=$!==null?$.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,Or(So,Hi),Hi|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=$!==null?$.baseLanes:m,Or(So,Hi),Hi|=R}else $!==null?(R=$.baseLanes|m,u.memoizedState=null):R=m,Or(So,Hi),Hi|=R;return Ri(a,u,M,m),u.child}function _c(a,u){var m=u.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Al(a,u,m,R,M){var $=Mi(m)?Xs:Ei.current;return $=ho(u,$),bo(u,M),m=gl(a,u,m,R,$,M),R=vl(),a!==null&&!Fi?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~M,ks(a,u,M)):(zr&&R&&Ja(u),u.flags|=1,Ri(a,u,m,M),u.child)}function Cc(a,u,m,R,M){if(Mi(m)){var $=!0;na(u)}else $=!1;if(bo(u,M),u.stateNode===null)xa(a,u),hc(u,m,R),Sl(u,m,R,M),R=!0;else if(a===null){var oe=u.stateNode,Le=u.memoizedProps;oe.props=Le;var Ge=oe.context,Ct=m.contextType;typeof Ct=="object"&&Ct!==null?Ct=Ji(Ct):(Ct=Mi(m)?Xs:Ei.current,Ct=ho(u,Ct));var Ht=m.getDerivedStateFromProps,Jt=typeof Ht=="function"||typeof oe.getSnapshotBeforeUpdate=="function";Jt||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(Le!==R||Ge!==Ct)&&pc(u,oe,R,Ct),Ms=!1;var qt=u.memoizedState;oe.state=qt,da(u,R,oe,M),Ge=u.memoizedState,Le!==R||qt!==Ge||Li.current||Ms?(typeof Ht=="function"&&(wl(u,m,Ht,R),Ge=u.memoizedState),(Le=Ms||fc(u,m,Le,R,qt,Ge,Ct))?(Jt||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount()),typeof oe.componentDidMount=="function"&&(u.flags|=4194308)):(typeof oe.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=R,u.memoizedState=Ge),oe.props=R,oe.state=Ge,oe.context=Ct,R=Le):(typeof oe.componentDidMount=="function"&&(u.flags|=4194308),R=!1)}else{oe=u.stateNode,$u(a,u),Le=u.memoizedProps,Ct=u.type===u.elementType?Le:cs(u.type,Le),oe.props=Ct,Jt=u.pendingProps,qt=oe.context,Ge=m.contextType,typeof Ge=="object"&&Ge!==null?Ge=Ji(Ge):(Ge=Mi(m)?Xs:Ei.current,Ge=ho(u,Ge));var yn=m.getDerivedStateFromProps;(Ht=typeof yn=="function"||typeof oe.getSnapshotBeforeUpdate=="function")||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(Le!==Jt||qt!==Ge)&&pc(u,oe,R,Ge),Ms=!1,qt=u.memoizedState,oe.state=qt,da(u,R,oe,M);var Tn=u.memoizedState;Le!==Jt||qt!==Tn||Li.current||Ms?(typeof yn=="function"&&(wl(u,m,yn,R),Tn=u.memoizedState),(Ct=Ms||fc(u,m,Ct,R,qt,Tn,Ge)||!1)?(Ht||typeof oe.UNSAFE_componentWillUpdate!="function"&&typeof oe.componentWillUpdate!="function"||(typeof oe.componentWillUpdate=="function"&&oe.componentWillUpdate(R,Tn,Ge),typeof oe.UNSAFE_componentWillUpdate=="function"&&oe.UNSAFE_componentWillUpdate(R,Tn,Ge)),typeof oe.componentDidUpdate=="function"&&(u.flags|=4),typeof oe.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof oe.componentDidUpdate!="function"||Le===a.memoizedProps&&qt===a.memoizedState||(u.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||Le===a.memoizedProps&&qt===a.memoizedState||(u.flags|=1024),u.memoizedProps=R,u.memoizedState=Tn),oe.props=R,oe.state=Tn,oe.context=Ge,R=Ct):(typeof oe.componentDidUpdate!="function"||Le===a.memoizedProps&&qt===a.memoizedState||(u.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||Le===a.memoizedProps&&qt===a.memoizedState||(u.flags|=1024),R=!1)}return Tl(a,u,m,R,$,M)}function Tl(a,u,m,R,M,$){_c(a,u);var oe=(u.flags&128)!==0;if(!R&&!oe)return M&&Pu(u,m,!1),ks(a,u,$);R=u.stateNode,Xd.current=u;var Le=oe&&typeof m.getDerivedStateFromError!="function"?null:R.render();return u.flags|=1,a!==null&&oe?(u.child=vo(u,a.child,null,$),u.child=vo(u,null,Le,$)):Ri(a,u,Le,$),u.memoizedState=R.state,M&&Pu(u,m,!0),u.child}function Ac(a){var u=a.stateNode;u.pendingContext?Ru(a,u.pendingContext,u.pendingContext!==u.context):u.context&&Ru(a,u.context,!1),cl(a,u.containerInfo)}function Tc(a,u,m,R,M){return go(),rl(M),u.flags|=256,Ri(a,u,m,R),u.child}var Rl={dehydrated:null,treeContext:null,retryLane:0};function kl(a){return{baseLanes:a,cachePool:null,transitions:null}}function Rc(a,u,m){var R=u.pendingProps,M=qr.current,$=!1,oe=(u.flags&128)!==0,Le;if((Le=oe)||(Le=a!==null&&a.memoizedState===null?!1:(M&2)!==0),Le?($=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(M|=1),Or(qr,M&1),a===null)return nl(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?a.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(oe=R.children,a=R.fallback,$?(R=u.mode,$=u.child,oe={mode:"hidden",children:oe},!(R&1)&&$!==null?($.childLanes=0,$.pendingProps=oe):$=Oa(oe,R,0,null),a=so(a,R,m,null),$.return=u,a.return=u,$.sibling=a,u.child=$,u.child.memoizedState=kl(m),u.memoizedState=Rl,a):Pl(u,oe));if(M=a.memoizedState,M!==null&&(Le=M.dehydrated,Le!==null))return Yd(a,u,oe,R,Le,M,m);if($){$=R.fallback,oe=u.mode,M=a.child,Le=M.sibling;var Ge={mode:"hidden",children:R.children};return!(oe&1)&&u.child!==M?(R=u.child,R.childLanes=0,R.pendingProps=Ge,u.deletions=null):(R=Vs(M,Ge),R.subtreeFlags=M.subtreeFlags&14680064),Le!==null?$=Vs(Le,$):($=so($,oe,m,null),$.flags|=2),$.return=u,R.return=u,R.sibling=$,u.child=R,R=$,$=u.child,oe=a.child.memoizedState,oe=oe===null?kl(m):{baseLanes:oe.baseLanes|m,cachePool:null,transitions:oe.transitions},$.memoizedState=oe,$.childLanes=a.childLanes&~m,u.memoizedState=Rl,R}return $=a.child,a=$.sibling,R=Vs($,{mode:"visible",children:R.children}),!(u.mode&1)&&(R.lanes=m),R.return=u,R.sibling=null,a!==null&&(m=u.deletions,m===null?(u.deletions=[a],u.flags|=16):m.push(a)),u.child=R,u.memoizedState=null,R}function Pl(a,u){return u=Oa({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function ba(a,u,m,R){return R!==null&&rl(R),vo(u,a.child,null,m),a=Pl(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function Yd(a,u,m,R,M,$,oe){if(m)return u.flags&256?(u.flags&=-257,R=_l(Error(n(422))),ba(a,u,oe,R)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):($=R.fallback,M=u.mode,R=Oa({mode:"visible",children:R.children},M,0,null),$=so($,M,oe,null),$.flags|=2,R.return=u,$.return=u,R.sibling=$,u.child=R,u.mode&1&&vo(u,a.child,null,oe),u.child.memoizedState=kl(oe),u.memoizedState=Rl,$);if(!(u.mode&1))return ba(a,u,oe,null);if(M.data==="$!"){if(R=M.nextSibling&&M.nextSibling.dataset,R)var Le=R.dgst;return R=Le,$=Error(n(419)),R=_l($,R,void 0),ba(a,u,oe,R)}if(Le=(oe&a.childLanes)!==0,Fi||Le){if(R=ai,R!==null){switch(oe&-oe){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=M&(R.suspendedLanes|oe)?0:M,M!==0&&M!==$.retryLane&&($.retryLane=M,Ts(a,M),hs(R,a,M,-1))}return Hl(),R=_l(Error(n(421))),ba(a,u,oe,R)}return M.data==="$?"?(u.flags|=128,u.child=a.child,u=cf.bind(null,a),M._reactRetry=u,null):(a=$.treeContext,Wi=Os(M.nextSibling),qi=u,zr=!0,us=null,a!==null&&(Zi[Qi++]=Cs,Zi[Qi++]=As,Zi[Qi++]=Ys,Cs=a.id,As=a.overflow,Ys=u),u=Pl(u,R.children),u.flags|=4096,u)}function kc(a,u,m){a.lanes|=u;var R=a.alternate;R!==null&&(R.lanes|=u),al(a.return,u,m)}function Dl(a,u,m,R,M){var $=a.memoizedState;$===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:R,tail:m,tailMode:M}:($.isBackwards=u,$.rendering=null,$.renderingStartTime=0,$.last=R,$.tail=m,$.tailMode=M)}function Pc(a,u,m){var R=u.pendingProps,M=R.revealOrder,$=R.tail;if(Ri(a,u,R.children,m),R=qr.current,R&2)R=R&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&kc(a,m,u);else if(a.tag===19)kc(a,m,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}R&=1}if(Or(qr,R),!(u.mode&1))u.memoizedState=null;else switch(M){case"forwards":for(m=u.child,M=null;m!==null;)a=m.alternate,a!==null&&fa(a)===null&&(M=m),m=m.sibling;m=M,m===null?(M=u.child,u.child=null):(M=m.sibling,m.sibling=null),Dl(u,!1,M,m,$);break;case"backwards":for(m=null,M=u.child,u.child=null;M!==null;){if(a=M.alternate,a!==null&&fa(a)===null){u.child=M;break}a=M.sibling,M.sibling=m,m=M,M=a}Dl(u,!0,m,null,$);break;case"together":Dl(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function xa(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function ks(a,u,m){if(a!==null&&(u.dependencies=a.dependencies),to|=u.lanes,!(m&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,m=Vs(a,a.pendingProps),u.child=m,m.return=u;a.sibling!==null;)a=a.sibling,m=m.sibling=Vs(a,a.pendingProps),m.return=u;m.sibling=null}return u.child}function Zd(a,u,m){switch(u.tag){case 3:Ac(u),go();break;case 5:qu(u);break;case 1:Mi(u.type)&&na(u);break;case 4:cl(u,u.stateNode.containerInfo);break;case 10:var R=u.type._context,M=u.memoizedProps.value;Or(la,R._currentValue),R._currentValue=M;break;case 13:if(R=u.memoizedState,R!==null)return R.dehydrated!==null?(Or(qr,qr.current&1),u.flags|=128,null):m&u.child.childLanes?Rc(a,u,m):(Or(qr,qr.current&1),a=ks(a,u,m),a!==null?a.sibling:null);Or(qr,qr.current&1);break;case 19:if(R=(m&u.childLanes)!==0,a.flags&128){if(R)return Pc(a,u,m);u.flags|=128}if(M=u.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Or(qr,qr.current),R)break;return null;case 22:case 23:return u.lanes=0,Sc(a,u,m)}return ks(a,u,m)}var Dc,Ol,Oc,Ic;Dc=function(a,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Ol=function(){},Oc=function(a,u,m,R){var M=a.memoizedProps;if(M!==R){a=u.stateNode,Js(gs.current);var $=null;switch(m){case"input":M=ae(a,M),R=ae(a,R),$=[];break;case"select":M=ke({},M,{value:void 0}),R=ke({},R,{value:void 0}),$=[];break;case"textarea":M=xe(a,M),R=xe(a,R),$=[];break;default:typeof M.onClick!="function"&&typeof R.onClick=="function"&&(a.onclick=Jo)}te(m,R);var oe;m=null;for(Ct in M)if(!R.hasOwnProperty(Ct)&&M.hasOwnProperty(Ct)&&M[Ct]!=null)if(Ct==="style"){var Le=M[Ct];for(oe in Le)Le.hasOwnProperty(oe)&&(m||(m={}),m[oe]="")}else Ct!=="dangerouslySetInnerHTML"&&Ct!=="children"&&Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&Ct!=="autoFocus"&&(s.hasOwnProperty(Ct)?$||($=[]):($=$||[]).push(Ct,null));for(Ct in R){var Ge=R[Ct];if(Le=M!=null?M[Ct]:void 0,R.hasOwnProperty(Ct)&&Ge!==Le&&(Ge!=null||Le!=null))if(Ct==="style")if(Le){for(oe in Le)!Le.hasOwnProperty(oe)||Ge&&Ge.hasOwnProperty(oe)||(m||(m={}),m[oe]="");for(oe in Ge)Ge.hasOwnProperty(oe)&&Le[oe]!==Ge[oe]&&(m||(m={}),m[oe]=Ge[oe])}else m||($||($=[]),$.push(Ct,m)),m=Ge;else Ct==="dangerouslySetInnerHTML"?(Ge=Ge?Ge.__html:void 0,Le=Le?Le.__html:void 0,Ge!=null&&Le!==Ge&&($=$||[]).push(Ct,Ge)):Ct==="children"?typeof Ge!="string"&&typeof Ge!="number"||($=$||[]).push(Ct,""+Ge):Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ct)?(Ge!=null&&Ct==="onScroll"&&Lr("scroll",a),$||Le===Ge||($=[])):($=$||[]).push(Ct,Ge))}m&&($=$||[]).push("style",m);var Ct=$;(u.updateQueue=Ct)&&(u.flags|=4)}},Ic=function(a,u,m,R){m!==R&&(u.flags|=4)};function Uo(a,u){if(!zr)switch(a.tailMode){case"hidden":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var R=null;m!==null;)m.alternate!==null&&(R=m),m=m.sibling;R===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:R.sibling=null}}function Si(a){var u=a.alternate!==null&&a.alternate.child===a.child,m=0,R=0;if(u)for(var M=a.child;M!==null;)m|=M.lanes|M.childLanes,R|=M.subtreeFlags&14680064,R|=M.flags&14680064,M.return=a,M=M.sibling;else for(M=a.child;M!==null;)m|=M.lanes|M.childLanes,R|=M.subtreeFlags,R|=M.flags,M.return=a,M=M.sibling;return a.subtreeFlags|=R,a.childLanes=m,u}function Qd(a,u,m){var R=u.pendingProps;switch(el(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Si(u),null;case 1:return Mi(u.type)&&ta(),Si(u),null;case 3:return R=u.stateNode,xo(),Mr(Li),Mr(Ei),hl(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(a===null||a.child===null)&&(oa(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,us!==null&&(Vl(us),us=null))),Ol(a,u),Si(u),null;case 5:dl(u);var M=Js(Fo.current);if(m=u.type,a!==null&&u.stateNode!=null)Oc(a,u,m,R,M),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!R){if(u.stateNode===null)throw Error(n(166));return Si(u),null}if(a=Js(gs.current),oa(u)){R=u.stateNode,m=u.type;var $=u.memoizedProps;switch(R[ms]=u,R[Oo]=$,a=(u.mode&1)!==0,m){case"dialog":Lr("cancel",R),Lr("close",R);break;case"iframe":case"object":case"embed":Lr("load",R);break;case"video":case"audio":for(M=0;M<ko.length;M++)Lr(ko[M],R);break;case"source":Lr("error",R);break;case"img":case"image":case"link":Lr("error",R),Lr("load",R);break;case"details":Lr("toggle",R);break;case"input":ue(R,$),Lr("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!$.multiple},Lr("invalid",R);break;case"textarea":Se(R,$),Lr("invalid",R)}te(m,$),M=null;for(var oe in $)if($.hasOwnProperty(oe)){var Le=$[oe];oe==="children"?typeof Le=="string"?R.textContent!==Le&&($.suppressHydrationWarning!==!0&&Qo(R.textContent,Le,a),M=["children",Le]):typeof Le=="number"&&R.textContent!==""+Le&&($.suppressHydrationWarning!==!0&&Qo(R.textContent,Le,a),M=["children",""+Le]):s.hasOwnProperty(oe)&&Le!=null&&oe==="onScroll"&&Lr("scroll",R)}switch(m){case"input":Ie(R),Pe(R,$,!0);break;case"textarea":Ie(R),qe(R);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(R.onclick=Jo)}R=M,u.updateQueue=R,R!==null&&(u.flags|=4)}else{oe=M.nodeType===9?M:M.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=dt(m)),a==="http://www.w3.org/1999/xhtml"?m==="script"?(a=oe.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof R.is=="string"?a=oe.createElement(m,{is:R.is}):(a=oe.createElement(m),m==="select"&&(oe=a,R.multiple?oe.multiple=!0:R.size&&(oe.size=R.size))):a=oe.createElementNS(a,m),a[ms]=u,a[Oo]=R,Dc(a,u,!1,!1),u.stateNode=a;e:{switch(oe=vt(m,R),m){case"dialog":Lr("cancel",a),Lr("close",a),M=R;break;case"iframe":case"object":case"embed":Lr("load",a),M=R;break;case"video":case"audio":for(M=0;M<ko.length;M++)Lr(ko[M],a);M=R;break;case"source":Lr("error",a),M=R;break;case"img":case"image":case"link":Lr("error",a),Lr("load",a),M=R;break;case"details":Lr("toggle",a),M=R;break;case"input":ue(a,R),M=ae(a,R),Lr("invalid",a);break;case"option":M=R;break;case"select":a._wrapperState={wasMultiple:!!R.multiple},M=ke({},R,{value:void 0}),Lr("invalid",a);break;case"textarea":Se(a,R),M=xe(a,R),Lr("invalid",a);break;default:M=R}te(m,M),Le=M;for($ in Le)if(Le.hasOwnProperty($)){var Ge=Le[$];$==="style"?Mt(a,Ge):$==="dangerouslySetInnerHTML"?(Ge=Ge?Ge.__html:void 0,Ge!=null&&nn(a,Ge)):$==="children"?typeof Ge=="string"?(m!=="textarea"||Ge!=="")&&zt(a,Ge):typeof Ge=="number"&&zt(a,""+Ge):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(s.hasOwnProperty($)?Ge!=null&&$==="onScroll"&&Lr("scroll",a):Ge!=null&&E(a,$,Ge,oe))}switch(m){case"input":Ie(a),Pe(a,R,!1);break;case"textarea":Ie(a),qe(a);break;case"option":R.value!=null&&a.setAttribute("value",""+ye(R.value));break;case"select":a.multiple=!!R.multiple,$=R.value,$!=null?fe(a,!!R.multiple,$,!1):R.defaultValue!=null&&fe(a,!!R.multiple,R.defaultValue,!0);break;default:typeof M.onClick=="function"&&(a.onclick=Jo)}switch(m){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Si(u),null;case 6:if(a&&u.stateNode!=null)Ic(a,u,a.memoizedProps,R);else{if(typeof R!="string"&&u.stateNode===null)throw Error(n(166));if(m=Js(Fo.current),Js(gs.current),oa(u)){if(R=u.stateNode,m=u.memoizedProps,R[ms]=u,($=R.nodeValue!==m)&&(a=qi,a!==null))switch(a.tag){case 3:Qo(R.nodeValue,m,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Qo(R.nodeValue,m,(a.mode&1)!==0)}$&&(u.flags|=4)}else R=(m.nodeType===9?m:m.ownerDocument).createTextNode(R),R[ms]=u,u.stateNode=R}return Si(u),null;case 13:if(Mr(qr),R=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(zr&&Wi!==null&&u.mode&1&&!(u.flags&128))Mu(),go(),u.flags|=98560,$=!1;else if($=oa(u),R!==null&&R.dehydrated!==null){if(a===null){if(!$)throw Error(n(318));if($=u.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(n(317));$[ms]=u}else go(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;Si(u),$=!1}else us!==null&&(Vl(us),us=null),$=!0;if(!$)return u.flags&65536?u:null}return u.flags&128?(u.lanes=m,u):(R=R!==null,R!==(a!==null&&a.memoizedState!==null)&&R&&(u.child.flags|=8192,u.mode&1&&(a===null||qr.current&1?ni===0&&(ni=3):Hl())),u.updateQueue!==null&&(u.flags|=4),Si(u),null);case 4:return xo(),Ol(a,u),a===null&&Po(u.stateNode.containerInfo),Si(u),null;case 10:return ol(u.type._context),Si(u),null;case 17:return Mi(u.type)&&ta(),Si(u),null;case 19:if(Mr(qr),$=u.memoizedState,$===null)return Si(u),null;if(R=(u.flags&128)!==0,oe=$.rendering,oe===null)if(R)Uo($,!1);else{if(ni!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(oe=fa(a),oe!==null){for(u.flags|=128,Uo($,!1),R=oe.updateQueue,R!==null&&(u.updateQueue=R,u.flags|=4),u.subtreeFlags=0,R=m,m=u.child;m!==null;)$=m,a=R,$.flags&=14680066,oe=$.alternate,oe===null?($.childLanes=0,$.lanes=a,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=oe.childLanes,$.lanes=oe.lanes,$.child=oe.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=oe.memoizedProps,$.memoizedState=oe.memoizedState,$.updateQueue=oe.updateQueue,$.type=oe.type,a=oe.dependencies,$.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),m=m.sibling;return Or(qr,qr.current&1|2),u.child}a=a.sibling}$.tail!==null&&nr()>_o&&(u.flags|=128,R=!0,Uo($,!1),u.lanes=4194304)}else{if(!R)if(a=fa(oe),a!==null){if(u.flags|=128,R=!0,m=a.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),Uo($,!0),$.tail===null&&$.tailMode==="hidden"&&!oe.alternate&&!zr)return Si(u),null}else 2*nr()-$.renderingStartTime>_o&&m!==1073741824&&(u.flags|=128,R=!0,Uo($,!1),u.lanes=4194304);$.isBackwards?(oe.sibling=u.child,u.child=oe):(m=$.last,m!==null?m.sibling=oe:u.child=oe,$.last=oe)}return $.tail!==null?(u=$.tail,$.rendering=u,$.tail=u.sibling,$.renderingStartTime=nr(),u.sibling=null,m=qr.current,Or(qr,R?m&1|2:m&1),u):(Si(u),null);case 22:case 23:return Wl(),R=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==R&&(u.flags|=8192),R&&u.mode&1?Hi&1073741824&&(Si(u),u.subtreeFlags&6&&(u.flags|=8192)):Si(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function Jd(a,u){switch(el(u),u.tag){case 1:return Mi(u.type)&&ta(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return xo(),Mr(Li),Mr(Ei),hl(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return dl(u),null;case 13:if(Mr(qr),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));go()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Mr(qr),null;case 4:return xo(),null;case 10:return ol(u.type._context),null;case 22:case 23:return Wl(),null;case 24:return null;default:return null}}var Ea=!1,_i=!1,ef=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function wo(a,u){var m=a.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(R){Gr(a,u,R)}else m.current=null}function Il(a,u,m){try{m()}catch(R){Gr(a,u,R)}}var Nc=!1;function tf(a,u){if(Wa=Oe,a=rt(),xt(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var R=m.getSelection&&m.getSelection();if(R&&R.rangeCount!==0){m=R.anchorNode;var M=R.anchorOffset,$=R.focusNode;R=R.focusOffset;try{m.nodeType,$.nodeType}catch{m=null;break e}var oe=0,Le=-1,Ge=-1,Ct=0,Ht=0,Jt=a,qt=null;t:for(;;){for(var yn;Jt!==m||M!==0&&Jt.nodeType!==3||(Le=oe+M),Jt!==$||R!==0&&Jt.nodeType!==3||(Ge=oe+R),Jt.nodeType===3&&(oe+=Jt.nodeValue.length),(yn=Jt.firstChild)!==null;)qt=Jt,Jt=yn;for(;;){if(Jt===a)break t;if(qt===m&&++Ct===M&&(Le=oe),qt===$&&++Ht===R&&(Ge=oe),(yn=Jt.nextSibling)!==null)break;Jt=qt,qt=Jt.parentNode}Jt=yn}m=Le===-1||Ge===-1?null:{start:Le,end:Ge}}else m=null}m=m||{start:0,end:0}}else m=null;for(Ha={focusedElem:a,selectionRange:m},Oe=!1,Cn=u;Cn!==null;)if(u=Cn,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Cn=a;else for(;Cn!==null;){u=Cn;try{var Tn=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Tn!==null){var Rn=Tn.memoizedProps,Kr=Tn.memoizedState,bt=u.stateNode,st=bt.getSnapshotBeforeUpdate(u.elementType===u.type?Rn:cs(u.type,Rn),Kr);bt.__reactInternalSnapshotBeforeUpdate=st}break;case 3:var wt=u.stateNode.containerInfo;wt.nodeType===1?wt.textContent="":wt.nodeType===9&&wt.documentElement&&wt.removeChild(wt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(sn){Gr(u,u.return,sn)}if(a=u.sibling,a!==null){a.return=u.return,Cn=a;break}Cn=u.return}return Tn=Nc,Nc=!1,Tn}function Vo(a,u,m){var R=u.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var M=R=R.next;do{if((M.tag&a)===a){var $=M.destroy;M.destroy=void 0,$!==void 0&&Il(u,m,$)}M=M.next}while(M!==R)}}function wa(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&a)===a){var R=m.create;m.destroy=R()}m=m.next}while(m!==u)}}function Nl(a){var u=a.ref;if(u!==null){var m=a.stateNode;switch(a.tag){case 5:a=m;break;default:a=m}typeof u=="function"?u(a):u.current=a}}function Lc(a){var u=a.alternate;u!==null&&(a.alternate=null,Lc(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[ms],delete u[Oo],delete u[Ya],delete u[Fd],delete u[Bd])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Mc(a){return a.tag===5||a.tag===3||a.tag===4}function Fc(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Mc(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ll(a,u,m){var R=a.tag;if(R===5||R===6)a=a.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(a,u):m.insertBefore(a,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(a,m)):(u=m,u.appendChild(a)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=Jo));else if(R!==4&&(a=a.child,a!==null))for(Ll(a,u,m),a=a.sibling;a!==null;)Ll(a,u,m),a=a.sibling}function Ml(a,u,m){var R=a.tag;if(R===5||R===6)a=a.stateNode,u?m.insertBefore(a,u):m.appendChild(a);else if(R!==4&&(a=a.child,a!==null))for(Ml(a,u,m),a=a.sibling;a!==null;)Ml(a,u,m),a=a.sibling}var gi=null,ds=!1;function Bs(a,u,m){for(m=m.child;m!==null;)Bc(a,u,m),m=m.sibling}function Bc(a,u,m){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(as,m)}catch{}switch(m.tag){case 5:_i||wo(m,u);case 6:var R=gi,M=ds;gi=null,Bs(a,u,m),gi=R,ds=M,gi!==null&&(ds?(a=gi,m=m.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)):gi.removeChild(m.stateNode));break;case 18:gi!==null&&(ds?(a=gi,m=m.stateNode,a.nodeType===8?Xa(a.parentNode,m):a.nodeType===1&&Xa(a,m),et(a)):Xa(gi,m.stateNode));break;case 4:R=gi,M=ds,gi=m.stateNode.containerInfo,ds=!0,Bs(a,u,m),gi=R,ds=M;break;case 0:case 11:case 14:case 15:if(!_i&&(R=m.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){M=R=R.next;do{var $=M,oe=$.destroy;$=$.tag,oe!==void 0&&($&2||$&4)&&Il(m,u,oe),M=M.next}while(M!==R)}Bs(a,u,m);break;case 1:if(!_i&&(wo(m,u),R=m.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=m.memoizedProps,R.state=m.memoizedState,R.componentWillUnmount()}catch(Le){Gr(m,u,Le)}Bs(a,u,m);break;case 21:Bs(a,u,m);break;case 22:m.mode&1?(_i=(R=_i)||m.memoizedState!==null,Bs(a,u,m),_i=R):Bs(a,u,m);break;default:Bs(a,u,m)}}function jc(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new ef),u.forEach(function(R){var M=df.bind(null,a,R);m.has(R)||(m.add(R),R.then(M,M))})}}function fs(a,u){var m=u.deletions;if(m!==null)for(var R=0;R<m.length;R++){var M=m[R];try{var $=a,oe=u,Le=oe;e:for(;Le!==null;){switch(Le.tag){case 5:gi=Le.stateNode,ds=!1;break e;case 3:gi=Le.stateNode.containerInfo,ds=!0;break e;case 4:gi=Le.stateNode.containerInfo,ds=!0;break e}Le=Le.return}if(gi===null)throw Error(n(160));Bc($,oe,M),gi=null,ds=!1;var Ge=M.alternate;Ge!==null&&(Ge.return=null),M.return=null}catch(Ct){Gr(M,u,Ct)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)zc(u,a),u=u.sibling}function zc(a,u){var m=a.alternate,R=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(fs(u,a),ys(a),R&4){try{Vo(3,a,a.return),wa(3,a)}catch(Rn){Gr(a,a.return,Rn)}try{Vo(5,a,a.return)}catch(Rn){Gr(a,a.return,Rn)}}break;case 1:fs(u,a),ys(a),R&512&&m!==null&&wo(m,m.return);break;case 5:if(fs(u,a),ys(a),R&512&&m!==null&&wo(m,m.return),a.flags&32){var M=a.stateNode;try{zt(M,"")}catch(Rn){Gr(a,a.return,Rn)}}if(R&4&&(M=a.stateNode,M!=null)){var $=a.memoizedProps,oe=m!==null?m.memoizedProps:$,Le=a.type,Ge=a.updateQueue;if(a.updateQueue=null,Ge!==null)try{Le==="input"&&$.type==="radio"&&$.name!=null&&Z(M,$),vt(Le,oe);var Ct=vt(Le,$);for(oe=0;oe<Ge.length;oe+=2){var Ht=Ge[oe],Jt=Ge[oe+1];Ht==="style"?Mt(M,Jt):Ht==="dangerouslySetInnerHTML"?nn(M,Jt):Ht==="children"?zt(M,Jt):E(M,Ht,Jt,Ct)}switch(Le){case"input":ve(M,$);break;case"textarea":gt(M,$);break;case"select":var qt=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!$.multiple;var yn=$.value;yn!=null?fe(M,!!$.multiple,yn,!1):qt!==!!$.multiple&&($.defaultValue!=null?fe(M,!!$.multiple,$.defaultValue,!0):fe(M,!!$.multiple,$.multiple?[]:"",!1))}M[Oo]=$}catch(Rn){Gr(a,a.return,Rn)}}break;case 6:if(fs(u,a),ys(a),R&4){if(a.stateNode===null)throw Error(n(162));M=a.stateNode,$=a.memoizedProps;try{M.nodeValue=$}catch(Rn){Gr(a,a.return,Rn)}}break;case 3:if(fs(u,a),ys(a),R&4&&m!==null&&m.memoizedState.isDehydrated)try{et(u.containerInfo)}catch(Rn){Gr(a,a.return,Rn)}break;case 4:fs(u,a),ys(a);break;case 13:fs(u,a),ys(a),M=a.child,M.flags&8192&&($=M.memoizedState!==null,M.stateNode.isHidden=$,!$||M.alternate!==null&&M.alternate.memoizedState!==null||(jl=nr())),R&4&&jc(a);break;case 22:if(Ht=m!==null&&m.memoizedState!==null,a.mode&1?(_i=(Ct=_i)||Ht,fs(u,a),_i=Ct):fs(u,a),ys(a),R&8192){if(Ct=a.memoizedState!==null,(a.stateNode.isHidden=Ct)&&!Ht&&a.mode&1)for(Cn=a,Ht=a.child;Ht!==null;){for(Jt=Cn=Ht;Cn!==null;){switch(qt=Cn,yn=qt.child,qt.tag){case 0:case 11:case 14:case 15:Vo(4,qt,qt.return);break;case 1:wo(qt,qt.return);var Tn=qt.stateNode;if(typeof Tn.componentWillUnmount=="function"){R=qt,m=qt.return;try{u=R,Tn.props=u.memoizedProps,Tn.state=u.memoizedState,Tn.componentWillUnmount()}catch(Rn){Gr(R,m,Rn)}}break;case 5:wo(qt,qt.return);break;case 22:if(qt.memoizedState!==null){Vc(Jt);continue}}yn!==null?(yn.return=qt,Cn=yn):Vc(Jt)}Ht=Ht.sibling}e:for(Ht=null,Jt=a;;){if(Jt.tag===5){if(Ht===null){Ht=Jt;try{M=Jt.stateNode,Ct?($=M.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(Le=Jt.stateNode,Ge=Jt.memoizedProps.style,oe=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null,Le.style.display=Me("display",oe))}catch(Rn){Gr(a,a.return,Rn)}}}else if(Jt.tag===6){if(Ht===null)try{Jt.stateNode.nodeValue=Ct?"":Jt.memoizedProps}catch(Rn){Gr(a,a.return,Rn)}}else if((Jt.tag!==22&&Jt.tag!==23||Jt.memoizedState===null||Jt===a)&&Jt.child!==null){Jt.child.return=Jt,Jt=Jt.child;continue}if(Jt===a)break e;for(;Jt.sibling===null;){if(Jt.return===null||Jt.return===a)break e;Ht===Jt&&(Ht=null),Jt=Jt.return}Ht===Jt&&(Ht=null),Jt.sibling.return=Jt.return,Jt=Jt.sibling}}break;case 19:fs(u,a),ys(a),R&4&&jc(a);break;case 21:break;default:fs(u,a),ys(a)}}function ys(a){var u=a.flags;if(u&2){try{e:{for(var m=a.return;m!==null;){if(Mc(m)){var R=m;break e}m=m.return}throw Error(n(160))}switch(R.tag){case 5:var M=R.stateNode;R.flags&32&&(zt(M,""),R.flags&=-33);var $=Fc(a);Ml(a,$,M);break;case 3:case 4:var oe=R.stateNode.containerInfo,Le=Fc(a);Ll(a,Le,oe);break;default:throw Error(n(161))}}catch(Ge){Gr(a,a.return,Ge)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function nf(a,u,m){Cn=a,$c(a)}function $c(a,u,m){for(var R=(a.mode&1)!==0;Cn!==null;){var M=Cn,$=M.child;if(M.tag===22&&R){var oe=M.memoizedState!==null||Ea;if(!oe){var Le=M.alternate,Ge=Le!==null&&Le.memoizedState!==null||_i;Le=Ea;var Ct=_i;if(Ea=oe,(_i=Ge)&&!Ct)for(Cn=M;Cn!==null;)oe=Cn,Ge=oe.child,oe.tag===22&&oe.memoizedState!==null?qc(M):Ge!==null?(Ge.return=oe,Cn=Ge):qc(M);for(;$!==null;)Cn=$,$c($),$=$.sibling;Cn=M,Ea=Le,_i=Ct}Uc(a)}else M.subtreeFlags&8772&&$!==null?($.return=M,Cn=$):Uc(a)}}function Uc(a){for(;Cn!==null;){var u=Cn;if(u.flags&8772){var m=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:_i||wa(5,u);break;case 1:var R=u.stateNode;if(u.flags&4&&!_i)if(m===null)R.componentDidMount();else{var M=u.elementType===u.type?m.memoizedProps:cs(u.type,m.memoizedProps);R.componentDidUpdate(M,m.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var $=u.updateQueue;$!==null&&Vu(u,$,R);break;case 3:var oe=u.updateQueue;if(oe!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}Vu(u,oe,m)}break;case 5:var Le=u.stateNode;if(m===null&&u.flags&4){m=Le;var Ge=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Ge.autoFocus&&m.focus();break;case"img":Ge.src&&(m.src=Ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ct=u.alternate;if(Ct!==null){var Ht=Ct.memoizedState;if(Ht!==null){var Jt=Ht.dehydrated;Jt!==null&&et(Jt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}_i||u.flags&512&&Nl(u)}catch(qt){Gr(u,u.return,qt)}}if(u===a){Cn=null;break}if(m=u.sibling,m!==null){m.return=u.return,Cn=m;break}Cn=u.return}}function Vc(a){for(;Cn!==null;){var u=Cn;if(u===a){Cn=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Cn=m;break}Cn=u.return}}function qc(a){for(;Cn!==null;){var u=Cn;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{wa(4,u)}catch(Ge){Gr(u,m,Ge)}break;case 1:var R=u.stateNode;if(typeof R.componentDidMount=="function"){var M=u.return;try{R.componentDidMount()}catch(Ge){Gr(u,M,Ge)}}var $=u.return;try{Nl(u)}catch(Ge){Gr(u,$,Ge)}break;case 5:var oe=u.return;try{Nl(u)}catch(Ge){Gr(u,oe,Ge)}}}catch(Ge){Gr(u,u.return,Ge)}if(u===a){Cn=null;break}var Le=u.sibling;if(Le!==null){Le.return=u.return,Cn=Le;break}Cn=u.return}}var rf=Math.ceil,Sa=k.ReactCurrentDispatcher,Fl=k.ReactCurrentOwner,ts=k.ReactCurrentBatchConfig,cr=0,ai=null,Zr=null,vi=0,Hi=0,So=Is(0),ni=0,qo=null,to=0,_a=0,Bl=0,Wo=null,Bi=null,jl=0,_o=1/0,Ps=null,Ca=!1,zl=null,js=null,Aa=!1,zs=null,Ta=0,Ho=0,$l=null,Ra=-1,ka=0;function ki(){return cr&6?nr():Ra!==-1?Ra:Ra=nr()}function $s(a){return a.mode&1?cr&2&&vi!==0?vi&-vi:zd.transition!==null?(ka===0&&(ka=tn()),ka):(a=Nn,a!==0||(a=window.event,a=a===void 0?16:Yt(a.type)),a):1}function hs(a,u,m,R){if(50<Ho)throw Ho=0,$l=null,Error(n(185));Vn(a,m,R),(!(cr&2)||a!==ai)&&(a===ai&&(!(cr&2)&&(_a|=m),ni===4&&Us(a,vi)),ji(a,R),m===1&&cr===0&&!(u.mode&1)&&(_o=nr()+500,ra&&Ls()))}function ji(a,u){var m=a.callbackNode;Kt(a,u);var R=Pt(a,a===ai?vi:0);if(R===0)m!==null&&zi(m),a.callbackNode=null,a.callbackPriority=0;else if(u=R&-R,a.callbackPriority!==u){if(m!=null&&zi(m),u===1)a.tag===0?jd(Hc.bind(null,a)):Du(Hc.bind(null,a)),Ld(function(){!(cr&6)&&Ls()}),m=null;else{switch(Dn(R)){case 1:m=Jr;break;case 4:m=ss;break;case 16:m=Ci;break;case 536870912:m=Di;break;default:m=Ci}m=ed(m,Wc.bind(null,a))}a.callbackPriority=u,a.callbackNode=m}}function Wc(a,u){if(Ra=-1,ka=0,cr&6)throw Error(n(327));var m=a.callbackNode;if(Co()&&a.callbackNode!==m)return null;var R=Pt(a,a===ai?vi:0);if(R===0)return null;if(R&30||R&a.expiredLanes||u)u=Pa(a,R);else{u=R;var M=cr;cr|=2;var $=Kc();(ai!==a||vi!==u)&&(Ps=null,_o=nr()+500,ro(a,u));do try{af();break}catch(Le){Gc(a,Le)}while(!0);sl(),Sa.current=$,cr=M,Zr!==null?u=0:(ai=null,vi=0,u=ni)}if(u!==0){if(u===2&&(M=Wt(a),M!==0&&(R=M,u=Ul(a,M))),u===1)throw m=qo,ro(a,0),Us(a,R),ji(a,nr()),m;if(u===6)Us(a,R);else{if(M=a.current.alternate,!(R&30)&&!sf(M)&&(u=Pa(a,R),u===2&&($=Wt(a),$!==0&&(R=$,u=Ul(a,$))),u===1))throw m=qo,ro(a,0),Us(a,R),ji(a,nr()),m;switch(a.finishedWork=M,a.finishedLanes=R,u){case 0:case 1:throw Error(n(345));case 2:io(a,Bi,Ps);break;case 3:if(Us(a,R),(R&130023424)===R&&(u=jl+500-nr(),10<u)){if(Pt(a,0)!==0)break;if(M=a.suspendedLanes,(M&R)!==R){ki(),a.pingedLanes|=a.suspendedLanes&M;break}a.timeoutHandle=Ka(io.bind(null,a,Bi,Ps),u);break}io(a,Bi,Ps);break;case 4:if(Us(a,R),(R&4194240)===R)break;for(u=a.eventTimes,M=-1;0<R;){var oe=31-jn(R);$=1<<oe,oe=u[oe],oe>M&&(M=oe),R&=~$}if(R=M,R=nr()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*rf(R/1960))-R,10<R){a.timeoutHandle=Ka(io.bind(null,a,Bi,Ps),R);break}io(a,Bi,Ps);break;case 5:io(a,Bi,Ps);break;default:throw Error(n(329))}}}return ji(a,nr()),a.callbackNode===m?Wc.bind(null,a):null}function Ul(a,u){var m=Wo;return a.current.memoizedState.isDehydrated&&(ro(a,u).flags|=256),a=Pa(a,u),a!==2&&(u=Bi,Bi=m,u!==null&&Vl(u)),a}function Vl(a){Bi===null?Bi=a:Bi.push.apply(Bi,a)}function sf(a){for(var u=a;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var R=0;R<m.length;R++){var M=m[R],$=M.getSnapshot;M=M.value;try{if(!ze($(),M))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Us(a,u){for(u&=~Bl,u&=~_a,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var m=31-jn(u),R=1<<m;a[m]=-1,u&=~R}}function Hc(a){if(cr&6)throw Error(n(327));Co();var u=Pt(a,0);if(!(u&1))return ji(a,nr()),null;var m=Pa(a,u);if(a.tag!==0&&m===2){var R=Wt(a);R!==0&&(u=R,m=Ul(a,R))}if(m===1)throw m=qo,ro(a,0),Us(a,u),ji(a,nr()),m;if(m===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,io(a,Bi,Ps),ji(a,nr()),null}function ql(a,u){var m=cr;cr|=1;try{return a(u)}finally{cr=m,cr===0&&(_o=nr()+500,ra&&Ls())}}function no(a){zs!==null&&zs.tag===0&&!(cr&6)&&Co();var u=cr;cr|=1;var m=ts.transition,R=Nn;try{if(ts.transition=null,Nn=1,a)return a()}finally{Nn=R,ts.transition=m,cr=u,!(cr&6)&&Ls()}}function Wl(){Hi=So.current,Mr(So)}function ro(a,u){a.finishedWork=null,a.finishedLanes=0;var m=a.timeoutHandle;if(m!==-1&&(a.timeoutHandle=-1,Nd(m)),Zr!==null)for(m=Zr.return;m!==null;){var R=m;switch(el(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&ta();break;case 3:xo(),Mr(Li),Mr(Ei),hl();break;case 5:dl(R);break;case 4:xo();break;case 13:Mr(qr);break;case 19:Mr(qr);break;case 10:ol(R.type._context);break;case 22:case 23:Wl()}m=m.return}if(ai=a,Zr=a=Vs(a.current,null),vi=Hi=u,ni=0,qo=null,Bl=_a=to=0,Bi=Wo=null,Qs!==null){for(u=0;u<Qs.length;u++)if(m=Qs[u],R=m.interleaved,R!==null){m.interleaved=null;var M=R.next,$=m.pending;if($!==null){var oe=$.next;$.next=M,R.next=oe}m.pending=R}Qs=null}return a}function Gc(a,u){do{var m=Zr;try{if(sl(),ha.current=va,pa){for(var R=Wr.memoizedState;R!==null;){var M=R.queue;M!==null&&(M.pending=null),R=R.next}pa=!1}if(eo=0,oi=ti=Wr=null,Bo=!1,jo=0,Fl.current=null,m===null||m.return===null){ni=1,qo=u,Zr=null;break}e:{var $=a,oe=m.return,Le=m,Ge=u;if(u=vi,Le.flags|=32768,Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"){var Ct=Ge,Ht=Le,Jt=Ht.tag;if(!(Ht.mode&1)&&(Jt===0||Jt===11||Jt===15)){var qt=Ht.alternate;qt?(Ht.updateQueue=qt.updateQueue,Ht.memoizedState=qt.memoizedState,Ht.lanes=qt.lanes):(Ht.updateQueue=null,Ht.memoizedState=null)}var yn=yc(oe);if(yn!==null){yn.flags&=-257,bc(yn,oe,Le,$,u),yn.mode&1&&vc($,Ct,u),u=yn,Ge=Ct;var Tn=u.updateQueue;if(Tn===null){var Rn=new Set;Rn.add(Ge),u.updateQueue=Rn}else Tn.add(Ge);break e}else{if(!(u&1)){vc($,Ct,u),Hl();break e}Ge=Error(n(426))}}else if(zr&&Le.mode&1){var Kr=yc(oe);if(Kr!==null){!(Kr.flags&65536)&&(Kr.flags|=256),bc(Kr,oe,Le,$,u),rl(Eo(Ge,Le));break e}}$=Ge=Eo(Ge,Le),ni!==4&&(ni=2),Wo===null?Wo=[$]:Wo.push($),$=oe;do{switch($.tag){case 3:$.flags|=65536,u&=-u,$.lanes|=u;var bt=mc($,Ge,u);Uu($,bt);break e;case 1:Le=Ge;var st=$.type,wt=$.stateNode;if(!($.flags&128)&&(typeof st.getDerivedStateFromError=="function"||wt!==null&&typeof wt.componentDidCatch=="function"&&(js===null||!js.has(wt)))){$.flags|=65536,u&=-u,$.lanes|=u;var sn=gc($,Le,u);Uu($,sn);break e}}$=$.return}while($!==null)}Yc(m)}catch(Pn){u=Pn,Zr===m&&m!==null&&(Zr=m=m.return);continue}break}while(!0)}function Kc(){var a=Sa.current;return Sa.current=va,a===null?va:a}function Hl(){(ni===0||ni===3||ni===2)&&(ni=4),ai===null||!(to&268435455)&&!(_a&268435455)||Us(ai,vi)}function Pa(a,u){var m=cr;cr|=2;var R=Kc();(ai!==a||vi!==u)&&(Ps=null,ro(a,u));do try{of();break}catch(M){Gc(a,M)}while(!0);if(sl(),cr=m,Sa.current=R,Zr!==null)throw Error(n(261));return ai=null,vi=0,ni}function of(){for(;Zr!==null;)Xc(Zr)}function af(){for(;Zr!==null&&!Pr();)Xc(Zr)}function Xc(a){var u=Jc(a.alternate,a,Hi);a.memoizedProps=a.pendingProps,u===null?Yc(a):Zr=u,Fl.current=null}function Yc(a){var u=a;do{var m=u.alternate;if(a=u.return,u.flags&32768){if(m=Jd(m,u),m!==null){m.flags&=32767,Zr=m;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{ni=6,Zr=null;return}}else if(m=Qd(m,u,Hi),m!==null){Zr=m;return}if(u=u.sibling,u!==null){Zr=u;return}Zr=u=a}while(u!==null);ni===0&&(ni=5)}function io(a,u,m){var R=Nn,M=ts.transition;try{ts.transition=null,Nn=1,lf(a,u,m,R)}finally{ts.transition=M,Nn=R}return null}function lf(a,u,m,R){do Co();while(zs!==null);if(cr&6)throw Error(n(327));m=a.finishedWork;var M=a.finishedLanes;if(m===null)return null;if(a.finishedWork=null,a.finishedLanes=0,m===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var $=m.lanes|m.childLanes;if(tr(a,$),a===ai&&(Zr=ai=null,vi=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||Aa||(Aa=!0,ed(Ci,function(){return Co(),null})),$=(m.flags&15990)!==0,m.subtreeFlags&15990||$){$=ts.transition,ts.transition=null;var oe=Nn;Nn=1;var Le=cr;cr|=4,Fl.current=null,tf(a,m),zc(m,a),St(Ha),Oe=!!Wa,Ha=Wa=null,a.current=m,nf(m),Pi(),cr=Le,Nn=oe,ts.transition=$}else a.current=m;if(Aa&&(Aa=!1,zs=a,Ta=M),$=a.pendingLanes,$===0&&(js=null),xs(m.stateNode),ji(a,nr()),u!==null)for(R=a.onRecoverableError,m=0;m<u.length;m++)M=u[m],R(M.value,{componentStack:M.stack,digest:M.digest});if(Ca)throw Ca=!1,a=zl,zl=null,a;return Ta&1&&a.tag!==0&&Co(),$=a.pendingLanes,$&1?a===$l?Ho++:(Ho=0,$l=a):Ho=0,Ls(),null}function Co(){if(zs!==null){var a=Dn(Ta),u=ts.transition,m=Nn;try{if(ts.transition=null,Nn=16>a?16:a,zs===null)var R=!1;else{if(a=zs,zs=null,Ta=0,cr&6)throw Error(n(331));var M=cr;for(cr|=4,Cn=a.current;Cn!==null;){var $=Cn,oe=$.child;if(Cn.flags&16){var Le=$.deletions;if(Le!==null){for(var Ge=0;Ge<Le.length;Ge++){var Ct=Le[Ge];for(Cn=Ct;Cn!==null;){var Ht=Cn;switch(Ht.tag){case 0:case 11:case 15:Vo(8,Ht,$)}var Jt=Ht.child;if(Jt!==null)Jt.return=Ht,Cn=Jt;else for(;Cn!==null;){Ht=Cn;var qt=Ht.sibling,yn=Ht.return;if(Lc(Ht),Ht===Ct){Cn=null;break}if(qt!==null){qt.return=yn,Cn=qt;break}Cn=yn}}}var Tn=$.alternate;if(Tn!==null){var Rn=Tn.child;if(Rn!==null){Tn.child=null;do{var Kr=Rn.sibling;Rn.sibling=null,Rn=Kr}while(Rn!==null)}}Cn=$}}if($.subtreeFlags&2064&&oe!==null)oe.return=$,Cn=oe;else e:for(;Cn!==null;){if($=Cn,$.flags&2048)switch($.tag){case 0:case 11:case 15:Vo(9,$,$.return)}var bt=$.sibling;if(bt!==null){bt.return=$.return,Cn=bt;break e}Cn=$.return}}var st=a.current;for(Cn=st;Cn!==null;){oe=Cn;var wt=oe.child;if(oe.subtreeFlags&2064&&wt!==null)wt.return=oe,Cn=wt;else e:for(oe=st;Cn!==null;){if(Le=Cn,Le.flags&2048)try{switch(Le.tag){case 0:case 11:case 15:wa(9,Le)}}catch(Pn){Gr(Le,Le.return,Pn)}if(Le===oe){Cn=null;break e}var sn=Le.sibling;if(sn!==null){sn.return=Le.return,Cn=sn;break e}Cn=Le.return}}if(cr=M,Ls(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(as,a)}catch{}R=!0}return R}finally{Nn=m,ts.transition=u}}return!1}function Zc(a,u,m){u=Eo(m,u),u=mc(a,u,1),a=Fs(a,u,1),u=ki(),a!==null&&(Vn(a,1,u),ji(a,u))}function Gr(a,u,m){if(a.tag===3)Zc(a,a,m);else for(;u!==null;){if(u.tag===3){Zc(u,a,m);break}else if(u.tag===1){var R=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(js===null||!js.has(R))){a=Eo(m,a),a=gc(u,a,1),u=Fs(u,a,1),a=ki(),u!==null&&(Vn(u,1,a),ji(u,a));break}}u=u.return}}function uf(a,u,m){var R=a.pingCache;R!==null&&R.delete(u),u=ki(),a.pingedLanes|=a.suspendedLanes&m,ai===a&&(vi&m)===m&&(ni===4||ni===3&&(vi&130023424)===vi&&500>nr()-jl?ro(a,0):Bl|=m),ji(a,u)}function Qc(a,u){u===0&&(a.mode&1?(u=ut,ut<<=1,!(ut&130023424)&&(ut=4194304)):u=1);var m=ki();a=Ts(a,u),a!==null&&(Vn(a,u,m),ji(a,m))}function cf(a){var u=a.memoizedState,m=0;u!==null&&(m=u.retryLane),Qc(a,m)}function df(a,u){var m=0;switch(a.tag){case 13:var R=a.stateNode,M=a.memoizedState;M!==null&&(m=M.retryLane);break;case 19:R=a.stateNode;break;default:throw Error(n(314))}R!==null&&R.delete(u),Qc(a,m)}var Jc;Jc=function(a,u,m){if(a!==null)if(a.memoizedProps!==u.pendingProps||Li.current)Fi=!0;else{if(!(a.lanes&m)&&!(u.flags&128))return Fi=!1,Zd(a,u,m);Fi=!!(a.flags&131072)}else Fi=!1,zr&&u.flags&1048576&&Ou(u,sa,u.index);switch(u.lanes=0,u.tag){case 2:var R=u.type;xa(a,u),a=u.pendingProps;var M=ho(u,Ei.current);bo(u,m),M=gl(null,u,R,a,M,m);var $=vl();return u.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Mi(R)?($=!0,na(u)):$=!1,u.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,ul(u),M.updater=ya,u.stateNode=M,M._reactInternals=u,Sl(u,R,a,m),u=Tl(null,u,R,!0,$,m)):(u.tag=0,zr&&$&&Ja(u),Ri(null,u,M,m),u=u.child),u;case 16:R=u.elementType;e:{switch(xa(a,u),a=u.pendingProps,M=R._init,R=M(R._payload),u.type=R,M=u.tag=hf(R),a=cs(R,a),M){case 0:u=Al(null,u,R,a,m);break e;case 1:u=Cc(null,u,R,a,m);break e;case 11:u=xc(null,u,R,a,m);break e;case 14:u=Ec(null,u,R,cs(R.type,a),m);break e}throw Error(n(306,R,""))}return u;case 0:return R=u.type,M=u.pendingProps,M=u.elementType===R?M:cs(R,M),Al(a,u,R,M,m);case 1:return R=u.type,M=u.pendingProps,M=u.elementType===R?M:cs(R,M),Cc(a,u,R,M,m);case 3:e:{if(Ac(u),a===null)throw Error(n(387));R=u.pendingProps,$=u.memoizedState,M=$.element,$u(a,u),da(u,R,null,m);var oe=u.memoizedState;if(R=oe.element,$.isDehydrated)if($={element:R,isDehydrated:!1,cache:oe.cache,pendingSuspenseBoundaries:oe.pendingSuspenseBoundaries,transitions:oe.transitions},u.updateQueue.baseState=$,u.memoizedState=$,u.flags&256){M=Eo(Error(n(423)),u),u=Tc(a,u,R,m,M);break e}else if(R!==M){M=Eo(Error(n(424)),u),u=Tc(a,u,R,m,M);break e}else for(Wi=Os(u.stateNode.containerInfo.firstChild),qi=u,zr=!0,us=null,m=ju(u,null,R,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(go(),R===M){u=ks(a,u,m);break e}Ri(a,u,R,m)}u=u.child}return u;case 5:return qu(u),a===null&&nl(u),R=u.type,M=u.pendingProps,$=a!==null?a.memoizedProps:null,oe=M.children,Ga(R,M)?oe=null:$!==null&&Ga(R,$)&&(u.flags|=32),_c(a,u),Ri(a,u,oe,m),u.child;case 6:return a===null&&nl(u),null;case 13:return Rc(a,u,m);case 4:return cl(u,u.stateNode.containerInfo),R=u.pendingProps,a===null?u.child=vo(u,null,R,m):Ri(a,u,R,m),u.child;case 11:return R=u.type,M=u.pendingProps,M=u.elementType===R?M:cs(R,M),xc(a,u,R,M,m);case 7:return Ri(a,u,u.pendingProps,m),u.child;case 8:return Ri(a,u,u.pendingProps.children,m),u.child;case 12:return Ri(a,u,u.pendingProps.children,m),u.child;case 10:e:{if(R=u.type._context,M=u.pendingProps,$=u.memoizedProps,oe=M.value,Or(la,R._currentValue),R._currentValue=oe,$!==null)if(ze($.value,oe)){if($.children===M.children&&!Li.current){u=ks(a,u,m);break e}}else for($=u.child,$!==null&&($.return=u);$!==null;){var Le=$.dependencies;if(Le!==null){oe=$.child;for(var Ge=Le.firstContext;Ge!==null;){if(Ge.context===R){if($.tag===1){Ge=Rs(-1,m&-m),Ge.tag=2;var Ct=$.updateQueue;if(Ct!==null){Ct=Ct.shared;var Ht=Ct.pending;Ht===null?Ge.next=Ge:(Ge.next=Ht.next,Ht.next=Ge),Ct.pending=Ge}}$.lanes|=m,Ge=$.alternate,Ge!==null&&(Ge.lanes|=m),al($.return,m,u),Le.lanes|=m;break}Ge=Ge.next}}else if($.tag===10)oe=$.type===u.type?null:$.child;else if($.tag===18){if(oe=$.return,oe===null)throw Error(n(341));oe.lanes|=m,Le=oe.alternate,Le!==null&&(Le.lanes|=m),al(oe,m,u),oe=$.sibling}else oe=$.child;if(oe!==null)oe.return=$;else for(oe=$;oe!==null;){if(oe===u){oe=null;break}if($=oe.sibling,$!==null){$.return=oe.return,oe=$;break}oe=oe.return}$=oe}Ri(a,u,M.children,m),u=u.child}return u;case 9:return M=u.type,R=u.pendingProps.children,bo(u,m),M=Ji(M),R=R(M),u.flags|=1,Ri(a,u,R,m),u.child;case 14:return R=u.type,M=cs(R,u.pendingProps),M=cs(R.type,M),Ec(a,u,R,M,m);case 15:return wc(a,u,u.type,u.pendingProps,m);case 17:return R=u.type,M=u.pendingProps,M=u.elementType===R?M:cs(R,M),xa(a,u),u.tag=1,Mi(R)?(a=!0,na(u)):a=!1,bo(u,m),hc(u,R,M),Sl(u,R,M,m),Tl(null,u,R,!0,a,m);case 19:return Pc(a,u,m);case 22:return Sc(a,u,m)}throw Error(n(156,u.tag))};function ed(a,u){return Xr(a,u)}function ff(a,u,m,R){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(a,u,m,R){return new ff(a,u,m,R)}function Gl(a){return a=a.prototype,!(!a||!a.isReactComponent)}function hf(a){if(typeof a=="function")return Gl(a)?1:0;if(a!=null){if(a=a.$$typeof,a===W)return 11;if(a===we)return 14}return 2}function Vs(a,u){var m=a.alternate;return m===null?(m=ns(a.tag,u,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=u,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&14680064,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,u=a.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m}function Da(a,u,m,R,M,$){var oe=2;if(R=a,typeof a=="function")Gl(a)&&(oe=1);else if(typeof a=="string")oe=5;else e:switch(a){case F:return so(m.children,M,$,u);case C:oe=8,M|=8;break;case O:return a=ns(12,m,u,M|2),a.elementType=O,a.lanes=$,a;case J:return a=ns(13,m,u,M),a.elementType=J,a.lanes=$,a;case ne:return a=ns(19,m,u,M),a.elementType=ne,a.lanes=$,a;case re:return Oa(m,M,$,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case P:oe=10;break e;case G:oe=9;break e;case W:oe=11;break e;case we:oe=14;break e;case me:oe=16,R=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=ns(oe,m,u,M),u.elementType=a,u.type=R,u.lanes=$,u}function so(a,u,m,R){return a=ns(7,a,R,u),a.lanes=m,a}function Oa(a,u,m,R){return a=ns(22,a,R,u),a.elementType=re,a.lanes=m,a.stateNode={isHidden:!1},a}function Kl(a,u,m){return a=ns(6,a,null,u),a.lanes=m,a}function Xl(a,u,m){return u=ns(4,a.children!==null?a.children:[],a.key,u),u.lanes=m,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function pf(a,u,m,R,M){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gn(0),this.expirationTimes=gn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gn(0),this.identifierPrefix=R,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function Yl(a,u,m,R,M,$,oe,Le,Ge){return a=new pf(a,u,m,Le,Ge),u===1?(u=1,$===!0&&(u|=8)):u=0,$=ns(3,null,null,u),a.current=$,$.stateNode=a,$.memoizedState={element:R,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},ul($),a}function mf(a,u,m){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:R==null?null:""+R,children:a,containerInfo:u,implementation:m}}function td(a){if(!a)return Ns;a=a._reactInternals;e:{if(dr(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var m=a.type;if(Mi(m))return ku(a,m,u)}return u}function nd(a,u,m,R,M,$,oe,Le,Ge){return a=Yl(m,R,!0,a,M,$,oe,Le,Ge),a.context=td(null),m=a.current,R=ki(),M=$s(m),$=Rs(R,M),$.callback=u??null,Fs(m,$,M),a.current.lanes=M,Vn(a,M,R),ji(a,R),a}function Ia(a,u,m,R){var M=u.current,$=ki(),oe=$s(M);return m=td(m),u.context===null?u.context=m:u.pendingContext=m,u=Rs($,oe),u.payload={element:a},R=R===void 0?null:R,R!==null&&(u.callback=R),a=Fs(M,u,oe),a!==null&&(hs(a,M,oe,$),ca(a,M,oe)),oe}function Na(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function rd(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<u?m:u}}function Zl(a,u){rd(a,u),(a=a.alternate)&&rd(a,u)}var sd=typeof reportError=="function"?reportError:function(a){console.error(a)};function Ql(a){this._internalRoot=a}La.prototype.render=Ql.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));Ia(a,u,null,null)},La.prototype.unmount=Ql.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;no(function(){Ia(null,a,null,null)}),u[Ss]=null}};function La(a){this._internalRoot=a}La.prototype.unstable_scheduleHydration=function(a){if(a){var u=Ir();a={blockedOn:null,target:a,priority:u};for(var m=0;m<si.length&&u!==0&&u<si[m].priority;m++);si.splice(m,0,a),m===0&&ie(a)}};function Jl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Ma(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function od(){}function gf(a,u,m,R,M){if(M){if(typeof R=="function"){var $=R;R=function(){var Ct=Na(oe);$.call(Ct)}}var oe=nd(u,R,a,0,null,!1,!1,"",od);return a._reactRootContainer=oe,a[Ss]=oe.current,Po(a.nodeType===8?a.parentNode:a),no(),oe}for(;M=a.lastChild;)a.removeChild(M);if(typeof R=="function"){var Le=R;R=function(){var Ct=Na(Ge);Le.call(Ct)}}var Ge=Yl(a,0,!1,null,null,!1,!1,"",od);return a._reactRootContainer=Ge,a[Ss]=Ge.current,Po(a.nodeType===8?a.parentNode:a),no(function(){Ia(u,Ge,m,R)}),Ge}function Fa(a,u,m,R,M){var $=m._reactRootContainer;if($){var oe=$;if(typeof M=="function"){var Le=M;M=function(){var Ge=Na(oe);Le.call(Ge)}}Ia(u,oe,a,M)}else oe=gf(m,u,a,M,R);return Na(oe)}$r=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var m=Ye(u.pendingLanes);m!==0&&(rr(u,m|1),ji(u,nr()),!(cr&6)&&(_o=nr()+500,Ls()))}break;case 13:no(function(){var R=Ts(a,1);if(R!==null){var M=ki();hs(R,a,1,M)}}),Zl(a,1)}},$i=function(a){if(a.tag===13){var u=Ts(a,134217728);if(u!==null){var m=ki();hs(u,a,134217728,m)}Zl(a,134217728)}},ps=function(a){if(a.tag===13){var u=$s(a),m=Ts(a,u);if(m!==null){var R=ki();hs(m,a,u,R)}Zl(a,u)}},Ir=function(){return Nn},Ai=function(a,u){var m=Nn;try{return Nn=a,u()}finally{Nn=m}},Ee=function(a,u,m){switch(u){case"input":if(ve(a,m),u=m.name,m.type==="radio"&&u!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var R=m[u];if(R!==a&&R.form===a.form){var M=ea(R);if(!M)throw Error(n(90));V(R),ve(R,M)}}}break;case"textarea":gt(a,m);break;case"select":u=m.value,u!=null&&fe(a,!!m.multiple,u,!1)}},Ne=ql,Je=no;var vf={usingClientEntryPoint:!1,Events:[Io,co,ea,Ce,N,ql]},Go={findFiberByHostInstance:Ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yf={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=kr(a),a===null?null:a.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ba.isDisabled&&Ba.supportsFiber)try{as=Ba.inject(yf),Br=Ba}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vf,reactDom_production_min.createPortal=function(a,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jl(u))throw Error(n(200));return mf(a,u,null,m)},reactDom_production_min.createRoot=function(a,u){if(!Jl(a))throw Error(n(299));var m=!1,R="",M=sd;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(R=u.identifierPrefix),u.onRecoverableError!==void 0&&(M=u.onRecoverableError)),u=Yl(a,1,!1,null,null,m,!1,R,M),a[Ss]=u.current,Po(a.nodeType===8?a.parentNode:a),new Ql(u)},reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=kr(u),a=a===null?null:a.stateNode,a},reactDom_production_min.flushSync=function(a){return no(a)},reactDom_production_min.hydrate=function(a,u,m){if(!Ma(u))throw Error(n(200));return Fa(null,a,u,!0,m)},reactDom_production_min.hydrateRoot=function(a,u,m){if(!Jl(a))throw Error(n(405));var R=m!=null&&m.hydratedSources||null,M=!1,$="",oe=sd;if(m!=null&&(m.unstable_strictMode===!0&&(M=!0),m.identifierPrefix!==void 0&&($=m.identifierPrefix),m.onRecoverableError!==void 0&&(oe=m.onRecoverableError)),u=nd(u,null,a,1,m??null,M,!1,$,oe),a[Ss]=u.current,Po(a),R)for(a=0;a<R.length;a++)m=R[a],M=m._getVersion,M=M(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,M]:u.mutableSourceEagerHydrationData.push(m,M);return new La(u)},reactDom_production_min.render=function(a,u,m){if(!Ma(u))throw Error(n(200));return Fa(null,a,u,!1,m)},reactDom_production_min.unmountComponentAtNode=function(a){if(!Ma(a))throw Error(n(40));return a._reactRootContainer?(no(function(){Fa(null,null,a,!1,function(){a._reactRootContainer=null,a[Ss]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=ql,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,u,m,R){if(!Ma(m))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Fa(a,u,m,!1,R)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var t=requireReactDom();return client.createRoot=t.createRoot,client.hydrateRoot=t.hydrateRoot,client}var clientExports=requireClient(),dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=l,dist.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,x){const S=new o,w=y.length;if(w<2)return S;const v=(x==null?void 0:x.decode)||p;let b=0;do{const _=y.indexOf("=",b);if(_===-1)break;const E=y.indexOf(";",b),k=E===-1?w:E;if(_>k){b=y.lastIndexOf(";",_-1)+1;continue}const T=c(y,b,_),L=f(y,_,T),F=y.slice(T,L);if(S[F]===void 0){let C=c(y,_+1,k),O=f(y,k,C);const P=v(y.slice(C,O));S[F]=P}b=k+1}while(b<w);return S}function c(y,x,S){do{const w=y.charCodeAt(x);if(w!==32&&w!==9)return x}while(++x<S);return S}function f(y,x,S){for(;x>S;){const w=y.charCodeAt(--x);if(w!==32&&w!==9)return x+1}return S}function h(y,x,S){const w=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(y))throw new TypeError(`argument name is invalid: ${y}`);const v=w(x);if(!e.test(v))throw new TypeError(`argument val is invalid: ${x}`);let b=y+"="+v;if(!S)return b;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);b+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);b+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);b+="; Path="+S.path}if(S.expires){if(!g(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);b+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(b+="; HttpOnly"),S.secure&&(b+="; Secure"),S.partitioned&&(b+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return b}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return s.call(y)==="[object Date]"}return dist}requireDist();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(t={}){function e(i,s){let{pathname:o,search:l,hash:c}=i.location;return createLocation("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:createPath(s)}return getUrlBasedHistory(e,n,null,t)}function invariant$1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function warning(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(t,e){return{usr:t.state,key:t.key,idx:e}}function createLocation(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?parsePath(e):e,state:n,key:e&&e.key||i||createKey()}}function createPath({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function parsePath(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function getUrlBasedHistory(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,c="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){c="POP";let v=p(),b=v==null?null:v-h;h=v,f&&f({action:c,location:w.location,delta:b})}function y(v,b){c="PUSH";let _=createLocation(w.location,v,b);h=p()+1;let E=getHistoryState(_,h),k=w.createHref(_);try{l.pushState(E,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(k)}o&&f&&f({action:c,location:w.location,delta:1})}function x(v,b){c="REPLACE";let _=createLocation(w.location,v,b);h=p();let E=getHistoryState(_,h),k=w.createHref(_);l.replaceState(E,"",k),o&&f&&f({action:c,location:w.location,delta:0})}function S(v){let b=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof v=="string"?v:createPath(v);return _=_.replace(/ $/,"%20"),invariant$1(b,`No window.location.(origin|href) available to create URL for href: ${_}`),new URL(_,b)}let w={get action(){return c},get location(){return t(s,l)},listen(v){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(PopStateEventType,g),f=v,()=>{s.removeEventListener(PopStateEventType,g),f=null}},createHref(v){return e(s,v)},createURL:S,encodeLocation(v){let b=S(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:x,go(v){return l.go(v)}};return w}function matchRoutes(t,e,n="/"){return matchRoutesImpl(t,e,n,!1)}function matchRoutesImpl(t,e,n,i){let s=typeof e=="string"?parsePath(e):e,o=stripBasename(s.pathname||"/",n);if(o==null)return null;let l=flattenRoutes(t);rankRouteBranches(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=decodePath(o);c=matchRouteBranch(l[f],h,i)}return c}function flattenRoutes(t,e=[],n=[],i=""){let s=(o,l,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(invariant$1(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let h=joinPaths([i,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(invariant$1(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),flattenRoutes(o.children,e,p,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:computeScore(h,o.index),routesMeta:p})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let f of explodeOptionalSegments(o.path))s(o,l,f)}),e}function explodeOptionalSegments(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=explodeOptionalSegments(i.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),s&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function rankRouteBranches(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:compareIndexes(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=t=>t==="*";function computeScore(t,e){let n=t.split("/"),i=n.length;return n.some(isSplat)&&(i+=splatPenalty),e&&(i+=indexRouteValue),n.filter(s=>!isSplat(s)).reduce((s,o)=>s+(paramRe.test(o)?dynamicSegmentValue:o===""?emptySegmentValue:staticSegmentValue),i)}function compareIndexes(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function matchRouteBranch(t,e,n=!1){let{routesMeta:i}=t,s={},o="/",l=[];for(let c=0;c<i.length;++c){let f=i[c],h=c===i.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=matchPath({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),y=f.route;if(!g&&h&&n&&!i[i.length-1].route.index&&(g=matchPath({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:joinPaths([o,g.pathname]),pathnameBase:normalizePathname(joinPaths([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=joinPaths([o,g.pathnameBase]))}return l}function matchPath(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=compilePath(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let S=c[y]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const x=c[y];return g&&!x?h[p]=void 0:h[p]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function compilePath(t,e=!1,n=!0){warning(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function decodePath(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function stripBasename(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function resolvePath(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?parsePath(t):t;return{pathname:n?n.startsWith("/")?n:resolvePathname(n,e):e,search:normalizeSearch(i),hash:normalizeHash(s)}}function resolvePathname(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(t){let e=getPathContributingMatches(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function resolveTo(t,e,n,i=!1){let s;typeof t=="string"?s=parsePath(t):(s={...t},invariant$1(!s.pathname||!s.pathname.includes("?"),getInvalidPathError("?","pathname","search",s)),invariant$1(!s.pathname||!s.pathname.includes("#"),getInvalidPathError("#","pathname","hash",s)),invariant$1(!s.search||!s.search.includes("#"),getInvalidPathError("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!i&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}c=g>=0?e[g]:"/"}let f=resolvePath(s,c),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,normalizeHash=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function isRouteErrorResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(t,{relative:e}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=reactExports.useContext(NavigationContext),{hash:s,pathname:o,search:l}=useResolvedPath(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:joinPaths([n,o])),i.createHref({pathname:c,search:l,hash:s})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$1(t){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=reactExports.useContext(RouteContext);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let t=reactExports.useContext(DataRouterContext),{basename:e,navigator:n}=reactExports.useContext(NavigationContext),{matches:i}=reactExports.useContext(RouteContext),{pathname:s}=useLocation(),o=JSON.stringify(getResolveToMatches(i)),l=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{l.current=!0}),reactExports.useCallback((f,h={})=>{if(warning(l.current,navigateEffectWarning),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=resolveTo(f,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:joinPaths([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,s,t])}reactExports.createContext(null);function useParams(){let{matches:t}=reactExports.useContext(RouteContext),e=t[t.length-1];return e?e.params:{}}function useResolvedPath(t,{relative:e}={}){let{matches:n}=reactExports.useContext(RouteContext),{pathname:i}=useLocation(),s=JSON.stringify(getResolveToMatches(n));return reactExports.useMemo(()=>resolveTo(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function useRoutes(t,e){return useRoutesImpl(t,e)}function useRoutesImpl(t,e,n,i){var _;invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),c=l[l.length-1],f=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let E=g&&g.path||"";warningOnce(h,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=useLocation(),x;if(e){let E=typeof e=="string"?parsePath(e):e;invariant$1(p==="/"||((_=E.pathname)==null?void 0:_.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=y;let S=x.pathname||"/",w=S;if(p!=="/"){let E=p.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let v=!o&&n&&n.matches&&n.matches.length>0?n.matches:matchRoutes(t,{pathname:w});warning(g||v!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),warning(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=_renderMatches(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:joinPaths([p,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:joinPaths([p,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,n,i);return e&&b?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},b):b}function DefaultErrorComponent(){let t=useRouteError(),e=isRouteErrorResponse(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:o},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:o},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),n?reactExports.createElement("pre",{style:s},n):null,l)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:t,match:e,children:n}){let i=reactExports.useContext(DataRouterContext);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),reactExports.createElement(RouteContext.Provider,{value:t},n)}function _renderMatches(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let f=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);invariant$1(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,c=-1;if(n)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:p,errors:g}=n,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,h,p)=>{let g,y=!1,x=null,S=null;n&&(g=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||defaultErrorElement,l&&(c<0&&p===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):c===p&&(y=!0,S=h.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,p+1)),v=()=>{let b;return g?b=x:y?b=S:h.route.Component?b=reactExports.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=f,reactExports.createElement(RenderedRoute,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}function getDataRouterConsoleError(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(t){let e=reactExports.useContext(DataRouterContext);return invariant$1(e,getDataRouterConsoleError(t)),e}function useDataRouterState(t){let e=reactExports.useContext(DataRouterStateContext);return invariant$1(e,getDataRouterConsoleError(t)),e}function useRouteContext(t){let e=reactExports.useContext(RouteContext);return invariant$1(e,getDataRouterConsoleError(t)),e}function useCurrentRouteId(t){let e=useRouteContext(t),n=e.matches[e.matches.length-1];return invariant$1(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var i;let t=reactExports.useContext(RouteErrorContext),e=useDataRouterState("useRouteError"),n=useCurrentRouteId("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function useNavigateStable(){let{router:t}=useDataRouterContext("useNavigate"),e=useCurrentRouteId("useNavigate"),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{n.current=!0}),reactExports.useCallback(async(s,o={})=>{warning(n.current,navigateEffectWarning),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var alreadyWarned={};function warningOnce(t,e,n){!e&&!alreadyWarned[t]&&(alreadyWarned[t]=!0,warning(!1,n))}reactExports.memo(DataRoutes);function DataRoutes({routes:t,future:e,state:n}){return useRoutesImpl(t,void 0,n,e)}function Navigate({to:t,replace:e,state:n,relative:i}){invariant$1(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=reactExports.useContext(NavigationContext);warning(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=reactExports.useContext(RouteContext),{pathname:l}=useLocation(),c=useNavigate(),f=resolveTo(t,getResolveToMatches(o),l,i==="path"),h=JSON.stringify(f);return reactExports.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:i})},[c,h,i,e,n]),null}function Route(t){invariant$1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:o=!1}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=reactExports.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=parsePath(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:y="default"}=n,x=reactExports.useMemo(()=>{let S=stripBasename(f,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:g,key:y},navigationType:i}},[l,f,h,p,g,y,i]);return warning(x!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:reactExports.createElement(NavigationContext.Provider,{value:c},reactExports.createElement(LocationContext.Provider,{children:e,value:x}))}function Routes({children:t,location:e}){return useRoutes(createRoutesFromChildren(t),e)}function createRoutesFromChildren(t,e=[]){let n=[];return reactExports.Children.forEach(t,(i,s)=>{if(!reactExports.isValidElement(i))return;let o=[...e,s];if(i.type===reactExports.Fragment){n.push.apply(n,createRoutesFromChildren(i.props.children,o));return}invariant$1(i.type===Route,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$1(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=createRoutesFromChildren(i.props.children,o)),n.push(l)}),n}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(t){return t!=null&&typeof t.tagName=="string"}function isButtonElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="button"}function isFormElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="form"}function isInputElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="input"}function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function shouldProcessLinkClick(t,e){return t.button===0&&(!e||e==="_self")&&!isModifiedEvent(t)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(t){return t!=null&&!supportedFormEncTypes.has(t)?(warning(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):t}function getFormSubmissionInfo(t,e){let n,i,s,o,l;if(isFormElement(t)){let c=t.getAttribute("action");i=c?stripBasename(c,e):null,n=t.getAttribute("method")||defaultMethod,s=getFormEncType(t.getAttribute("enctype"))||defaultEncType,o=new FormData(t)}else if(isButtonElement(t)||isInputElement(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(i=f?stripBasename(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||defaultMethod,s=getFormEncType(t.getAttribute("formenctype"))||getFormEncType(c.getAttribute("enctype"))||defaultEncType,o=new FormData(c,t),!isFormDataSubmitterSupported()){let{name:h,type:p,value:g}=t;if(p==="image"){let y=h?`${h}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else h&&o.append(h,g)}}else{if(isHtmlElement(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=defaultMethod,i=null,s=defaultEncType,l=t}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:l}}function invariant2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function loadRouteModule(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function getKeyedPrefetchLinks(t,e,n){let i=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await loadRouteModule(o,n);return l.links?l.links():[]}return[]}));return dedupeLinkDescriptors(i.flat(1).filter(isHtmlLinkDescriptor).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function getNewMatchesForLinks(t,e,n,i,s,o){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,c=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):o==="data"?e.filter((f,h)=>{var g;let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function getModuleLinkHrefs(t,e){return dedupeHrefs(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function dedupeHrefs(t){return[...new Set(t)]}function sortKeys(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function dedupeLinkDescriptors(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let o=JSON.stringify(sortKeys(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}function singleFetchUrl(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function useDataRouterContext2(){let t=reactExports.useContext(DataRouterContext);return invariant2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function useDataRouterStateContext(){let t=reactExports.useContext(DataRouterStateContext);return invariant2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let t=reactExports.useContext(FrameworkContext);return invariant2(t,"You must render this element inside a <HydratedRouter> element"),t}function usePrefetchBehavior(t,e){let n=reactExports.useContext(FrameworkContext),[i,s]=reactExports.useState(!1),[o,l]=reactExports.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,y=reactExports.useRef(null);reactExports.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=b=>{b.forEach(_=>{l(_.isIntersecting)})},v=new IntersectionObserver(w,{threshold:.5});return y.current&&v.observe(y.current),()=>{v.disconnect()}}},[t]),reactExports.useEffect(()=>{if(i){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[i]);let x=()=>{s(!0)},S=()=>{s(!1),l(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:composeEventHandlers(c,x),onBlur:composeEventHandlers(f,S),onMouseEnter:composeEventHandlers(h,x),onMouseLeave:composeEventHandlers(p,S),onTouchStart:composeEventHandlers(g,x)}]:[!1,y,{}]}function composeEventHandlers(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function PrefetchPageLinks({page:t,...e}){let{router:n}=useDataRouterContext2(),i=reactExports.useMemo(()=>matchRoutes(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?reactExports.createElement(PrefetchPageLinksImpl,{page:t,matches:i,...e}):null}function useKeyedPrefetchLinks(t){let{manifest:e,routeModules:n}=useFrameworkContext(),[i,s]=reactExports.useState([]);return reactExports.useEffect(()=>{let o=!1;return getKeyedPrefetchLinks(t,e,n).then(l=>{o||s(l)}),()=>{o=!0}},[t,e,n]),i}function PrefetchPageLinksImpl({page:t,matches:e,...n}){let i=useLocation(),{manifest:s,routeModules:o}=useFrameworkContext(),{loaderData:l,matches:c}=useDataRouterStateContext(),f=reactExports.useMemo(()=>getNewMatchesForLinks(t,e,c,s,i,"data"),[t,e,c,s,i]),h=reactExports.useMemo(()=>getNewMatchesForLinks(t,e,c,s,i,"assets"),[t,e,c,s,i]),p=reactExports.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let x=new Set,S=!1;if(e.forEach(v=>{var _;let b=s.routes[v.route.id];!b||!b.hasLoader||(!f.some(E=>E.route.id===v.route.id)&&v.route.id in l&&((_=o[v.route.id])!=null&&_.shouldRevalidate)||b.hasClientLoader?S=!0:x.add(v.route.id))}),x.size===0)return[];let w=singleFetchUrl(t);return S&&x.size>0&&w.searchParams.set("_routes",e.filter(v=>x.has(v.route.id)).map(v=>v.route.id).join(",")),[w.pathname+w.search]},[l,i,s,f,e,t,o]),g=reactExports.useMemo(()=>getModuleLinkHrefs(h,s),[h,s]),y=useKeyedPrefetchLinks(h);return reactExports.createElement(reactExports.Fragment,null,p.map(x=>reactExports.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),g.map(x=>reactExports.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:S})=>reactExports.createElement("link",{key:x,...S})))}function mergeRefs(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$2&&(window.__reactRouterVersion="7.1.5")}catch{}function BrowserRouter({basename:t,children:e,window:n}){let i=reactExports.useRef();i.current==null&&(i.current=createBrowserHistory({window:n,v5Compat:!0}));let s=i.current,[o,l]=reactExports.useState({action:s.action,location:s.location}),c=reactExports.useCallback(f=>{reactExports.startTransition(()=>l(f))},[l]);return reactExports.useLayoutEffect(()=>s.listen(c),[s,c]),reactExports.createElement(Router,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:c,target:f,to:h,preventScrollReset:p,viewTransition:g,...y},x){let{basename:S}=reactExports.useContext(NavigationContext),w=typeof h=="string"&&ABSOLUTE_URL_REGEX2.test(h),v,b=!1;if(typeof h=="string"&&w&&(v=h,isBrowser$2))try{let O=new URL(window.location.href),P=h.startsWith("//")?new URL(O.protocol+h):new URL(h),G=stripBasename(P.pathname,S);P.origin===O.origin&&G!=null?h=G+P.search+P.hash:b=!0}catch{warning(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=useHref(h,{relative:s}),[E,k,T]=usePrefetchBehavior(i,y),L=useLinkClickHandler(h,{replace:l,state:c,target:f,preventScrollReset:p,relative:s,viewTransition:g});function F(O){e&&e(O),O.defaultPrevented||L(O)}let C=reactExports.createElement("a",{...y,...T,href:v||_,onClick:b||o?e:F,ref:mergeRefs(x,k),target:f,"data-discover":!w&&n==="render"?"true":void 0});return E&&!w?reactExports.createElement(reactExports.Fragment,null,C,reactExports.createElement(PrefetchPageLinks,{page:_})):C});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:f,...h},p){let g=useResolvedPath(l,{relative:h.relative}),y=useLocation(),x=reactExports.useContext(DataRouterStateContext),{navigator:S,basename:w}=reactExports.useContext(NavigationContext),v=x!=null&&useViewTransitionState(g)&&c===!0,b=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,_=y.pathname,E=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(_=_.toLowerCase(),E=E?E.toLowerCase():null,b=b.toLowerCase()),E&&w&&(E=stripBasename(E,w)||E);const k=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let T=_===b||!s&&_.startsWith(b)&&_.charAt(k)==="/",L=E!=null&&(E===b||!s&&E.startsWith(b)&&E.charAt(b.length)==="/"),F={isActive:T,isPending:L,isTransitioning:v},C=T?e:void 0,O;typeof i=="function"?O=i(F):O=[i,T?"active":null,L?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(F):o;return reactExports.createElement(Link,{...h,"aria-current":C,className:O,ref:p,style:P,to:l,viewTransition:c},typeof f=="function"?f(F):f)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:o,method:l=defaultMethod,action:c,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...y},x)=>{let S=useSubmit(),w=useFormAction(c,{relative:h}),v=l.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&ABSOLUTE_URL_REGEX2.test(c),_=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let k=E.nativeEvent.submitter,T=(k==null?void 0:k.getAttribute("formmethod"))||l;S(k||E.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:s,state:o,relative:h,preventScrollReset:p,viewTransition:g})};return reactExports.createElement("form",{ref:x,method:v,action:w,onSubmit:i?f:_,...y,"data-discover":!b&&t==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(t){let e=reactExports.useContext(DataRouterContext);return invariant$1(e,getDataRouterConsoleError2(t)),e}function useLinkClickHandler(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=useNavigate(),f=useLocation(),h=useResolvedPath(t,{relative:o});return reactExports.useCallback(p=>{if(shouldProcessLinkClick(p,e)){p.preventDefault();let g=n!==void 0?n:createPath(f)===createPath(h);c(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[f,c,h,n,i,e,t,s,o,l])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:t}=useDataRouterContext3("useSubmit"),{basename:e}=reactExports.useContext(NavigationContext),n=useRouteId();return reactExports.useCallback(async(i,s={})=>{let{action:o,method:l,encType:c,formData:f,body:h}=getFormSubmissionInfo(i,e);if(s.navigate===!1){let p=s.fetcherKey||getUniqueFetcherId();await t.fetch(p,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function useFormAction(t,{relative:e}={}){let{basename:n}=reactExports.useContext(NavigationContext),i=reactExports.useContext(RouteContext);invariant$1(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...useResolvedPath(t||".",{relative:e})},l=useLocation();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(p=>p==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:joinPaths([n,o.pathname])),createPath(o)}function useViewTransitionState(t,e={}){let n=reactExports.useContext(ViewTransitionContext);invariant$1(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=useDataRouterContext3("useViewTransitionState"),s=useResolvedPath(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=stripBasename(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=stripBasename(n.nextLocation.pathname,i)||n.nextLocation.pathname;return matchPath(s.pathname,l)!=null||matchPath(s.pathname,o)!=null}new TextEncoder;var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports),common={black:"#000",white:"#fff"},red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function formatMuiErrorMessage(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(i=>n.searchParams.append("args[]",i)),`Minified MUI error #${t}; visit ${n} for the full message.`}const THEME_ID="$$material";function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends.apply(null,arguments)}function sheetForTag(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function createStyleElement(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var StyleSheet=function(){function t(n){var i=this;this._insertTag=function(s){var o;i.tags.length===0?i.insertionPoint?o=i.insertionPoint.nextSibling:i.prepend?o=i.container.firstChild:o=i.before:o=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,o),i.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=sheetForTag(s);try{o.insertRule(i,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)}),this.tags=[],this.ctr=0},t}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign$1=Object.assign;function hash(t,e){return charat(t,0)^45?(((e<<2^charat(t,0))<<2^charat(t,1))<<2^charat(t,2))<<2^charat(t,3):0}function trim$1(t){return t.trim()}function match(t,e){return(t=e.exec(t))?t[0]:t}function replace(t,e,n){return t.replace(e,n)}function indexof(t,e){return t.indexOf(e)}function charat(t,e){return t.charCodeAt(e)|0}function substr(t,e,n){return t.slice(e,n)}function strlen(t){return t.length}function sizeof(t){return t.length}function append(t,e){return e.push(t),t}function combine(t,e){return t.map(e).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(t,e,n,i,s,o,l){return{value:t,root:e,parent:n,type:i,props:s,children:o,line,column,length:l,return:""}}function copy(t,e){return assign$1(node("",null,null,"",null,null,0),t,{length:-t.length},e)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(t,e){return substr(characters,t,e)}function token(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(t){return line=column=1,length=strlen(characters=t),position=0,[]}function dealloc(t){return characters="",t}function delimit(t){return trim$1(slice(position-1,delimiter(t===91?t+2:t===40?t+1:t)))}function whitespace(t){for(;(character=peek())&&character<33;)next();return token(t)>2||token(character)>3?"":" "}function escaping(t,e){for(;--e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(t,caret()+(e<6&&peek()==32&&next()==32))}function delimiter(t){for(;next();)switch(character){case t:return position;case 34:case 39:t!==34&&t!==39&&delimiter(character);break;case 40:t===41&&delimiter(t);break;case 92:next();break}return position}function commenter(t,e){for(;next()&&t+character!==57;)if(t+character===84&&peek()===47)break;return"/*"+slice(e,position-1)+"*"+from(t===47?t:next())}function identifier(t){for(;!token(peek());)next();return slice(t,position)}function compile(t){return dealloc(parse$1("",null,null,null,[""],t=alloc(t),0,[0],t))}function parse$1(t,e,n,i,s,o,l,c,f){for(var h=0,p=0,g=l,y=0,x=0,S=0,w=1,v=1,b=1,_=0,E="",k=s,T=o,L=i,F=E;v;)switch(S=_,_=next()){case 40:if(S!=108&&charat(F,g-1)==58){indexof(F+=replace(delimit(_),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:F+=delimit(_);break;case 9:case 10:case 13:case 32:F+=whitespace(S);break;case 92:F+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),e,n),f);break;default:F+="/"}break;case 123*w:c[h++]=strlen(F)*b;case 125*w:case 59:case 0:switch(_){case 0:case 125:v=0;case 59+p:b==-1&&(F=replace(F,/\f/g,"")),x>0&&strlen(F)-g&&append(x>32?declaration(F+";",i,n,g-1):declaration(replace(F," ","")+";",i,n,g-2),f);break;case 59:F+=";";default:if(append(L=ruleset(F,e,n,h,p,s,c,E,k=[],T=[],g),o),_===123)if(p===0)parse$1(F,e,L,L,k,o,g,c,T);else switch(y===99&&charat(F,3)===110?100:y){case 100:case 108:case 109:case 115:parse$1(t,L,L,i&&append(ruleset(t,L,L,0,0,s,c,E,s,k=[],g),T),s,T,g,c,i?k:T);break;default:parse$1(F,L,L,L,[""],T,0,c,T)}}h=p=x=0,w=b=1,E=F="",g=l;break;case 58:g=1+strlen(F),x=S;default:if(w<1){if(_==123)--w;else if(_==125&&w++==0&&prev()==125)continue}switch(F+=from(_),_*w){case 38:b=p>0?1:(F+="\f",-1);break;case 44:c[h++]=(strlen(F)-1)*b,b=1;break;case 64:peek()===45&&(F+=delimit(next())),y=peek(),p=g=strlen(E=F+=identifier(caret())),_++;break;case 45:S===45&&strlen(F)==2&&(w=0)}}return o}function ruleset(t,e,n,i,s,o,l,c,f,h,p){for(var g=s-1,y=s===0?o:[""],x=sizeof(y),S=0,w=0,v=0;S<i;++S)for(var b=0,_=substr(t,g+1,g=abs(w=l[S])),E=t;b<x;++b)(E=trim$1(w>0?y[b]+" "+_:replace(_,/&\f/g,y[b])))&&(f[v++]=E);return node(t,e,n,s===0?RULESET:c,f,h,p)}function comment(t,e,n){return node(t,e,n,COMMENT,from(char()),substr(t,2,-2),0)}function declaration(t,e,n,i){return node(t,e,n,DECLARATION,substr(t,0,i),substr(t,i+1,-1),i)}function serialize(t,e){for(var n="",i=sizeof(t),s=0;s<i;s++)n+=e(t[s],s,t,e)||"";return n}function stringify(t,e,n,i){switch(t.type){case LAYER:if(t.children.length)break;case IMPORT:case DECLARATION:return t.return=t.return||t.value;case COMMENT:return"";case KEYFRAMES:return t.return=t.value+"{"+serialize(t.children,i)+"}";case RULESET:t.value=t.props.join(",")}return strlen(n=serialize(t.children,i))?t.return=t.value+"{"+n+"}":""}function middleware(t){var e=sizeof(t);return function(n,i,s,o){for(var l="",c=0;c<e;c++)l+=t[c](n,i,s,o)||"";return l}}function rulesheet(t){return function(e){e.root||(e=e.return)&&t(e)}}function memoize$1(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var identifierWithPointTracking=function(e,n,i){for(var s=0,o=0;s=o,o=peek(),s===38&&o===12&&(n[i]=1),!token(o);)next();return slice(e,position)},toRules=function(e,n){var i=-1,s=44;do switch(token(s)){case 0:s===38&&peek()===12&&(n[i]=1),e[i]+=identifierWithPointTracking(position-1,n,i);break;case 2:e[i]+=delimit(s);break;case 4:if(s===44){e[++i]=peek()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=from(s)}while(s=next());return e},getRules=function(e,n){return dealloc(toRules(alloc(e),n))},fixedElements=new WeakMap,compat=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,s=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!fixedElements.get(i))&&!s){fixedElements.set(e,!0);for(var o=[],l=getRules(n,o),c=i.props,f=0,h=0;f<l.length;f++)for(var p=0;p<c.length;p++,h++)e.props[h]=o[f]?l[f].replace(/&\f/g,c[p]):c[p]+" "+l[f]}}},removeLabel=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function prefix(t,e){switch(hash(t,e)){case 5103:return WEBKIT+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+t+MOZ+t+MS+t+t;case 6828:case 4268:return WEBKIT+t+MS+t+t;case 6165:return WEBKIT+t+MS+"flex-"+t+t;case 5187:return WEBKIT+t+replace(t,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+t;case 5443:return WEBKIT+t+MS+"flex-item-"+replace(t,/flex-|-self/,"")+t;case 4675:return WEBKIT+t+MS+"flex-line-pack"+replace(t,/align-content|flex-|-self/,"")+t;case 5548:return WEBKIT+t+MS+replace(t,"shrink","negative")+t;case 5292:return WEBKIT+t+MS+replace(t,"basis","preferred-size")+t;case 6060:return WEBKIT+"box-"+replace(t,"-grow","")+WEBKIT+t+MS+replace(t,"grow","positive")+t;case 4554:return WEBKIT+replace(t,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+t;case 6187:return replace(replace(replace(t,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),t,"")+t;case 5495:case 3959:return replace(t,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(t,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+t+t;case 4095:case 3583:case 4068:case 2532:return replace(t,/(.+)-inline(.+)/,WEBKIT+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(t)-1-e>6)switch(charat(t,e+1)){case 109:if(charat(t,e+4)!==45)break;case 102:return replace(t,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~indexof(t,"stretch")?prefix(replace(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(charat(t,e+1)!==115)break;case 6444:switch(charat(t,strlen(t)-3-(~indexof(t,"!important")&&10))){case 107:return replace(t,":",":"+WEBKIT)+t;case 101:return replace(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(t,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+t}break;case 5936:switch(charat(t,e+11)){case 114:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return WEBKIT+t+MS+replace(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return WEBKIT+t+MS+t+t}return t}var prefixer=function(e,n,i,s){if(e.length>-1&&!e.return)switch(e.type){case DECLARATION:e.return=prefix(e.value,e.length);break;case KEYFRAMES:return serialize([copy(e,{value:replace(e.value,"@","@"+WEBKIT)})],s);case RULESET:if(e.length)return combine(e.props,function(o){switch(match(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(e,{props:[replace(o,/:(read-\w+)/,":"+MOZ+"$1")]})],s);case"::placeholder":return serialize([copy(e,{props:[replace(o,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(e,{props:[replace(o,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(e,{props:[replace(o,/:(plac\w+)/,MS+"input-$1")]})],s)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(w){var v=w.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var s=e.stylisPlugins||defaultStylisPlugins,o={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var v=w.getAttribute("data-emotion").split(" "),b=1;b<v.length;b++)o[v[b]]=!0;c.push(w)});var f,h=[compat,removeLabel];{var p,g=[stringify,rulesheet(function(w){p.insert(w)})],y=middleware(h.concat(s,g)),x=function(v){return serialize(compile(v),y)};f=function(v,b,_,E){p=_,x(v?v+"{"+b.styles+"}":b.styles),E&&(S.inserted[b.name]=!0)}}var S={key:n,sheet:new StyleSheet({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return S.sheet.hydrate(c),S},reactIs={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,x=t?Symbol.for("react.memo"):60115,S=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,_=t?Symbol.for("react.scope"):60119;function E(T){if(typeof T=="object"&&T!==null){var L=T.$$typeof;switch(L){case e:switch(T=T.type,T){case f:case h:case i:case o:case s:case g:return T;default:switch(T=T&&T.$$typeof,T){case c:case p:case S:case x:case l:return T;default:return L}}case n:return L}}}function k(T){return E(T)===h}return reactIs_production_min.AsyncMode=f,reactIs_production_min.ConcurrentMode=h,reactIs_production_min.ContextConsumer=c,reactIs_production_min.ContextProvider=l,reactIs_production_min.Element=e,reactIs_production_min.ForwardRef=p,reactIs_production_min.Fragment=i,reactIs_production_min.Lazy=S,reactIs_production_min.Memo=x,reactIs_production_min.Portal=n,reactIs_production_min.Profiler=o,reactIs_production_min.StrictMode=s,reactIs_production_min.Suspense=g,reactIs_production_min.isAsyncMode=function(T){return k(T)||E(T)===f},reactIs_production_min.isConcurrentMode=k,reactIs_production_min.isContextConsumer=function(T){return E(T)===c},reactIs_production_min.isContextProvider=function(T){return E(T)===l},reactIs_production_min.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===e},reactIs_production_min.isForwardRef=function(T){return E(T)===p},reactIs_production_min.isFragment=function(T){return E(T)===i},reactIs_production_min.isLazy=function(T){return E(T)===S},reactIs_production_min.isMemo=function(T){return E(T)===x},reactIs_production_min.isPortal=function(T){return E(T)===n},reactIs_production_min.isProfiler=function(T){return E(T)===o},reactIs_production_min.isStrictMode=function(T){return E(T)===s},reactIs_production_min.isSuspense=function(T){return E(T)===g},reactIs_production_min.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===i||T===h||T===o||T===s||T===g||T===y||typeof T=="object"&&T!==null&&(T.$$typeof===S||T.$$typeof===x||T.$$typeof===l||T.$$typeof===c||T.$$typeof===p||T.$$typeof===v||T.$$typeof===b||T.$$typeof===_||T.$$typeof===w)},reactIs_production_min.typeOf=E,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var hoistNonReactStatics_cjs,hasRequiredHoistNonReactStatics_cjs;function requireHoistNonReactStatics_cjs(){if(hasRequiredHoistNonReactStatics_cjs)return hoistNonReactStatics_cjs;hasRequiredHoistNonReactStatics_cjs=1;var t=requireReactIs(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=i,o[t.Memo]=s;function l(S){return t.isMemo(S)?s:o[S.$$typeof]||e}var c=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,y=Object.prototype;function x(S,w,v){if(typeof w!="string"){if(y){var b=g(w);b&&b!==y&&x(S,b,v)}var _=f(w);h&&(_=_.concat(h(w)));for(var E=l(S),k=l(w),T=0;T<_.length;++T){var L=_[T];if(!n[L]&&!(v&&v[L])&&!(k&&k[L])&&!(E&&E[L])){var F=p(w,L);try{c(S,L,F)}catch{}}}}return S}return hoistNonReactStatics_cjs=x,hoistNonReactStatics_cjs}requireHoistNonReactStatics_cjs();var isBrowser$1=!0;function getRegisteredStyles(t,e,n){var i="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(i+=s+" ")}),i}var registerStyles=function(e,n,i){var s=e.key+"-"+n.name;(i===!1||isBrowser$1===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},insertStyles=function(e,n,i){registerStyles(e,n,i);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function murmur2(t){for(var e=0,n,i=0,s=t.length;s>=4;++i,s-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(e){return e.charCodeAt(1)===45},isProcessableValue=function(e){return e!=null&&typeof e!="boolean"},processStyleName=memoize$1(function(t){return isCustomProperty(t)?t:t.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(animationRegex,function(i,s,o){return cursor={name:s,styles:o,next:cursor},s})}return unitlessKeys[e]!==1&&!isCustomProperty(e)&&typeof n=="number"&&n!==0?n+"px":n};function handleInterpolation(t,e,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return cursor={name:s.name,styles:s.styles,next:cursor},s.name;var o=n;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)cursor={name:l.name,styles:l.styles,next:cursor},l=l.next;var c=o.styles+";";return c}return createStringFromObject(t,e,n)}case"function":{if(t!==void 0){var f=cursor,h=n(t);return cursor=f,handleInterpolation(t,e,h)}break}}var p=n;if(e==null)return p;var g=e[p];return g!==void 0?g:p}function createStringFromObject(t,e,n){var i="";if(Array.isArray(n))for(var s=0;s<n.length;s++)i+=handleInterpolation(t,e,n[s])+";";else for(var o in n){var l=n[o];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?i+=o+"{"+e[c]+"}":isProcessableValue(c)&&(i+=processStyleName(o)+":"+processStyleValue(o,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var f=0;f<l.length;f++)isProcessableValue(l[f])&&(i+=processStyleName(o)+":"+processStyleValue(o,l[f])+";");else{var h=handleInterpolation(t,e,l);switch(o){case"animation":case"animationName":{i+=processStyleName(o)+":"+h+";";break}default:i+=o+"{"+h+"}"}}}return i}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";cursor=void 0;var o=t[0];if(o==null||o.raw===void 0)i=!1,s+=handleInterpolation(n,e,o);else{var l=o;s+=l[0]}for(var c=1;c<t.length;c++)if(s+=handleInterpolation(n,e,t[c]),i){var f=o;s+=f[c]}labelPattern.lastIndex=0;for(var h="",p;(p=labelPattern.exec(s))!==null;)h+="-"+p[1];var g=murmur2(s)+h;return{name:g,styles:s,next:cursor}}var syncFallback=function(e){return e()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(e){return reactExports.forwardRef(function(n,i){var s=reactExports.useContext(EmotionCacheContext);return e(n,s,i)})},ThemeContext=reactExports.createContext({}),hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(e,n){var i={};for(var s in n)hasOwn.call(n,s)&&(i[s]=n[s]);return i[typePropName]=e,i},Insertion$1=function(e){var n=e.cache,i=e.serialized,s=e.isStringTag;return registerStyles(n,i,s),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(n,i,s)}),null},Emotion=withEmotionCache(function(t,e,n){var i=t.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var s=t[typePropName],o=[i],l="";typeof t.className=="string"?l=getRegisteredStyles(e.registered,o,t.className):t.className!=null&&(l=t.className+" ");var c=serializeStyles(o,void 0,reactExports.useContext(ThemeContext));l+=e.key+"-"+c.name;var f={};for(var h in t)hasOwn.call(t,h)&&h!=="css"&&h!==typePropName&&(f[h]=t[h]);return f.className=l,n&&(f.ref=n),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:e,serialized:c,isStringTag:typeof s=="string"}),reactExports.createElement(s,f))}),Emotion$1=Emotion,jsx=function(e,n){var i=arguments;if(n==null||!hasOwn.call(n,"css"))return reactExports.createElement.apply(void 0,i);var s=i.length,o=new Array(s);o[0]=Emotion$1,o[1]=createEmotionProps(e,n);for(var l=2;l<s;l++)o[l]=i[l];return reactExports.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(jsx);function css(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return serializeStyles(e)}function keyframes$1(){var t=css.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(t){return reactPropsRegex.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(e){return e!=="theme"},getDefaultShouldForwardProp=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(e,n,i){var s;if(n){var o=n.shouldForwardProp;s=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof s!="function"&&i&&(s=e.__emotion_forwardProp),s},Insertion=function(e){var n=e.cache,i=e.serialized,s=e.isStringTag;return registerStyles(n,i,s),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(n,i,s)}),null},createStyled$1=function t(e,n){var i=e.__emotion_real===e,s=i&&e.__emotion_base||e,o,l;n!==void 0&&(o=n.label,l=n.target);var c=composeShouldForwardProps(e,n,i),f=c||getDefaultShouldForwardProp(s),h=!f("as");return function(){var p=arguments,g=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&g.push("label:"+o+";"),p[0]==null||p[0].raw===void 0)g.push.apply(g,p);else{var y=p[0];g.push(y[0]);for(var x=p.length,S=1;S<x;S++)g.push(p[S],y[S])}var w=withEmotionCache(function(v,b,_){var E=h&&v.as||s,k="",T=[],L=v;if(v.theme==null){L={};for(var F in v)L[F]=v[F];L.theme=reactExports.useContext(ThemeContext)}typeof v.className=="string"?k=getRegisteredStyles(b.registered,T,v.className):v.className!=null&&(k=v.className+" ");var C=serializeStyles(g.concat(T),b.registered,L);k+=b.key+"-"+C.name,l!==void 0&&(k+=" "+l);var O=h&&c===void 0?getDefaultShouldForwardProp(E):f,P={};for(var G in v)h&&G==="as"||O(G)&&(P[G]=v[G]);return P.className=k,_&&(P.ref=_),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:b,serialized:C,isStringTag:typeof E=="string"}),reactExports.createElement(E,P))});return w.displayName=o!==void 0?o:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=s,w.__emotion_styles=g,w.__emotion_forwardProp=c,Object.defineProperty(w,"toString",{value:function(){return"."+l}}),w.withComponent=function(v,b){var _=t(v,_extends({},n,b,{shouldForwardProp:composeShouldForwardProps(w,b,!0)}));return _.apply(void 0,g)},w}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind(null);tags.forEach(function(t){newStyled[t]=newStyled(t)});/**
 * @mui/styled-engine v6.4.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(t,e){return newStyled(t,e)}function internal_mutateStyles(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const wrapper=[];function internal_serializeStyles(t){return wrapper[0]=t,serializeStyles(wrapper)}function isPlainObject$1(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function deepClone(t){if(reactExports.isValidElement(t)||!isPlainObject$1(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=deepClone(t[n])}),e}function deepmerge(t,e,n={clone:!0}){const i=n.clone?{...t}:t;return isPlainObject$1(t)&&isPlainObject$1(e)&&Object.keys(e).forEach(s=>{reactExports.isValidElement(e[s])?i[s]=e[s]:isPlainObject$1(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&isPlainObject$1(t[s])?i[s]=deepmerge(t[s],e[s],n):n.clone?i[s]=isPlainObject$1(e[s])?deepClone(e[s]):e[s]:i[s]=e[s]}),i}const sortBreakpointsValues=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,i)=>n.val-i.val),e.reduce((n,i)=>({...n,[i.key]:i.val}),{})};function createBreakpoints(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5,...s}=t,o=sortBreakpointsValues(e),l=Object.keys(o);function c(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n})`}function f(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-i/100}${n})`}function h(y,x){const S=l.indexOf(x);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n}) and (max-width:${(S!==-1&&typeof e[l[S]]=="number"?e[l[S]]:x)-i/100}${n})`}function p(y){return l.indexOf(y)+1<l.length?h(y,l[l.indexOf(y)+1]):c(y)}function g(y){const x=l.indexOf(y);return x===0?c(l[1]):x===l.length-1?f(l[x]):h(y,l[l.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:c,down:f,between:h,only:p,not:g,unit:n,...s}}function sortContainerQueries(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,s)=>{var l,c;const o=/min-width:\s*([0-9.]+)/;return+(((l=i.match(o))==null?void 0:l[1])||0)-+(((c=s.match(o))==null?void 0:c[1])||0)});return n.length?n.reduce((i,s)=>{const o=e[s];return delete i[s],i[s]=o,i},{...e}):e}function isCqShorthand(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function getContainerQuery(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,i,s]=n,o=Number.isNaN(+i)?i||0:+i;return t.containerQueries(s).up(o)}function cssContainerQueries(t){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function n(o,l){o.up=(...c)=>e(t.breakpoints.up(...c),l),o.down=(...c)=>e(t.breakpoints.down(...c),l),o.between=(...c)=>e(t.breakpoints.between(...c),l),o.only=(...c)=>e(t.breakpoints.only(...c),l),o.not=(...c)=>{const f=e(t.breakpoints.not(...c),l);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const i={},s=o=>(n(i,o),i);return n(s),{...t,containerQueries:s}}const shape={borderRadius:4};function merge$1(t,e){return e?deepmerge(t,e,{clone:!1}):t}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${values$1[t]}px)`},defaultContainerQueries={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:values$1[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function handleBreakpoints(t,e,n){const i=t.theme||{};if(Array.isArray(e)){const o=i.breakpoints||defaultBreakpoints;return e.reduce((l,c,f)=>(l[o.up(o.keys[f])]=n(e[f]),l),{})}if(typeof e=="object"){const o=i.breakpoints||defaultBreakpoints;return Object.keys(e).reduce((l,c)=>{if(isCqShorthand(o.keys,c)){const f=getContainerQuery(i.containerQueries?i:defaultContainerQueries,c);f&&(l[f]=n(e[c],c))}else if(Object.keys(o.values||values$1).includes(c)){const f=o.up(c);l[f]=n(e[c],c)}else{const f=c;l[f]=e[f]}return l},{})}return n(e)}function createEmptyBreakpointObject(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((i,s)=>{const o=t.up(s);return i[o]={},i},{}))||{}}function removeUnusedBreakpoints(t,e){return t.reduce((n,i)=>{const s=n[i];return(!s||Object.keys(s).length===0)&&delete n[i],n},e)}function computeBreakpointsBase(t,e){if(typeof t!="object")return{};const n={},i=Object.keys(e);return Array.isArray(t)?i.forEach((s,o)=>{o<t.length&&(n[s]=!0)}):i.forEach(s=>{t[s]!=null&&(n[s]=!0)}),n}function resolveBreakpointValues({values:t,breakpoints:e,base:n}){const i=n||computeBreakpointsBase(t,e),s=Object.keys(i);if(s.length===0)return t;let o;return s.reduce((l,c,f)=>(Array.isArray(t)?(l[c]=t[f]!=null?t[f]:t[o],o=f):typeof t=="object"?(l[c]=t[c]!=null?t[c]:t[o],o=c):l[c]=t,l),{})}function capitalize(t){if(typeof t!="string")throw new Error(formatMuiErrorMessage(7));return t.charAt(0).toUpperCase()+t.slice(1)}function getPath(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const i=`vars.${e}`.split(".").reduce((s,o)=>s&&s[o]?s[o]:null,t);if(i!=null)return i}return e.split(".").reduce((i,s)=>i&&i[s]!=null?i[s]:null,t)}function getStyleValue(t,e,n,i=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||i:s=getPath(t,n)||i,e&&(s=e(s,i,t)),s}function style$1(t){const{prop:e,cssProperty:n=t.prop,themeKey:i,transform:s}=t,o=l=>{if(l[e]==null)return null;const c=l[e],f=l.theme,h=getPath(f,i)||{};return handleBreakpoints(l,c,g=>{let y=getStyleValue(h,s,g);return g===y&&typeof g=="string"&&(y=getStyleValue(h,s,`${e}${g==="default"?"":capitalize(g)}`,g)),n===!1?y:{[n]:y}})};return o.propTypes={},o.filterProps=[e],o}function memoize(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(t=>{if(t.length>2)if(aliases[t])t=aliases[t];else return[t];const[e,n]=t.split(""),i=properties[e],s=directions[n]||"";return Array.isArray(s)?s.map(o=>i+o):[i+s]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(t,e,n,i){const s=getPath(t,e,!0)??n;return typeof s=="number"||typeof s=="string"?o=>typeof o=="string"?o:typeof s=="string"?`calc(${o} * ${s})`:s*o:Array.isArray(s)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),c=s[l];return o>=0?c:typeof c=="number"?-c:`-${c}`}:typeof s=="function"?s:()=>{}}function createUnarySpacing(t){return createUnaryUnit(t,"spacing",8)}function getValue(t,e){return typeof e=="string"||e==null?e:t(e)}function getStyleFromPropValue(t,e){return n=>t.reduce((i,s)=>(i[s]=getValue(e,n),i),{})}function resolveCssProperty(t,e,n,i){if(!e.includes(n))return null;const s=getCssProperties(n),o=getStyleFromPropValue(s,i),l=t[n];return handleBreakpoints(t,l,o)}function style(t,e){const n=createUnarySpacing(t.theme);return Object.keys(t).map(i=>resolveCssProperty(t,e,i,n)).reduce(merge$1,{})}function margin(t){return style(t,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(t){return style(t,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(t=8,e=createUnarySpacing({spacing:t})){if(t.mui)return t;const n=(...i)=>(i.length===0?[1]:i).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return n.mui=!0,n}function compose(...t){const e=t.reduce((i,s)=>(s.filterProps.forEach(o=>{i[o]=s}),i),{}),n=i=>Object.keys(i).reduce((s,o)=>e[o]?merge$1(s,e[o](i)):s,{});return n.propTypes={},n.filterProps=t.reduce((i,s)=>i.concat(s.filterProps),[]),n}function borderTransform(t){return typeof t!="number"?t:`${t}px solid`}function createBorderStyle(t,e){return style$1({prop:t,themeKey:"borders",transform:e})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=createUnaryUnit(t.theme,"shape.borderRadius",4),n=i=>({borderRadius:getValue(e,i)});return handleBreakpoints(t,t.borderRadius,n)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=t=>{if(t.gap!==void 0&&t.gap!==null){const e=createUnaryUnit(t.theme,"spacing",8),n=i=>({gap:getValue(e,i)});return handleBreakpoints(t,t.gap,n)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=createUnaryUnit(t.theme,"spacing",8),n=i=>({columnGap:getValue(e,i)});return handleBreakpoints(t,t.columnGap,n)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=createUnaryUnit(t.theme,"spacing",8),n=i=>({rowGap:getValue(e,i)});return handleBreakpoints(t,t.rowGap,n)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(t,e){return e==="grey"?e:t}const color$1=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color$1,bgcolor,backgroundColor);function sizingTransform(t){return t<=1&&t!==0?`${t*100}%`:t}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var s,o,l,c,f;const i=((l=(o=(s=t.theme)==null?void 0:s.breakpoints)==null?void 0:o.values)==null?void 0:l[n])||values$1[n];return i?((f=(c=t.theme)==null?void 0:c.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:sizingTransform(n)}};return handleBreakpoints(t,t.maxWidth,e)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function objectsHaveSameKeys(...t){const e=t.reduce((i,s)=>i.concat(Object.keys(s)),[]),n=new Set(e);return t.every(i=>n.size===Object.keys(i).length)}function callIfFn(t,e){return typeof t=="function"?t(e):t}function unstable_createStyleFunctionSx(){function t(n,i,s,o){const l={[n]:i,theme:s},c=o[n];if(!c)return{[n]:i};const{cssProperty:f=n,themeKey:h,transform:p,style:g}=c;if(i==null)return null;if(h==="typography"&&i==="inherit")return{[n]:i};const y=getPath(s,h)||{};return g?g(l):handleBreakpoints(l,i,S=>{let w=getStyleValue(y,p,S);return S===w&&typeof S=="string"&&(w=getStyleValue(y,p,`${n}${S==="default"?"":capitalize(S)}`,S)),f===!1?w:{[f]:w}})}function e(n){const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=s.unstable_sxConfig??defaultSxConfig;function l(c){let f=c;if(typeof c=="function")f=c(s);else if(typeof c!="object")return c;if(!f)return null;const h=createEmptyBreakpointObject(s.breakpoints),p=Object.keys(h);let g=h;return Object.keys(f).forEach(y=>{const x=callIfFn(f[y],s);if(x!=null)if(typeof x=="object")if(o[y])g=merge$1(g,t(y,x,s,o));else{const S=handleBreakpoints({theme:s},x,w=>({[y]:w}));objectsHaveSameKeys(S,x)?g[y]=e({sx:x,theme:s}):g=merge$1(g,S)}else g=merge$1(g,t(y,x,s,o))}),sortContainerQueries(s,removeUnusedBreakpoints(p,g))}return Array.isArray(i)?i.map(l):l(i)}return e}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];function applyStyles(t,e){var i;const n=this;if(n.vars){if(!((i=n.colorSchemes)!=null&&i[t])||typeof n.getColorSchemeSelector!="function")return{};let s=n.getColorSchemeSelector(t);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return n.palette.mode===t?e:{}}function createTheme$1(t={},...e){const{breakpoints:n={},palette:i={},spacing:s,shape:o={},...l}=t,c=createBreakpoints(n),f=createSpacing(s);let h=deepmerge({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:f,shape:{...shape,...o}},l);return h=cssContainerQueries(h),h.applyStyles=applyStyles,h=e.reduce((p,g)=>deepmerge(p,g),h),h.unstable_sxConfig={...defaultSxConfig,...l==null?void 0:l.unstable_sxConfig},h.unstable_sx=function(g){return styleFunctionSx({sx:g,theme:this})},h}function isObjectEmpty$1(t){return Object.keys(t).length===0}function useTheme$2(t=null){const e=reactExports.useContext(ThemeContext);return!e||isObjectEmpty$1(e)?t:e}const systemDefaultTheme$1=createTheme$1();function useTheme$1(t=systemDefaultTheme$1){return useTheme$2(t)}const splitProps=t=>{var i;const e={systemProps:{},otherProps:{}},n=((i=t==null?void 0:t.theme)==null?void 0:i.unstable_sxConfig)??defaultSxConfig;return Object.keys(t).forEach(s=>{n[s]?e.systemProps[s]=t[s]:e.otherProps[s]=t[s]}),e};function extendSxProp$1(t){const{sx:e,...n}=t,{systemProps:i,otherProps:s}=splitProps(n);let o;return Array.isArray(e)?o=[i,...e]:typeof e=="function"?o=(...l)=>{const c=e(...l);return isPlainObject$1(c)?{...i,...c}:i}:o={...i,...e},{...s,sx:o}}const defaultGenerator=t=>t,createClassNameGenerator=()=>{let t=defaultGenerator;return{configure(e){t=e},generate(e){return t(e)},reset(){t=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator();function r(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function clsx(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}function createBox$1(t={}){const{themeId:e,defaultTheme:n,defaultClassName:i="MuiBox-root",generateClassName:s}=t,o=styled$2("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(styleFunctionSx);return reactExports.forwardRef(function(f,h){const p=useTheme$1(n),{className:g,component:y="div",...x}=extendSxProp$1(f);return jsxRuntimeExports.jsx(o,{as:y,ref:h,className:clsx(g,s?s(i):i),theme:e&&p[e]||p,...x})})}const globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(t,e,n="Mui"){const i=globalStateClasses[e];return i?`${n}-${i}`:`${ClassNameGenerator.generate(t)}-${e}`}function generateUtilityClasses(t,e,n="Mui"){const i={};return e.forEach(s=>{i[s]=generateUtilityClass(t,s,n)}),i}function preprocessStyles(t){const{variants:e,...n}=t,i={variants:e,style:internal_serializeStyles(n),isProcessed:!0};return i.style===n||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=internal_serializeStyles(s.style))}),i}const systemDefaultTheme=createTheme$1();function shouldForwardProp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function defaultOverridesResolver(t){return t?(e,n)=>n[t]:null}function attachTheme(t,e,n){t.theme=isObjectEmpty(t.theme)?n:t.theme[e]||t.theme}function processStyle(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(i=>processStyle(t,i));if(Array.isArray(n==null?void 0:n.variants)){let i;if(n.isProcessed)i=n.style;else{const{variants:s,...o}=n;i=o}return processStyleVariants(t,n.variants,[i])}return n!=null&&n.isProcessed?n.style:n}function processStyleVariants(t,e,n=[]){var s;let i;e:for(let o=0;o<e.length;o+=1){const l=e[o];if(typeof l.props=="function"){if(i??(i={...t,...t.ownerState,ownerState:t.ownerState}),!l.props(i))continue}else for(const c in l.props)if(t[c]!==l.props[c]&&((s=t.ownerState)==null?void 0:s[c])!==l.props[c])continue e;typeof l.style=="function"?(i??(i={...t,...t.ownerState,ownerState:t.ownerState}),n.push(l.style(i))):n.push(l.style)}return n}function createStyled(t={}){const{themeId:e,defaultTheme:n=systemDefaultTheme,rootShouldForwardProp:i=shouldForwardProp,slotShouldForwardProp:s=shouldForwardProp}=t;function o(c){attachTheme(c,e,n)}return(c,f={})=>{internal_mutateStyles(c,T=>T.filter(L=>L!==styleFunctionSx));const{name:h,slot:p,skipVariantsResolver:g,skipSx:y,overridesResolver:x=defaultOverridesResolver(lowercaseFirstLetter(p)),...S}=f,w=g!==void 0?g:p&&p!=="Root"&&p!=="root"||!1,v=y||!1;let b=shouldForwardProp;p==="Root"||p==="root"?b=i:p?b=s:isStringTag(c)&&(b=void 0);const _=styled$2(c,{shouldForwardProp:b,label:generateStyledLabel(),...S}),E=T=>{if(typeof T=="function"&&T.__emotion_real!==T)return function(F){return processStyle(F,T)};if(isPlainObject$1(T)){const L=preprocessStyles(T);return L.variants?function(C){return processStyle(C,L)}:L.style}return T},k=(...T)=>{const L=[],F=T.map(E),C=[];if(L.push(o),h&&x&&C.push(function(W){var me,re;const ne=(re=(me=W.theme.components)==null?void 0:me[h])==null?void 0:re.styleOverrides;if(!ne)return null;const we={};for(const ee in ne)we[ee]=processStyle(W,ne[ee]);return x(W,we)}),h&&!w&&C.push(function(W){var we,me;const J=W.theme,ne=(me=(we=J==null?void 0:J.components)==null?void 0:we[h])==null?void 0:me.variants;return ne?processStyleVariants(W,ne):null}),v||C.push(styleFunctionSx),Array.isArray(F[0])){const G=F.shift(),W=new Array(L.length).fill(""),J=new Array(C.length).fill("");let ne;ne=[...W,...G,...J],ne.raw=[...W,...G.raw,...J],L.unshift(ne)}const O=[...L,...F,...C],P=_(...O);return c.muiName&&(P.muiName=c.muiName),P};return _.withConfig&&(k.withConfig=_.withConfig),k}}function generateStyledLabel(t,e){return void 0}function isObjectEmpty(t){for(const e in t)return!1;return!0}function isStringTag(t){return typeof t=="string"&&t.charCodeAt(0)>96}function lowercaseFirstLetter(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const styled$1=createStyled();function resolveProps(t,e){const n={...e};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const s=i;if(s==="components"||s==="slots")n[s]={...t[s],...n[s]};else if(s==="componentsProps"||s==="slotProps"){const o=t[s],l=e[s];if(!l)n[s]=o||{};else if(!o)n[s]=l;else{n[s]={...l};for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const f=c;n[s][f]=resolveProps(o[f],l[f])}}}else n[s]===void 0&&(n[s]=t[s])}return n}function getThemeProps$1(t){const{theme:e,name:n,props:i}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?i:resolveProps(e.components[n].defaultProps,i)}function useThemeProps({props:t,name:e,defaultTheme:n,themeId:i}){let s=useTheme$1(n);return i&&(s=s[i]||s),getThemeProps$1({theme:s,name:e,props:t})}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function clamp$1(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function clampWrapper(t,e=0,n=1){return clamp$1(t,e,n)}function hexToRgb(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(i=>i+i)),n?`rgb${n.length===4?"a":""}(${n.map((i,s)=>s<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(t){if(t.type)return t;if(t.charAt(0)==="#")return decomposeColor(hexToRgb(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(formatMuiErrorMessage(9,t));let i=t.substring(e+1,t.length-1),s;if(n==="color"){if(i=i.split(" "),s=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(formatMuiErrorMessage(10,s))}else i=i.split(",");return i=i.map(o=>parseFloat(o)),{type:n,values:i,colorSpace:s}}const colorChannel=t=>{const e=decomposeColor(t);return e.values.slice(0,3).map((n,i)=>e.type.includes("hsl")&&i!==0?`${n}%`:n).join(" ")},private_safeColorChannel=(t,e)=>{try{return colorChannel(t)}catch{return t}};function recomposeColor(t){const{type:e,colorSpace:n}=t;let{values:i}=t;return e.includes("rgb")?i=i.map((s,o)=>o<3?parseInt(s,10):s):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${n} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function hslToRgb(t){t=decomposeColor(t);const{values:e}=t,n=e[0],i=e[1]/100,s=e[2]/100,o=i*Math.min(s,1-s),l=(h,p=(h+n/30)%12)=>s-o*Math.max(Math.min(p-3,9-p,1),-1);let c="rgb";const f=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return t.type==="hsla"&&(c+="a",f.push(e[3])),recomposeColor({type:c,values:f})}function getLuminance(t){t=decomposeColor(t);let e=t.type==="hsl"||t.type==="hsla"?decomposeColor(hslToRgb(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function getContrastRatio(t,e){const n=getLuminance(t),i=getLuminance(e);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function alpha$1(t,e){return t=decomposeColor(t),e=clampWrapper(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,recomposeColor(t)}function private_safeAlpha(t,e,n){try{return alpha$1(t,e)}catch{return t}}function darken(t,e){if(t=decomposeColor(t),e=clampWrapper(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return recomposeColor(t)}function private_safeDarken(t,e,n){try{return darken(t,e)}catch{return t}}function lighten(t,e){if(t=decomposeColor(t),e=clampWrapper(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return recomposeColor(t)}function private_safeLighten(t,e,n){try{return lighten(t,e)}catch{return t}}function emphasize(t,e=.15){return getLuminance(t)>.5?darken(t,e):lighten(t,e)}function private_safeEmphasize(t,e,n){try{return emphasize(t,e)}catch{return t}}function createChainedFunction(...t){return t.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}function isMuiElement(t,e){var n,i,s;return reactExports.isValidElement(t)&&e.indexOf(t.type.muiName??((s=(i=(n=t.type)==null?void 0:n._payload)==null?void 0:i.value)==null?void 0:s.muiName))!==-1}function ownerDocument(t){return t&&t.ownerDocument||document}function ownerWindow(t){return ownerDocument(t).defaultView||window}function setRef(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let globalId=0;function useGlobalId(t){const[e,n]=reactExports.useState(t),i=t||e;return reactExports.useEffect(()=>{e==null&&(globalId+=1,n(`mui-${globalId}`))},[e]),i}const safeReact={...React$1},maybeReactUseId=safeReact.useId;function useId(t){if(maybeReactUseId!==void 0){const e=maybeReactUseId();return t??e}return useGlobalId(t)}function useControlled({controlled:t,default:e,name:n,state:i="value"}){const{current:s}=reactExports.useRef(t!==void 0),[o,l]=reactExports.useState(e),c=s?t:o,f=reactExports.useCallback(h=>{s||l(h)},[]);return[c,f]}function useEventCallback(t){const e=reactExports.useRef(t);return useEnhancedEffect(()=>{e.current=t}),reactExports.useRef((...n)=>(0,e.current)(...n)).current}function useForkRef(...t){return reactExports.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{setRef(n,e)})},t)}const UNINITIALIZED={};function useLazyRef(t,e){const n=reactExports.useRef(UNINITIALIZED);return n.current===UNINITIALIZED&&(n.current=t(e)),n}const EMPTY=[];function useOnMount(t){reactExports.useEffect(t,EMPTY)}class Timeout{constructor(){wr(this,"currentId",null);wr(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});wr(this,"disposeEffect",()=>this.clear)}static create(){return new Timeout}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function useTimeout(){const t=useLazyRef(Timeout.create).current;return useOnMount(t.disposeEffect),t}function isFocusVisible(t){try{return t.matches(":focus-visible")}catch{}return!1}function getScrollbarSize(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function getValidReactChildren(t){return reactExports.Children.toArray(t).filter(e=>reactExports.isValidElement(e))}const visuallyHidden={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function composeClasses(t,e,n=void 0){const i={};for(const s in t){const o=t[s];let l="",c=!0;for(let f=0;f<o.length;f+=1){const h=o[f];h&&(l+=(c===!0?"":" ")+e(h),c=!1,n&&n[h]&&(l+=" "+n[h]))}i[s]=l}return i}function isHostComponent$1(t){return typeof t=="string"}function appendOwnerState(t,e,n){return t===void 0||isHostComponent$1(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function extractEventHandlers(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(i=>i.match(/^on[A-Z]/)&&typeof t[i]=="function"&&!e.includes(i)).forEach(i=>{n[i]=t[i]}),n}function omitEventHandlers(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function mergeSlotProps(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:i,externalForwardedProps:s,className:o}=t;if(!e){const x=clsx(n==null?void 0:n.className,o,s==null?void 0:s.className,i==null?void 0:i.className),S={...n==null?void 0:n.style,...s==null?void 0:s.style,...i==null?void 0:i.style},w={...n,...s,...i};return x.length>0&&(w.className=x),Object.keys(S).length>0&&(w.style=S),{props:w,internalRef:void 0}}const l=extractEventHandlers({...s,...i}),c=omitEventHandlers(i),f=omitEventHandlers(s),h=e(l),p=clsx(h==null?void 0:h.className,n==null?void 0:n.className,o,s==null?void 0:s.className,i==null?void 0:i.className),g={...h==null?void 0:h.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...i==null?void 0:i.style},y={...h,...n,...f,...c};return p.length>0&&(y.className=p),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:h.ref}}function resolveComponentProps(t,e,n){return typeof t=="function"?t(e,n):t}function useSlotProps(t){var g;const{elementType:e,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:s=!1,...o}=t,l=s?{}:resolveComponentProps(n,i),{props:c,internalRef:f}=mergeSlotProps({...o,externalSlotProps:l}),h=useForkRef(f,l==null?void 0:l.ref,(g=t.additionalProps)==null?void 0:g.ref);return appendOwnerState(e,{...c,ref:h},i)}function getReactElementRef(t){var e;return parseInt(reactExports.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const RtlContext=reactExports.createContext(),useRtl=()=>reactExports.useContext(RtlContext)??!1,PropsContext=reactExports.createContext(void 0);function getThemeProps(t){const{theme:e,name:n,props:i}=t;if(!e||!e.components||!e.components[n])return i;const s=e.components[n];return s.defaultProps?resolveProps(s.defaultProps,i):!s.styleOverrides&&!s.variants?resolveProps(s,i):i}function useDefaultProps$1({props:t,name:e}){const n=reactExports.useContext(PropsContext);return getThemeProps({props:t,name:e,theme:{components:n}})}const arg={theme:void 0};function unstable_memoTheme(t){let e,n;return function(s){let o=e;return(o===void 0||s.theme!==n)&&(arg.theme=s.theme,o=preprocessStyles(t(arg)),e=o,n=s.theme),o}}function createGetCssVar$1(t=""){function e(...i){if(!i.length)return"";const s=i[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${s}${e(...i.slice(1))})`:`, ${s}`}return(i,...s)=>`var(--${t?`${t}-`:""}${i}${e(...s)})`}const assignNestedKeys=(t,e,n,i=[])=>{let s=t;e.forEach((o,l)=>{l===e.length-1?Array.isArray(s)?s[Number(o)]=n:s&&typeof s=="object"&&(s[o]=n):s&&typeof s=="object"&&(s[o]||(s[o]=i.includes(o)?[]:{}),s=s[o])})},walkObjectDeep=(t,e,n)=>{function i(s,o=[],l=[]){Object.entries(s).forEach(([c,f])=>{(!n||!n([...o,c]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?i(f,[...o,c],Array.isArray(f)?[...l,c]:l):e([...o,c],f,l))})}i(t)},getCssValue=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>t.includes(i))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function cssVarsParser(t,e){const{prefix:n,shouldSkipGeneratingVar:i}=e||{},s={},o={},l={};return walkObjectDeep(t,(c,f,h)=>{if((typeof f=="string"||typeof f=="number")&&(!i||!i(c,f))){const p=`--${n?`${n}-`:""}${c.join("-")}`,g=getCssValue(c,f);Object.assign(s,{[p]:g}),assignNestedKeys(o,c,`var(${p})`,h),assignNestedKeys(l,c,`var(${p}, ${g})`,h)}},c=>c[0]==="vars"),{css:s,vars:o,varsWithDefaults:l}}function prepareCssVars(t,e={}){const{getSelector:n=v,disableCssColorScheme:i,colorSchemeSelector:s}=e,{colorSchemes:o={},components:l,defaultColorScheme:c="light",...f}=t,{vars:h,css:p,varsWithDefaults:g}=cssVarsParser(f,e);let y=g;const x={},{[c]:S,...w}=o;if(Object.entries(w||{}).forEach(([E,k])=>{const{vars:T,css:L,varsWithDefaults:F}=cssVarsParser(k,e);y=deepmerge(y,F),x[E]={css:L,vars:T}}),S){const{css:E,vars:k,varsWithDefaults:T}=cssVarsParser(S,e);y=deepmerge(y,T),x[c]={css:E,vars:k}}function v(E,k){var L,F;let T=s;if(s==="class"&&(T=".%s"),s==="data"&&(T="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(T=`[${s}="%s"]`),E){if(T==="media")return t.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${((F=(L=o[E])==null?void 0:L.palette)==null?void 0:F.mode)||E})`]:{":root":k}};if(T)return t.defaultColorScheme===E?`:root, ${T.replace("%s",String(E))}`:T.replace("%s",String(E))}return":root"}return{vars:y,generateThemeVars:()=>{let E={...h};return Object.entries(x).forEach(([,{vars:k}])=>{E=deepmerge(E,k)}),E},generateStyleSheets:()=>{var C,O;const E=[],k=t.defaultColorScheme||"light";function T(P,G){Object.keys(G).length&&E.push(typeof P=="string"?{[P]:{...G}}:P)}T(n(void 0,{...p}),p);const{[k]:L,...F}=x;if(L){const{css:P}=L,G=(O=(C=o[k])==null?void 0:C.palette)==null?void 0:O.mode,W=!i&&G?{colorScheme:G,...P}:{...P};T(n(k,{...W}),W)}return Object.entries(F).forEach(([P,{css:G}])=>{var ne,we;const W=(we=(ne=o[P])==null?void 0:ne.palette)==null?void 0:we.mode,J=!i&&W?{colorScheme:W,...G}:{...G};T(n(P,{...J}),J)}),E}}}function createGetColorSchemeSelector(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const defaultTheme$3=createTheme$1(),defaultCreateStyledComponent$1=styled$1("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${capitalize(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemePropsDefault$1=t=>useThemeProps({props:t,name:"MuiContainer",defaultTheme:defaultTheme$3}),useUtilityClasses$m=(t,e)=>{const n=f=>generateUtilityClass(e,f),{classes:i,fixed:s,disableGutters:o,maxWidth:l}=t,c={root:["root",l&&`maxWidth${capitalize(String(l))}`,s&&"fixed",o&&"disableGutters"]};return composeClasses(c,n,i)};function createContainer(t={}){const{createStyledComponent:e=defaultCreateStyledComponent$1,useThemeProps:n=useThemePropsDefault$1,componentName:i="MuiContainer"}=t,s=e(({theme:l,ownerState:c})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!c.disableGutters&&{paddingLeft:l.spacing(2),paddingRight:l.spacing(2),[l.breakpoints.up("sm")]:{paddingLeft:l.spacing(3),paddingRight:l.spacing(3)}}}),({theme:l,ownerState:c})=>c.fixed&&Object.keys(l.breakpoints.values).reduce((f,h)=>{const p=h,g=l.breakpoints.values[p];return g!==0&&(f[l.breakpoints.up(p)]={maxWidth:`${g}${l.breakpoints.unit}`}),f},{}),({theme:l,ownerState:c})=>({...c.maxWidth==="xs"&&{[l.breakpoints.up("xs")]:{maxWidth:Math.max(l.breakpoints.values.xs,444)}},...c.maxWidth&&c.maxWidth!=="xs"&&{[l.breakpoints.up(c.maxWidth)]:{maxWidth:`${l.breakpoints.values[c.maxWidth]}${l.breakpoints.unit}`}}}));return reactExports.forwardRef(function(c,f){const h=n(c),{className:p,component:g="div",disableGutters:y=!1,fixed:x=!1,maxWidth:S="lg",classes:w,...v}=h,b={...h,component:g,disableGutters:y,fixed:x,maxWidth:S},_=useUtilityClasses$m(b,i);return jsxRuntimeExports.jsx(s,{as:g,ownerState:b,className:clsx(_.root,p),ref:f,...v})})}const filterBreakpointKeys=(t,e)=>t.filter(n=>e.includes(n)),traverseBreakpoints=(t,e,n)=>{const i=t.keys[0];Array.isArray(e)?e.forEach((s,o)=>{n((l,c)=>{o<=t.keys.length-1&&(o===0?Object.assign(l,c):l[t.up(t.keys[o])]=c)},s)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:filterBreakpointKeys(t.keys,Object.keys(e))).forEach(o=>{if(t.keys.includes(o)){const l=e[o];l!==void 0&&n((c,f)=>{i===o?Object.assign(c,f):c[t.up(o)]=f},l)}}):(typeof e=="number"||typeof e=="string")&&n((s,o)=>{Object.assign(s,o)},e)};function getSelfSpacingVar(t){return`--Grid-${t}Spacing`}function getParentSpacingVar(t){return`--Grid-parent-${t}Spacing`}const selfColumnsVar="--Grid-columns",parentColumnsVar="--Grid-parent-columns",generateGridSizeStyles=({theme:t,ownerState:e})=>{const n={};return traverseBreakpoints(t.breakpoints,e.size,(i,s)=>{let o={};s==="grow"&&(o={flexBasis:0,flexGrow:1,maxWidth:"100%"}),s==="auto"&&(o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof s=="number"&&(o={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${s} / var(${parentColumnsVar}) - (var(${parentColumnsVar}) - ${s}) * (var(${getParentSpacingVar("column")}) / var(${parentColumnsVar})))`}),i(n,o)}),n},generateGridOffsetStyles=({theme:t,ownerState:e})=>{const n={};return traverseBreakpoints(t.breakpoints,e.offset,(i,s)=>{let o={};s==="auto"&&(o={marginLeft:"auto"}),typeof s=="number"&&(o={marginLeft:s===0?"0px":`calc(100% * ${s} / var(${parentColumnsVar}) + var(${getParentSpacingVar("column")}) * ${s} / var(${parentColumnsVar}))`}),i(n,o)}),n},generateGridColumnsStyles=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[selfColumnsVar]:12};return traverseBreakpoints(t.breakpoints,e.columns,(i,s)=>{const o=s??12;i(n,{[selfColumnsVar]:o,"> *":{[parentColumnsVar]:o}})}),n},generateGridRowSpacingStyles=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return traverseBreakpoints(t.breakpoints,e.rowSpacing,(i,s)=>{var l;const o=typeof s=="string"?s:(l=t.spacing)==null?void 0:l.call(t,s);i(n,{[getSelfSpacingVar("row")]:o,"> *":{[getParentSpacingVar("row")]:o}})}),n},generateGridColumnSpacingStyles=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return traverseBreakpoints(t.breakpoints,e.columnSpacing,(i,s)=>{var l;const o=typeof s=="string"?s:(l=t.spacing)==null?void 0:l.call(t,s);i(n,{[getSelfSpacingVar("column")]:o,"> *":{[getParentSpacingVar("column")]:o}})}),n},generateGridDirectionStyles=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return traverseBreakpoints(t.breakpoints,e.direction,(i,s)=>{i(n,{flexDirection:s})}),n},generateGridStyles=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${getSelfSpacingVar("row")}) var(${getSelfSpacingVar("column")})`}}),generateSizeClassNames=t=>{const e=[];return Object.entries(t).forEach(([n,i])=>{i!==!1&&i!==void 0&&e.push(`grid-${n}-${String(i)}`)}),e},generateSpacingClassNames=(t,e="xs")=>{function n(i){return i===void 0?!1:typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"&&i>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const i=[];return Object.entries(t).forEach(([s,o])=>{n(o)&&i.push(`spacing-${s}-${String(o)}`)}),i}return[]},generateDirectionClasses=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`],defaultTheme$2=createTheme$1(),defaultCreateStyledComponent=styled$1("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>e.root});function useThemePropsDefault(t){return useThemeProps({props:t,name:"MuiGrid",defaultTheme:defaultTheme$2})}function createGrid(t={}){const{createStyledComponent:e=defaultCreateStyledComponent,useThemeProps:n=useThemePropsDefault,useTheme:i=useTheme$1,componentName:s="MuiGrid"}=t,o=(h,p)=>{const{container:g,direction:y,spacing:x,wrap:S,size:w}=h,v={root:["root",g&&"container",S!=="wrap"&&`wrap-xs-${String(S)}`,...generateDirectionClasses(y),...generateSizeClassNames(w),...g?generateSpacingClassNames(x,p.breakpoints.keys[0]):[]]};return composeClasses(v,b=>generateUtilityClass(s,b),{})};function l(h,p,g=()=>!0){const y={};return h===null||(Array.isArray(h)?h.forEach((x,S)=>{x!==null&&g(x)&&p.keys[S]&&(y[p.keys[S]]=x)}):typeof h=="object"?Object.keys(h).forEach(x=>{const S=h[x];S!=null&&g(S)&&(y[x]=S)}):y[p.keys[0]]=h),y}const c=e(generateGridColumnsStyles,generateGridColumnSpacingStyles,generateGridRowSpacingStyles,generateGridSizeStyles,generateGridDirectionStyles,generateGridStyles,generateGridOffsetStyles),f=reactExports.forwardRef(function(p,g){const y=i(),x=n(p),S=extendSxProp$1(x),{className:w,children:v,columns:b=12,container:_=!1,component:E="div",direction:k="row",wrap:T="wrap",size:L={},offset:F={},spacing:C=0,rowSpacing:O=C,columnSpacing:P=C,unstable_level:G=0,...W}=S,J=l(L,y.breakpoints,z=>z!==!1),ne=l(F,y.breakpoints),we=p.columns??(G?void 0:b),me=p.spacing??(G?void 0:C),re=p.rowSpacing??p.spacing??(G?void 0:O),ee=p.columnSpacing??p.spacing??(G?void 0:P),be={...S,level:G,columns:we,container:_,direction:k,wrap:T,spacing:me,rowSpacing:re,columnSpacing:ee,size:J,offset:ne},ke=o(be,y);return jsxRuntimeExports.jsx(c,{ref:g,as:E,ownerState:be,className:clsx(ke.root,w),...W,children:reactExports.Children.map(v,z=>{var j;return reactExports.isValidElement(z)&&isMuiElement(z,["Grid"])&&_&&z.props.container?reactExports.cloneElement(z,{unstable_level:((j=z.props)==null?void 0:j.unstable_level)??G+1}):z})})});return f.muiName="Grid",f}function getLight(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common.white,default:common.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const light=getLight();function getDark(){return{text:{primary:common.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const dark=getDark();function addLightOrDark(t,e,n,i){const s=i.light||i,o=i.dark||i*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=lighten(t.main,s):e==="dark"&&(t.dark=darken(t.main,o)))}function getDefaultPrimary(t="light"){return t==="dark"?{main:blue[200],light:blue[50],dark:blue[400]}:{main:blue[700],light:blue[400],dark:blue[800]}}function getDefaultSecondary(t="light"){return t==="dark"?{main:purple[200],light:purple[50],dark:purple[400]}:{main:purple[500],light:purple[300],dark:purple[700]}}function getDefaultError(t="light"){return t==="dark"?{main:red[500],light:red[300],dark:red[700]}:{main:red[700],light:red[400],dark:red[800]}}function getDefaultInfo(t="light"){return t==="dark"?{main:lightBlue[400],light:lightBlue[300],dark:lightBlue[700]}:{main:lightBlue[700],light:lightBlue[500],dark:lightBlue[900]}}function getDefaultSuccess(t="light"){return t==="dark"?{main:green[400],light:green[300],dark:green[700]}:{main:green[800],light:green[500],dark:green[900]}}function getDefaultWarning(t="light"){return t==="dark"?{main:orange[400],light:orange[300],dark:orange[700]}:{main:"#ed6c02",light:orange[500],dark:orange[900]}}function createPalette(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:i=.2,...s}=t,o=t.primary||getDefaultPrimary(e),l=t.secondary||getDefaultSecondary(e),c=t.error||getDefaultError(e),f=t.info||getDefaultInfo(e),h=t.success||getDefaultSuccess(e),p=t.warning||getDefaultWarning(e);function g(w){return getContrastRatio(w,dark.text.primary)>=n?dark.text.primary:light.text.primary}const y=({color:w,name:v,mainShade:b=500,lightShade:_=300,darkShade:E=700})=>{if(w={...w},!w.main&&w[b]&&(w.main=w[b]),!w.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,v?` (${v})`:"",b));if(typeof w.main!="string")throw new Error(formatMuiErrorMessage(12,v?` (${v})`:"",JSON.stringify(w.main)));return addLightOrDark(w,"light",_,i),addLightOrDark(w,"dark",E,i),w.contrastText||(w.contrastText=g(w.main)),w};let x;return e==="light"?x=getLight():e==="dark"&&(x=getDark()),deepmerge({common:{...common},mode:e,primary:y({color:o,name:"primary"}),secondary:y({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:c,name:"error"}),warning:y({color:p,name:"warning"}),info:y({color:f,name:"info"}),success:y({color:h,name:"success"}),grey,contrastThreshold:n,getContrastText:g,augmentColor:y,tonalOffset:i,...x},s)}function prepareTypographyVars(t){const e={};return Object.entries(t).forEach(i=>{const[s,o]=i;typeof o=="object"&&(e[s]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function createMixins(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function round(t){return Math.round(t*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(t,e){const{fontFamily:n=defaultFontFamily,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:f=16,allVariants:h,pxToRem:p,...g}=typeof e=="function"?e(t):e,y=i/14,x=p||(v=>`${v/f*y}rem`),S=(v,b,_,E,k)=>({fontFamily:n,fontWeight:v,fontSize:x(b),lineHeight:_,...n===defaultFontFamily?{letterSpacing:`${round(E/b)}em`}:{},...k,...h}),w={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(o,48,1.167,0),h4:S(o,34,1.235,.25),h5:S(o,24,1.334,0),h6:S(l,20,1.6,.15),subtitle1:S(o,16,1.75,.15),subtitle2:S(l,14,1.57,.1),body1:S(o,16,1.5,.15),body2:S(o,14,1.43,.15),button:S(l,14,1.75,.4,caseAllCaps),caption:S(o,12,1.66,.4),overline:S(o,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge({htmlFontSize:f,pxToRem:x,fontFamily:n,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:c,...w},g,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(t){return`${Math.round(t)}ms`}function getAutoHeightDuration(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function createTransitions(t){const e={...easing,...t.easing},n={...duration,...t.duration};return{getAutoHeightDuration,create:(s=["all"],o={})=>{const{duration:l=n.standard,easing:c=e.easeInOut,delay:f=0,...h}=o;return(Array.isArray(s)?s:[s]).map(p=>`${p} ${typeof l=="string"?l:formatMs(l)} ${c} ${typeof f=="string"?f:formatMs(f)}`).join(",")},...t,easing:e,duration:n}}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function isSerializable(t){return isPlainObject$1(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function stringifyTheme(t={}){const e={...t};function n(i){const s=Object.entries(i);for(let o=0;o<s.length;o++){const[l,c]=s[o];!isSerializable(c)||l.startsWith("unstable_")?delete i[l]:isPlainObject$1(c)&&(i[l]={...c},n(i[l]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function createThemeNoVars(t={},...e){const{breakpoints:n,mixins:i={},spacing:s,palette:o={},transitions:l={},typography:c={},shape:f,...h}=t;if(t.vars)throw new Error(formatMuiErrorMessage(20));const p=createPalette(o),g=createTheme$1(t);let y=deepmerge(g,{mixins:createMixins(g.breakpoints,i),palette:p,shadows:shadows.slice(),typography:createTypography(p,c),transitions:createTransitions(l),zIndex:{...zIndex}});return y=deepmerge(y,h),y=e.reduce((x,S)=>deepmerge(x,S),y),y.unstable_sxConfig={...defaultSxConfig,...h==null?void 0:h.unstable_sxConfig},y.unstable_sx=function(S){return styleFunctionSx({sx:S,theme:this})},y.toRuntimeSource=stringifyTheme,y}function getOverlayAlpha(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const defaultDarkOverlays=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=getOverlayAlpha(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function getOpacity(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function getOverlays(t){return t==="dark"?defaultDarkOverlays:[]}function createColorScheme(t){const{palette:e={mode:"light"},opacity:n,overlays:i,...s}=t,o=createPalette(e);return{palette:o,opacity:{...getOpacity(o.mode),...n},overlays:i||getOverlays(o.mode),...s}}function shouldSkipGeneratingVar(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const excludeVariablesFromRoot=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],defaultGetSelector=t=>(e,n)=>{const i=t.rootSelector||":root",s=t.colorSchemeSelector;let o=s;if(s==="class"&&(o=".%s"),s==="data"&&(o="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(o=`[${s}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const l={};return excludeVariablesFromRoot(t.cssVarPrefix).forEach(c=>{l[c]=n[c],delete n[c]}),o==="media"?{[i]:n,"@media (prefers-color-scheme: dark)":{[i]:l}}:o?{[o.replace("%s",e)]:l,[`${i}, ${o.replace("%s",e)}`]:n}:{[i]:{...n,...l}}}if(o&&o!=="media")return`${i}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:n}};if(o)return o.replace("%s",String(e))}return i};function assignNode(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function setColor(t,e,n){!t[e]&&n&&(t[e]=n)}function toRgb(t){return typeof t!="string"||!t.startsWith("hsl")?t:hslToRgb(t)}function setColorChannel(t,e){`${e}Channel`in t||(t[`${e}Channel`]=private_safeColorChannel(toRgb(t[e])))}function getSpacingVal(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const silent=t=>{try{return t()}catch{}},createGetCssVar=(t="mui")=>createGetCssVar$1(t);function attachColorScheme$1(t,e,n,i){if(!e)return;e=e===!0?{}:e;const s=i==="dark"?"dark":"light";if(!n){t[i]=createColorScheme({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:o,...l}=createThemeNoVars({...n,palette:{mode:s,...e==null?void 0:e.palette}});return t[i]={...e,palette:o,opacity:{...getOpacity(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||getOverlays(s)},l}function createThemeWithVars(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:i,disableCssColorScheme:s=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:l=shouldSkipGeneratingVar,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:f=":root",...h}=t,p=Object.keys(n)[0],g=i||(n.light&&p!=="light"?"light":p),y=createGetCssVar(o),{[g]:x,light:S,dark:w,...v}=n,b={...v};let _=x;if((g==="dark"&&!("dark"in n)||g==="light"&&!("light"in n))&&(_=!0),!_)throw new Error(formatMuiErrorMessage(21,g));const E=attachColorScheme$1(b,_,h,g);S&&!b.light&&attachColorScheme$1(b,S,void 0,"light"),w&&!b.dark&&attachColorScheme$1(b,w,void 0,"dark");let k={defaultColorScheme:g,...E,cssVarPrefix:o,colorSchemeSelector:c,rootSelector:f,getCssVar:y,colorSchemes:b,font:{...prepareTypographyVars(E.typography),...E.font},spacing:getSpacingVal(h.spacing)};Object.keys(k.colorSchemes).forEach(O=>{const P=k.colorSchemes[O].palette,G=W=>{const J=W.split("-"),ne=J[1],we=J[2];return y(W,P[ne][we])};if(P.mode==="light"&&(setColor(P.common,"background","#fff"),setColor(P.common,"onBackground","#000")),P.mode==="dark"&&(setColor(P.common,"background","#000"),setColor(P.common,"onBackground","#fff")),assignNode(P,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),P.mode==="light"){setColor(P.Alert,"errorColor",private_safeDarken(P.error.light,.6)),setColor(P.Alert,"infoColor",private_safeDarken(P.info.light,.6)),setColor(P.Alert,"successColor",private_safeDarken(P.success.light,.6)),setColor(P.Alert,"warningColor",private_safeDarken(P.warning.light,.6)),setColor(P.Alert,"errorFilledBg",G("palette-error-main")),setColor(P.Alert,"infoFilledBg",G("palette-info-main")),setColor(P.Alert,"successFilledBg",G("palette-success-main")),setColor(P.Alert,"warningFilledBg",G("palette-warning-main")),setColor(P.Alert,"errorFilledColor",silent(()=>P.getContrastText(P.error.main))),setColor(P.Alert,"infoFilledColor",silent(()=>P.getContrastText(P.info.main))),setColor(P.Alert,"successFilledColor",silent(()=>P.getContrastText(P.success.main))),setColor(P.Alert,"warningFilledColor",silent(()=>P.getContrastText(P.warning.main))),setColor(P.Alert,"errorStandardBg",private_safeLighten(P.error.light,.9)),setColor(P.Alert,"infoStandardBg",private_safeLighten(P.info.light,.9)),setColor(P.Alert,"successStandardBg",private_safeLighten(P.success.light,.9)),setColor(P.Alert,"warningStandardBg",private_safeLighten(P.warning.light,.9)),setColor(P.Alert,"errorIconColor",G("palette-error-main")),setColor(P.Alert,"infoIconColor",G("palette-info-main")),setColor(P.Alert,"successIconColor",G("palette-success-main")),setColor(P.Alert,"warningIconColor",G("palette-warning-main")),setColor(P.AppBar,"defaultBg",G("palette-grey-100")),setColor(P.Avatar,"defaultBg",G("palette-grey-400")),setColor(P.Button,"inheritContainedBg",G("palette-grey-300")),setColor(P.Button,"inheritContainedHoverBg",G("palette-grey-A100")),setColor(P.Chip,"defaultBorder",G("palette-grey-400")),setColor(P.Chip,"defaultAvatarColor",G("palette-grey-700")),setColor(P.Chip,"defaultIconColor",G("palette-grey-700")),setColor(P.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),setColor(P.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),setColor(P.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),setColor(P.LinearProgress,"primaryBg",private_safeLighten(P.primary.main,.62)),setColor(P.LinearProgress,"secondaryBg",private_safeLighten(P.secondary.main,.62)),setColor(P.LinearProgress,"errorBg",private_safeLighten(P.error.main,.62)),setColor(P.LinearProgress,"infoBg",private_safeLighten(P.info.main,.62)),setColor(P.LinearProgress,"successBg",private_safeLighten(P.success.main,.62)),setColor(P.LinearProgress,"warningBg",private_safeLighten(P.warning.main,.62)),setColor(P.Skeleton,"bg",`rgba(${G("palette-text-primaryChannel")} / 0.11)`),setColor(P.Slider,"primaryTrack",private_safeLighten(P.primary.main,.62)),setColor(P.Slider,"secondaryTrack",private_safeLighten(P.secondary.main,.62)),setColor(P.Slider,"errorTrack",private_safeLighten(P.error.main,.62)),setColor(P.Slider,"infoTrack",private_safeLighten(P.info.main,.62)),setColor(P.Slider,"successTrack",private_safeLighten(P.success.main,.62)),setColor(P.Slider,"warningTrack",private_safeLighten(P.warning.main,.62));const W=private_safeEmphasize(P.background.default,.8);setColor(P.SnackbarContent,"bg",W),setColor(P.SnackbarContent,"color",silent(()=>P.getContrastText(W))),setColor(P.SpeedDialAction,"fabHoverBg",private_safeEmphasize(P.background.paper,.15)),setColor(P.StepConnector,"border",G("palette-grey-400")),setColor(P.StepContent,"border",G("palette-grey-400")),setColor(P.Switch,"defaultColor",G("palette-common-white")),setColor(P.Switch,"defaultDisabledColor",G("palette-grey-100")),setColor(P.Switch,"primaryDisabledColor",private_safeLighten(P.primary.main,.62)),setColor(P.Switch,"secondaryDisabledColor",private_safeLighten(P.secondary.main,.62)),setColor(P.Switch,"errorDisabledColor",private_safeLighten(P.error.main,.62)),setColor(P.Switch,"infoDisabledColor",private_safeLighten(P.info.main,.62)),setColor(P.Switch,"successDisabledColor",private_safeLighten(P.success.main,.62)),setColor(P.Switch,"warningDisabledColor",private_safeLighten(P.warning.main,.62)),setColor(P.TableCell,"border",private_safeLighten(private_safeAlpha(P.divider,1),.88)),setColor(P.Tooltip,"bg",private_safeAlpha(P.grey[700],.92))}if(P.mode==="dark"){setColor(P.Alert,"errorColor",private_safeLighten(P.error.light,.6)),setColor(P.Alert,"infoColor",private_safeLighten(P.info.light,.6)),setColor(P.Alert,"successColor",private_safeLighten(P.success.light,.6)),setColor(P.Alert,"warningColor",private_safeLighten(P.warning.light,.6)),setColor(P.Alert,"errorFilledBg",G("palette-error-dark")),setColor(P.Alert,"infoFilledBg",G("palette-info-dark")),setColor(P.Alert,"successFilledBg",G("palette-success-dark")),setColor(P.Alert,"warningFilledBg",G("palette-warning-dark")),setColor(P.Alert,"errorFilledColor",silent(()=>P.getContrastText(P.error.dark))),setColor(P.Alert,"infoFilledColor",silent(()=>P.getContrastText(P.info.dark))),setColor(P.Alert,"successFilledColor",silent(()=>P.getContrastText(P.success.dark))),setColor(P.Alert,"warningFilledColor",silent(()=>P.getContrastText(P.warning.dark))),setColor(P.Alert,"errorStandardBg",private_safeDarken(P.error.light,.9)),setColor(P.Alert,"infoStandardBg",private_safeDarken(P.info.light,.9)),setColor(P.Alert,"successStandardBg",private_safeDarken(P.success.light,.9)),setColor(P.Alert,"warningStandardBg",private_safeDarken(P.warning.light,.9)),setColor(P.Alert,"errorIconColor",G("palette-error-main")),setColor(P.Alert,"infoIconColor",G("palette-info-main")),setColor(P.Alert,"successIconColor",G("palette-success-main")),setColor(P.Alert,"warningIconColor",G("palette-warning-main")),setColor(P.AppBar,"defaultBg",G("palette-grey-900")),setColor(P.AppBar,"darkBg",G("palette-background-paper")),setColor(P.AppBar,"darkColor",G("palette-text-primary")),setColor(P.Avatar,"defaultBg",G("palette-grey-600")),setColor(P.Button,"inheritContainedBg",G("palette-grey-800")),setColor(P.Button,"inheritContainedHoverBg",G("palette-grey-700")),setColor(P.Chip,"defaultBorder",G("palette-grey-700")),setColor(P.Chip,"defaultAvatarColor",G("palette-grey-300")),setColor(P.Chip,"defaultIconColor",G("palette-grey-300")),setColor(P.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),setColor(P.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),setColor(P.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),setColor(P.LinearProgress,"primaryBg",private_safeDarken(P.primary.main,.5)),setColor(P.LinearProgress,"secondaryBg",private_safeDarken(P.secondary.main,.5)),setColor(P.LinearProgress,"errorBg",private_safeDarken(P.error.main,.5)),setColor(P.LinearProgress,"infoBg",private_safeDarken(P.info.main,.5)),setColor(P.LinearProgress,"successBg",private_safeDarken(P.success.main,.5)),setColor(P.LinearProgress,"warningBg",private_safeDarken(P.warning.main,.5)),setColor(P.Skeleton,"bg",`rgba(${G("palette-text-primaryChannel")} / 0.13)`),setColor(P.Slider,"primaryTrack",private_safeDarken(P.primary.main,.5)),setColor(P.Slider,"secondaryTrack",private_safeDarken(P.secondary.main,.5)),setColor(P.Slider,"errorTrack",private_safeDarken(P.error.main,.5)),setColor(P.Slider,"infoTrack",private_safeDarken(P.info.main,.5)),setColor(P.Slider,"successTrack",private_safeDarken(P.success.main,.5)),setColor(P.Slider,"warningTrack",private_safeDarken(P.warning.main,.5));const W=private_safeEmphasize(P.background.default,.98);setColor(P.SnackbarContent,"bg",W),setColor(P.SnackbarContent,"color",silent(()=>P.getContrastText(W))),setColor(P.SpeedDialAction,"fabHoverBg",private_safeEmphasize(P.background.paper,.15)),setColor(P.StepConnector,"border",G("palette-grey-600")),setColor(P.StepContent,"border",G("palette-grey-600")),setColor(P.Switch,"defaultColor",G("palette-grey-300")),setColor(P.Switch,"defaultDisabledColor",G("palette-grey-600")),setColor(P.Switch,"primaryDisabledColor",private_safeDarken(P.primary.main,.55)),setColor(P.Switch,"secondaryDisabledColor",private_safeDarken(P.secondary.main,.55)),setColor(P.Switch,"errorDisabledColor",private_safeDarken(P.error.main,.55)),setColor(P.Switch,"infoDisabledColor",private_safeDarken(P.info.main,.55)),setColor(P.Switch,"successDisabledColor",private_safeDarken(P.success.main,.55)),setColor(P.Switch,"warningDisabledColor",private_safeDarken(P.warning.main,.55)),setColor(P.TableCell,"border",private_safeDarken(private_safeAlpha(P.divider,1),.68)),setColor(P.Tooltip,"bg",private_safeAlpha(P.grey[700],.92))}setColorChannel(P.background,"default"),setColorChannel(P.background,"paper"),setColorChannel(P.common,"background"),setColorChannel(P.common,"onBackground"),setColorChannel(P,"divider"),Object.keys(P).forEach(W=>{const J=P[W];W!=="tonalOffset"&&J&&typeof J=="object"&&(J.main&&setColor(P[W],"mainChannel",private_safeColorChannel(toRgb(J.main))),J.light&&setColor(P[W],"lightChannel",private_safeColorChannel(toRgb(J.light))),J.dark&&setColor(P[W],"darkChannel",private_safeColorChannel(toRgb(J.dark))),J.contrastText&&setColor(P[W],"contrastTextChannel",private_safeColorChannel(toRgb(J.contrastText))),W==="text"&&(setColorChannel(P[W],"primary"),setColorChannel(P[W],"secondary")),W==="action"&&(J.active&&setColorChannel(P[W],"active"),J.selected&&setColorChannel(P[W],"selected")))})}),k=e.reduce((O,P)=>deepmerge(O,P),k);const T={prefix:o,disableCssColorScheme:s,shouldSkipGeneratingVar:l,getSelector:defaultGetSelector(k)},{vars:L,generateThemeVars:F,generateStyleSheets:C}=prepareCssVars(k,T);return k.vars=L,Object.entries(k.colorSchemes[k.defaultColorScheme]).forEach(([O,P])=>{k[O]=P}),k.generateThemeVars=F,k.generateStyleSheets=C,k.generateSpacing=function(){return createSpacing(h.spacing,createUnarySpacing(this))},k.getColorSchemeSelector=createGetColorSchemeSelector(c),k.spacing=k.generateSpacing(),k.shouldSkipGeneratingVar=l,k.unstable_sxConfig={...defaultSxConfig,...h==null?void 0:h.unstable_sxConfig},k.unstable_sx=function(P){return styleFunctionSx({sx:P,theme:this})},k.toRuntimeSource=stringifyTheme,k}function attachColorScheme(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:createPalette({...n===!0?{}:n.palette,mode:e})})}function createTheme(t={},...e){const{palette:n,cssVariables:i=!1,colorSchemes:s=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...l}=t,c=o||"light",f=s==null?void 0:s[c],h={...s,...n?{[c]:{...typeof f!="boolean"&&f,palette:n}}:void 0};if(i===!1){if(!("colorSchemes"in t))return createThemeNoVars(t,...e);let p=n;"palette"in t||h[c]&&(h[c]!==!0?p=h[c].palette:c==="dark"&&(p={mode:"dark"}));const g=createThemeNoVars({...t,palette:p},...e);return g.defaultColorScheme=c,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},attachColorScheme(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},attachColorScheme(g,"light",h.light)),g}return!n&&!("light"in h)&&c==="light"&&(h.light=!0),createThemeWithVars({...l,colorSchemes:h,defaultColorScheme:c,...typeof i!="boolean"&&i},...e)}const defaultTheme$1=createTheme();function useTheme(){const t=useTheme$1(defaultTheme$1);return t[THEME_ID]||t}function slotShouldForwardProp(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const rootShouldForwardProp=t=>slotShouldForwardProp(t)&&t!=="classes",styled=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$1,rootShouldForwardProp});function internal_createExtendSxProp(){return extendSxProp$1}const memoTheme=unstable_memoTheme;function useDefaultProps(t){return useDefaultProps$1(t)}function getSvgIconUtilityClass(t){return generateUtilityClass("MuiSvgIcon",t)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const useUtilityClasses$l=t=>{const{color:e,fontSize:n,classes:i}=t,s={root:["root",e!=="inherit"&&`color${capitalize(e)}`,`fontSize${capitalize(n)}`]};return composeClasses(s,getSvgIconUtilityClass,i)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${capitalize(n.color)}`],e[`fontSize${capitalize(n.fontSize)}`]]}})(memoTheme(({theme:t})=>{var e,n,i,s,o,l,c,f,h,p,g,y,x,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=t.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(i=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:i.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:f.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(h=t.typography)==null?void 0:h.pxToRem)==null?void 0:p.call(h,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,w])=>w&&w.main).map(([w])=>{var v,b;return{props:{color:w},style:{color:(b=(v=(t.vars??t).palette)==null?void 0:v[w])==null?void 0:b.main}}}),{props:{color:"action"},style:{color:(y=(g=(t.vars??t).palette)==null?void 0:g.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(S=(x=(t.vars??t).palette)==null?void 0:x.action)==null?void 0:S.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),SvgIcon=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiSvgIcon"}),{children:s,className:o,color:l="inherit",component:c="svg",fontSize:f="medium",htmlColor:h,inheritViewBox:p=!1,titleAccess:g,viewBox:y="0 0 24 24",...x}=i,S=reactExports.isValidElement(s)&&s.type==="svg",w={...i,color:l,component:c,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:y,hasSvgAsChild:S},v={};p||(v.viewBox=y);const b=useUtilityClasses$l(w);return jsxRuntimeExports.jsxs(SvgIconRoot,{as:c,className:clsx(b.root,o),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:n,...v,...x,...S&&s.props,ownerState:w,children:[S?s.props.children:s,g?jsxRuntimeExports.jsx("title",{children:g}):null]})});SvgIcon.muiName="SvgIcon";function createSvgIcon(t,e){function n(i,s){return jsxRuntimeExports.jsx(SvgIcon,{"data-testid":`${e}Icon`,ref:s,...i,children:t})}return n.muiName=SvgIcon.muiName,reactExports.memo(reactExports.forwardRef(n))}function _objectWithoutPropertiesLoose(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_setPrototypeOf(t,e)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_setPrototypeOf(t,e)}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(e){return e.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(t){_inheritsLoose(e,t);function e(i,s){var o;o=t.call(this,i,s)||this;var l=s,c=l&&!l.isMounting?i.enter:i.appear,f;return o.appearStatus=null,i.in?c?(f=EXITED,o.appearStatus=ENTERING):f=ENTERED:i.unmountOnExit||i.mountOnEnter?f=UNMOUNTED:f=EXITED,o.state={status:f},o.nextCallback=null,o}e.getDerivedStateFromProps=function(s,o){var l=s.in;return l&&o.status===UNMOUNTED?{status:EXITED}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var o=null;if(s!==this.props){var l=this.state.status;this.props.in?l!==ENTERING&&l!==ENTERED&&(o=ENTERING):(l===ENTERING||l===ENTERED)&&(o=EXITING)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,o,l,c;return o=l=c=s,s!=null&&typeof s!="number"&&(o=s.exit,l=s.enter,c=s.appear!==void 0?s.appear:l),{exit:o,enter:l,appear:c}},n.updateStatus=function(s,o){if(s===void 0&&(s=!1),o!==null)if(this.cancelNextCallback(),o===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);l&&forceReflow(l)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},n.performEnter=function(s){var o=this,l=this.props.enter,c=this.context?this.context.isMounting:s,f=this.props.nodeRef?[c]:[ReactDOM.findDOMNode(this),c],h=f[0],p=f[1],g=this.getTimeouts(),y=c?g.appear:g.enter;if(!s&&!l||config.disabled){this.safeSetState({status:ENTERED},function(){o.props.onEntered(h)});return}this.props.onEnter(h,p),this.safeSetState({status:ENTERING},function(){o.props.onEntering(h,p),o.onTransitionEnd(y,function(){o.safeSetState({status:ENTERED},function(){o.props.onEntered(h,p)})})})},n.performExit=function(){var s=this,o=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!o||config.disabled){this.safeSetState({status:EXITED},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:EXITING},function(){s.props.onExiting(c),s.onTransitionEnd(l.exit,function(){s.safeSetState({status:EXITED},function(){s.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,o){o=this.setNextCallback(o),this.setState(s,o)},n.setNextCallback=function(s){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,s(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(s,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],h=f[0],p=f[1];this.props.addEndListener(h,p)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===UNMOUNTED)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=_objectWithoutPropertiesLoose(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof l=="function"?l(s,c):React.cloneElement(React.Children.only(l),c))},e}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$4(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$4,onEntering:noop$4,onEntered:noop$4,onExit:noop$4,onExiting:noop$4,onExited:noop$4};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function getChildMapping(t,e){var n=function(o){return e&&reactExports.isValidElement(o)?e(o):o},i=Object.create(null);return t&&reactExports.Children.map(t,function(s){return s}).forEach(function(s){i[s.key]=n(s)}),i}function mergeChildMappings(t,e){t=t||{},e=e||{};function n(p){return p in e?e[p]:t[p]}var i=Object.create(null),s=[];for(var o in t)o in e?s.length&&(i[o]=s,s=[]):s.push(o);var l,c={};for(var f in e){if(i[f])for(l=0;l<i[f].length;l++){var h=i[f][l];c[i[f][l]]=n(h)}c[f]=n(f)}for(l=0;l<s.length;l++)c[s[l]]=n(s[l]);return c}function getProp(t,e,n){return n[e]!=null?n[e]:t.props[e]}function getInitialChildMapping(t,e){return getChildMapping(t.children,function(n){return reactExports.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:getProp(n,"appear",t),enter:getProp(n,"enter",t),exit:getProp(n,"exit",t)})})}function getNextChildMapping(t,e,n){var i=getChildMapping(t.children),s=mergeChildMappings(e,i);return Object.keys(s).forEach(function(o){var l=s[o];if(reactExports.isValidElement(l)){var c=o in e,f=o in i,h=e[o],p=reactExports.isValidElement(h)&&!h.props.in;f&&(!c||p)?s[o]=reactExports.cloneElement(l,{onExited:n.bind(null,l),in:!0,exit:getProp(l,"exit",t),enter:getProp(l,"enter",t)}):!f&&c&&!p?s[o]=reactExports.cloneElement(l,{in:!1}):f&&c&&reactExports.isValidElement(h)&&(s[o]=reactExports.cloneElement(l,{onExited:n.bind(null,l),in:h.props.in,exit:getProp(l,"exit",t),enter:getProp(l,"enter",t)}))}}),s}var values=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},defaultProps$1={component:"div",childFactory:function(e){return e}},TransitionGroup=function(t){_inheritsLoose(e,t);function e(i,s){var o;o=t.call(this,i,s)||this;var l=o.handleExited.bind(_assertThisInitialized(o));return o.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,o){var l=o.children,c=o.handleExited,f=o.firstRender;return{children:f?getInitialChildMapping(s,c):getNextChildMapping(s,l,c),firstRender:!1}},n.handleExited=function(s,o){var l=getChildMapping(this.props.children);s.key in l||(s.props.onExited&&s.props.onExited(o),this.mounted&&this.setState(function(c){var f=_extends({},c.children);return delete f[s.key],{children:f}}))},n.render=function(){var s=this.props,o=s.component,l=s.childFactory,c=_objectWithoutPropertiesLoose(s,["component","childFactory"]),f=this.state.contextValue,h=values(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,o===null?React.createElement(TransitionGroupContext.Provider,{value:f},h):React.createElement(TransitionGroupContext.Provider,{value:f},React.createElement(o,c,h))},e}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps$1;const reflow=t=>t.scrollTop;function getTransitionProps(t,e){const{timeout:n,easing:i,style:s={}}=t;return{duration:s.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:s.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:s.transitionDelay}}function getPaperUtilityClass(t){return generateUtilityClass("MuiPaper",t)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const useUtilityClasses$k=t=>{const{square:e,elevation:n,variant:i,classes:s}=t,o={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${n}`]};return composeClasses(o,getPaperUtilityClass,s)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(memoTheme(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Paper=reactExports.forwardRef(function(e,n){var x;const i=useDefaultProps({props:e,name:"MuiPaper"}),s=useTheme(),{className:o,component:l="div",elevation:c=1,square:f=!1,variant:h="elevation",...p}=i,g={...i,component:l,elevation:c,square:f,variant:h},y=useUtilityClasses$k(g);return jsxRuntimeExports.jsx(PaperRoot,{as:l,ownerState:g,className:clsx(y.root,o),ref:n,...p,style:{...h==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[c],...s.vars&&{"--Paper-overlay":(x=s.vars.overlays)==null?void 0:x[c]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${alpha$1("#fff",getOverlayAlpha(c))}, ${alpha$1("#fff",getOverlayAlpha(c))})`}},...p.style}})});function useSlot(t,e){const{className:n,elementType:i,ownerState:s,externalForwardedProps:o,internalForwardedProps:l,shouldForwardComponentProp:c=!1,...f}=e,{component:h,slots:p={[t]:void 0},slotProps:g={[t]:void 0},...y}=o,x=p[t]||i,S=resolveComponentProps(g[t],s),{props:{component:w,...v},internalRef:b}=mergeSlotProps({className:n,...f,externalForwardedProps:t==="root"?y:void 0,externalSlotProps:S}),_=useForkRef(b,S==null?void 0:S.ref,e.ref),E=t==="root"?w||h:w,k=appendOwnerState(x,{...t==="root"&&!h&&!p[t]&&l,...t!=="root"&&!p[t]&&l,...v,...E&&!c&&{as:E},...E&&c&&{component:E},ref:_},s);return[x,k]}class LazyRipple{constructor(){wr(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new LazyRipple}static use(){const e=useLazyRef(LazyRipple.create).current,[n,i]=reactExports.useState(!1);return e.shouldMount=n,e.setShouldMount=i,reactExports.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=createControlledPromise(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function useLazyRipple(){return LazyRipple.use()}function createControlledPromise(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});return n.resolve=t,n.reject=e,n}function Ripple(t){const{className:e,classes:n,pulsate:i=!1,rippleX:s,rippleY:o,rippleSize:l,in:c,onExited:f,timeout:h}=t,[p,g]=reactExports.useState(!1),y=clsx(e,n.ripple,n.rippleVisible,i&&n.ripplePulsate),x={width:l,height:l,top:-(l/2)+o,left:-(l/2)+s},S=clsx(n.child,p&&n.childLeaving,i&&n.childPulsate);return!c&&!p&&g(!0),reactExports.useEffect(()=>{if(!c&&f!=null){const w=setTimeout(f,h);return()=>{clearTimeout(w)}}},[f,c,h]),jsxRuntimeExports.jsx("span",{className:y,style:x,children:jsxRuntimeExports.jsx("span",{className:S})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes$1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,exitKeyframe=keyframes$1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,pulsateKeyframe=keyframes$1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,TouchRippleRoot=styled("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${touchRippleClasses.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${enterKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${touchRippleClasses.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${touchRippleClasses.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${touchRippleClasses.childLeaving} {
    opacity: 0;
    animation-name: ${exitKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${touchRippleClasses.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${pulsateKeyframe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,TouchRipple=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:o={},className:l,...c}=i,[f,h]=reactExports.useState([]),p=reactExports.useRef(0),g=reactExports.useRef(null);reactExports.useEffect(()=>{g.current&&(g.current(),g.current=null)},[f]);const y=reactExports.useRef(!1),x=useTimeout(),S=reactExports.useRef(null),w=reactExports.useRef(null),v=reactExports.useCallback(k=>{const{pulsate:T,rippleX:L,rippleY:F,rippleSize:C,cb:O}=k;h(P=>[...P,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(o.ripple,touchRippleClasses.ripple),rippleVisible:clsx(o.rippleVisible,touchRippleClasses.rippleVisible),ripplePulsate:clsx(o.ripplePulsate,touchRippleClasses.ripplePulsate),child:clsx(o.child,touchRippleClasses.child),childLeaving:clsx(o.childLeaving,touchRippleClasses.childLeaving),childPulsate:clsx(o.childPulsate,touchRippleClasses.childPulsate)},timeout:DURATION,pulsate:T,rippleX:L,rippleY:F,rippleSize:C},p.current)]),p.current+=1,g.current=O},[o]),b=reactExports.useCallback((k={},T={},L=()=>{})=>{const{pulsate:F=!1,center:C=s||T.pulsate,fakeElement:O=!1}=T;if((k==null?void 0:k.type)==="mousedown"&&y.current){y.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(y.current=!0);const P=O?null:w.current,G=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let W,J,ne;if(C||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)W=Math.round(G.width/2),J=Math.round(G.height/2);else{const{clientX:we,clientY:me}=k.touches&&k.touches.length>0?k.touches[0]:k;W=Math.round(we-G.left),J=Math.round(me-G.top)}if(C)ne=Math.sqrt((2*G.width**2+G.height**2)/3),ne%2===0&&(ne+=1);else{const we=Math.max(Math.abs((P?P.clientWidth:0)-W),W)*2+2,me=Math.max(Math.abs((P?P.clientHeight:0)-J),J)*2+2;ne=Math.sqrt(we**2+me**2)}k!=null&&k.touches?S.current===null&&(S.current=()=>{v({pulsate:F,rippleX:W,rippleY:J,rippleSize:ne,cb:L})},x.start(DELAY_RIPPLE,()=>{S.current&&(S.current(),S.current=null)})):v({pulsate:F,rippleX:W,rippleY:J,rippleSize:ne,cb:L})},[s,v,x]),_=reactExports.useCallback(()=>{b({},{pulsate:!0})},[b]),E=reactExports.useCallback((k,T)=>{if(x.clear(),(k==null?void 0:k.type)==="touchend"&&S.current){S.current(),S.current=null,x.start(0,()=>{E(k,T)});return}S.current=null,h(L=>L.length>0?L.slice(1):L),g.current=T},[x]);return reactExports.useImperativeHandle(n,()=>({pulsate:_,start:b,stop:E}),[_,b,E]),jsxRuntimeExports.jsx(TouchRippleRoot,{className:clsx(touchRippleClasses.root,o.root,l),ref:w,...c,children:jsxRuntimeExports.jsx(TransitionGroup,{component:null,exit:!0,children:f})})});function getButtonBaseUtilityClass(t){return generateUtilityClass("MuiButtonBase",t)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),useUtilityClasses$j=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:i,classes:s}=t,l=composeClasses({root:["root",e&&"disabled",n&&"focusVisible"]},getButtonBaseUtilityClass,s);return n&&i&&(l.root+=` ${i}`),l},ButtonBaseRoot=styled("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:o=!1,children:l,className:c,component:f="button",disabled:h=!1,disableRipple:p=!1,disableTouchRipple:g=!1,focusRipple:y=!1,focusVisibleClassName:x,LinkComponent:S="a",onBlur:w,onClick:v,onContextMenu:b,onDragLeave:_,onFocus:E,onFocusVisible:k,onKeyDown:T,onKeyUp:L,onMouseDown:F,onMouseLeave:C,onMouseUp:O,onTouchEnd:P,onTouchMove:G,onTouchStart:W,tabIndex:J=0,TouchRippleProps:ne,touchRippleRef:we,type:me,...re}=i,ee=reactExports.useRef(null),be=useLazyRipple(),ke=useForkRef(be.ref,we),[z,j]=reactExports.useState(!1);h&&z&&j(!1),reactExports.useImperativeHandle(s,()=>({focusVisible:()=>{j(!0),ee.current.focus()}}),[]);const U=be.shouldMount&&!p&&!h;reactExports.useEffect(()=>{z&&y&&!p&&be.pulsate()},[p,y,z,be]);const Y=useRippleHandler(be,"start",F,g),ce=useRippleHandler(be,"stop",b,g),ge=useRippleHandler(be,"stop",_,g),he=useRippleHandler(be,"stop",O,g),ye=useRippleHandler(be,"stop",xe=>{z&&xe.preventDefault(),C&&C(xe)},g),Ae=useRippleHandler(be,"start",W,g),ot=useRippleHandler(be,"stop",P,g),Ie=useRippleHandler(be,"stop",G,g),V=useRippleHandler(be,"stop",xe=>{isFocusVisible(xe.target)||j(!1),w&&w(xe)},!1),K=useEventCallback(xe=>{ee.current||(ee.current=xe.currentTarget),isFocusVisible(xe.target)&&(j(!0),k&&k(xe)),E&&E(xe)}),ae=()=>{const xe=ee.current;return f&&f!=="button"&&!(xe.tagName==="A"&&xe.href)},ue=useEventCallback(xe=>{y&&!xe.repeat&&z&&xe.key===" "&&be.stop(xe,()=>{be.start(xe)}),xe.target===xe.currentTarget&&ae()&&xe.key===" "&&xe.preventDefault(),T&&T(xe),xe.target===xe.currentTarget&&ae()&&xe.key==="Enter"&&!h&&(xe.preventDefault(),v&&v(xe))}),Z=useEventCallback(xe=>{y&&xe.key===" "&&z&&!xe.defaultPrevented&&be.stop(xe,()=>{be.pulsate(xe)}),L&&L(xe),v&&xe.target===xe.currentTarget&&ae()&&xe.key===" "&&!xe.defaultPrevented&&v(xe)});let ve=f;ve==="button"&&(re.href||re.to)&&(ve=S);const Pe={};ve==="button"?(Pe.type=me===void 0?"button":me,Pe.disabled=h):(!re.href&&!re.to&&(Pe.role="button"),h&&(Pe["aria-disabled"]=h));const Fe=useForkRef(n,ee),it={...i,centerRipple:o,component:f,disabled:h,disableRipple:p,disableTouchRipple:g,focusRipple:y,tabIndex:J,focusVisible:z},fe=useUtilityClasses$j(it);return jsxRuntimeExports.jsxs(ButtonBaseRoot,{as:ve,className:clsx(fe.root,c),ownerState:it,onBlur:V,onClick:v,onContextMenu:ce,onFocus:K,onKeyDown:ue,onKeyUp:Z,onMouseDown:Y,onMouseLeave:ye,onMouseUp:he,onDragLeave:ge,onTouchEnd:ot,onTouchMove:Ie,onTouchStart:Ae,ref:Fe,tabIndex:h?-1:J,type:me,...Pe,...re,children:[l,U?jsxRuntimeExports.jsx(TouchRipple,{ref:ke,center:o,...ne}):null]})});function useRippleHandler(t,e,n,i=!1){return useEventCallback(s=>(n&&n(s),i||t[e](s),!0))}function hasCorrectMainProperty(t){return typeof t.main=="string"}function checkSimplePaletteColorValues(t,e=[]){if(!hasCorrectMainProperty(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function createSimplePaletteValueFilter(t=[]){return([,e])=>e&&checkSimplePaletteColorValues(e,t)}function getCircularProgressUtilityClass(t){return generateUtilityClass("MuiCircularProgress",t)}generateUtilityClasses("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const SIZE=44,circularRotateKeyframe=keyframes$1`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,circularDashKeyframe=keyframes$1`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,rotateAnimation=typeof circularRotateKeyframe!="string"?css`
        animation: ${circularRotateKeyframe} 1.4s linear infinite;
      `:null,dashAnimation=typeof circularDashKeyframe!="string"?css`
        animation: ${circularDashKeyframe} 1.4s ease-in-out infinite;
      `:null,useUtilityClasses$i=t=>{const{classes:e,variant:n,color:i,disableShrink:s}=t,o={root:["root",n,`color${capitalize(i)}`],svg:["svg"],circle:["circle",`circle${capitalize(n)}`,s&&"circleDisableShrink"]};return composeClasses(o,getCircularProgressUtilityClass,e)},CircularProgressRoot=styled("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${capitalize(n.color)}`]]}})(memoTheme(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:rotateAnimation||{animation:`${circularRotateKeyframe} 1.4s linear infinite`}},...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),CircularProgressSVG=styled("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),CircularProgressCircle=styled("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${capitalize(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(memoTheme(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:dashAnimation||{animation:`${circularDashKeyframe} 1.4s ease-in-out infinite`}}]}))),CircularProgress=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiCircularProgress"}),{className:s,color:o="primary",disableShrink:l=!1,size:c=40,style:f,thickness:h=3.6,value:p=0,variant:g="indeterminate",...y}=i,x={...i,color:o,disableShrink:l,size:c,thickness:h,value:p,variant:g},S=useUtilityClasses$i(x),w={},v={},b={};if(g==="determinate"){const _=2*Math.PI*((SIZE-h)/2);w.strokeDasharray=_.toFixed(3),b["aria-valuenow"]=Math.round(p),w.strokeDashoffset=`${((100-p)/100*_).toFixed(3)}px`,v.transform="rotate(-90deg)"}return jsxRuntimeExports.jsx(CircularProgressRoot,{className:clsx(S.root,s),style:{width:c,height:c,...v,...f},ownerState:x,ref:n,role:"progressbar",...b,...y,children:jsxRuntimeExports.jsx(CircularProgressSVG,{className:S.svg,ownerState:x,viewBox:`${SIZE/2} ${SIZE/2} ${SIZE} ${SIZE}`,children:jsxRuntimeExports.jsx(CircularProgressCircle,{className:S.circle,style:w,ownerState:x,cx:SIZE,cy:SIZE,r:(SIZE-h)/2,fill:"none",strokeWidth:h})})})});function getIconButtonUtilityClass(t){return generateUtilityClass("MuiIconButton",t)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator"]),useUtilityClasses$h=t=>{const{classes:e,disabled:n,color:i,edge:s,size:o,loading:l}=t,c={root:["root",l&&"loading",n&&"disabled",i!=="default"&&`color${capitalize(i)}`,s&&`edge${capitalize(s)}`,`size${capitalize(o)}`],loadingIndicator:["loadingIndicator"]};return composeClasses(c,getIconButtonUtilityClass,e)},IconButtonRoot=styled(ButtonBase,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${capitalize(n.color)}`],n.edge&&e[`edge${capitalize(n.edge)}`],e[`size${capitalize(n.size)}`]]}})(memoTheme(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:alpha$1(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),memoTheme(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:alpha$1((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${iconButtonClasses.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${iconButtonClasses.loading}`]:{color:"transparent"}}))),IconButtonLoadingIndicator=styled("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),IconButton=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiIconButton"}),{edge:s=!1,children:o,className:l,color:c="default",disabled:f=!1,disableFocusRipple:h=!1,size:p="medium",id:g,loading:y=!1,loadingIndicator:x,...S}=i,w=useId(g),v=x??jsxRuntimeExports.jsx(CircularProgress,{"aria-labelledby":w,color:"inherit",size:16}),b={...i,edge:s,color:c,disabled:f,disableFocusRipple:h,loading:y,loadingIndicator:v,size:p},_=useUtilityClasses$h(b);return jsxRuntimeExports.jsxs(IconButtonRoot,{id:w,className:clsx(_.root,l),centerRipple:!0,focusRipple:!h,disabled:f||y,ref:n,...S,ownerState:b,children:[jsxRuntimeExports.jsx(IconButtonLoadingIndicator,{className:_.loadingIndicator,ownerState:b,children:y&&v}),o]})});function getTypographyUtilityClass(t){return generateUtilityClass("MuiTypography",t)}const typographyClasses=generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),v6Colors={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},extendSxProp=internal_createExtendSxProp(),useUtilityClasses$g=t=>{const{align:e,gutterBottom:n,noWrap:i,paragraph:s,variant:o,classes:l}=t,c={root:["root",o,t.align!=="inherit"&&`align${capitalize(e)}`,n&&"gutterBottom",i&&"noWrap",s&&"paragraph"]};return composeClasses(c,getTypographyUtilityClass,l)},TypographyRoot=styled("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${capitalize(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(memoTheme(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,i])=>n!=="inherit"&&i&&typeof i=="object").map(([n,i])=>({props:{variant:n},style:i})),...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${capitalize(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Typography=reactExports.forwardRef(function(e,n){const{color:i,...s}=useDefaultProps({props:e,name:"MuiTypography"}),o=!v6Colors[i],l=extendSxProp({...s,...o&&{color:i}}),{align:c="inherit",className:f,component:h,gutterBottom:p=!1,noWrap:g=!1,paragraph:y=!1,variant:x="body1",variantMapping:S=defaultVariantMapping,...w}=l,v={...l,align:c,color:i,className:f,component:h,gutterBottom:p,noWrap:g,paragraph:y,variant:x,variantMapping:S},b=h||(y?"p":S[x]||defaultVariantMapping[x])||"span",_=useUtilityClasses$g(v);return jsxRuntimeExports.jsx(TypographyRoot,{as:b,ref:n,className:clsx(_.root,f),...w,ownerState:v,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...w.style}})});function getContainer$1(t){return typeof t=="function"?t():t}const Portal=reactExports.forwardRef(function(e,n){const{children:i,container:s,disablePortal:o=!1}=e,[l,c]=reactExports.useState(null),f=useForkRef(reactExports.isValidElement(i)?getReactElementRef(i):null,n);if(useEnhancedEffect(()=>{o||c(getContainer$1(s)||document.body)},[s,o]),useEnhancedEffect(()=>{if(l&&!o)return setRef(n,l),()=>{setRef(n,null)}},[n,l,o]),o){if(reactExports.isValidElement(i)){const h={ref:f};return reactExports.cloneElement(i,h)}return i}return l&&reactDomExports.createPortal(i,l)});function isHostComponent(t){return typeof t=="string"}const styles$2={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(e,n){const i=useTheme(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:c,easing:f,in:h,onEnter:p,onEntered:g,onEntering:y,onExit:x,onExited:S,onExiting:w,style:v,timeout:b=s,TransitionComponent:_=Transition,...E}=e,k=reactExports.useRef(null),T=useForkRef(k,getReactElementRef(c),n),L=ne=>we=>{if(ne){const me=k.current;we===void 0?ne(me):ne(me,we)}},F=L(y),C=L((ne,we)=>{reflow(ne);const me=getTransitionProps({style:v,timeout:b,easing:f},{mode:"enter"});ne.style.webkitTransition=i.transitions.create("opacity",me),ne.style.transition=i.transitions.create("opacity",me),p&&p(ne,we)}),O=L(g),P=L(w),G=L(ne=>{const we=getTransitionProps({style:v,timeout:b,easing:f},{mode:"exit"});ne.style.webkitTransition=i.transitions.create("opacity",we),ne.style.transition=i.transitions.create("opacity",we),x&&x(ne)}),W=L(S),J=ne=>{o&&o(k.current,ne)};return jsxRuntimeExports.jsx(_,{appear:l,in:h,nodeRef:k,onEnter:C,onEntered:O,onEntering:F,onExit:G,onExited:W,onExiting:P,addEndListener:J,timeout:b,...E,children:(ne,{ownerState:we,...me})=>reactExports.cloneElement(c,{style:{opacity:0,visibility:ne==="exited"&&!h?"hidden":void 0,...styles$2[ne],...v,...c.props.style},ref:T,...me})})});function getBackdropUtilityClass(t){return generateUtilityClass("MuiBackdrop",t)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const useUtilityClasses$f=t=>{const{classes:e,invisible:n}=t;return composeClasses({root:["root",n&&"invisible"]},getBackdropUtilityClass,e)},BackdropRoot=styled("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Backdrop=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiBackdrop"}),{children:s,className:o,component:l="div",invisible:c=!1,open:f,components:h={},componentsProps:p={},slotProps:g={},slots:y={},TransitionComponent:x,transitionDuration:S,...w}=i,v={...i,component:l,invisible:c},b=useUtilityClasses$f(v),_={transition:x,root:h.Root,...y},E={...p,...g},k={slots:_,slotProps:E},[T,L]=useSlot("root",{elementType:BackdropRoot,externalForwardedProps:k,className:clsx(b.root,o),ownerState:v}),[F,C]=useSlot("transition",{elementType:Fade,externalForwardedProps:k,ownerState:v});return jsxRuntimeExports.jsx(F,{in:f,timeout:S,...w,...C,children:jsxRuntimeExports.jsx(T,{"aria-hidden":!0,...L,classes:b,ref:n,children:s})})}),boxClasses=generateUtilityClasses("MuiBox",["root"]),defaultTheme=createTheme(),Box=createBox$1({themeId:THEME_ID,defaultTheme,defaultClassName:boxClasses.root,generateClassName:ClassNameGenerator.generate});function getButtonUtilityClass(t){return generateUtilityClass("MuiButton",t)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),ButtonGroupContext=reactExports.createContext({}),ButtonGroupButtonContext=reactExports.createContext(void 0),useUtilityClasses$e=t=>{const{color:e,disableElevation:n,fullWidth:i,size:s,variant:o,loading:l,loadingPosition:c,classes:f}=t,h={root:["root",l&&"loading",o,`${o}${capitalize(e)}`,`size${capitalize(s)}`,`${o}Size${capitalize(s)}`,`color${capitalize(e)}`,n&&"disableElevation",i&&"fullWidth",l&&`loadingPosition${capitalize(c)}`],startIcon:["icon","startIcon",`iconSize${capitalize(s)}`],endIcon:["icon","endIcon",`iconSize${capitalize(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},p=composeClasses(h,getButtonUtilityClass,f);return{...f,...p}},commonIconStyles=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],ButtonRoot=styled(ButtonBase,{shouldForwardProp:t=>rootShouldForwardProp(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${capitalize(n.color)}`],e[`size${capitalize(n.size)}`],e[`${n.variant}Size${capitalize(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(memoTheme(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${buttonClasses.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${buttonClasses.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${buttonClasses.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${buttonClasses.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(t.vars||t).palette[i].main,"--variant-outlinedColor":(t.vars||t).palette[i].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[i].mainChannel} / 0.5)`:alpha$1(t.palette[i].main,.5),"--variant-containedColor":(t.vars||t).palette[i].contrastText,"--variant-containedBg":(t.vars||t).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[i].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[i].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:alpha$1(t.palette[i].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[i].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[i].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:alpha$1(t.palette[i].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:alpha$1(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:alpha$1(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${buttonClasses.loading}`]:{color:"transparent"}}}]}})),ButtonStartIcon=styled("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${capitalize(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...commonIconStyles]})),ButtonEndIcon=styled("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${capitalize(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...commonIconStyles]})),ButtonLoadingIndicator=styled("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),ButtonLoadingIconPlaceholder=styled("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Button=reactExports.forwardRef(function(e,n){const i=reactExports.useContext(ButtonGroupContext),s=reactExports.useContext(ButtonGroupButtonContext),o=resolveProps(i,e),l=useDefaultProps({props:o,name:"MuiButton"}),{children:c,color:f="primary",component:h="button",className:p,disabled:g=!1,disableElevation:y=!1,disableFocusRipple:x=!1,endIcon:S,focusVisibleClassName:w,fullWidth:v=!1,id:b,loading:_=null,loadingIndicator:E,loadingPosition:k="center",size:T="medium",startIcon:L,type:F,variant:C="text",...O}=l,P=useId(b),G=E??jsxRuntimeExports.jsx(CircularProgress,{"aria-labelledby":P,color:"inherit",size:16}),W={...l,color:f,component:h,disabled:g,disableElevation:y,disableFocusRipple:x,fullWidth:v,loading:_,loadingIndicator:G,loadingPosition:k,size:T,type:F,variant:C},J=useUtilityClasses$e(W),ne=(L||_&&k==="start")&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:J.startIcon,ownerState:W,children:L||jsxRuntimeExports.jsx(ButtonLoadingIconPlaceholder,{className:J.loadingIconPlaceholder,ownerState:W})}),we=(S||_&&k==="end")&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:J.endIcon,ownerState:W,children:S||jsxRuntimeExports.jsx(ButtonLoadingIconPlaceholder,{className:J.loadingIconPlaceholder,ownerState:W})}),me=s||"",re=typeof _=="boolean"?jsxRuntimeExports.jsx("span",{className:J.loadingWrapper,style:{display:"contents"},children:_&&jsxRuntimeExports.jsx(ButtonLoadingIndicator,{className:J.loadingIndicator,ownerState:W,children:G})}):null;return jsxRuntimeExports.jsxs(ButtonRoot,{ownerState:W,className:clsx(i.className,J.root,p,me),component:h,disabled:g||_,focusRipple:!x,focusVisibleClassName:clsx(J.focusVisible,w),ref:n,type:F,id:P,...O,classes:J,children:[ne,k!=="end"&&re,c,k==="end"&&re,we]})});function getCardUtilityClass(t){return generateUtilityClass("MuiCard",t)}generateUtilityClasses("MuiCard",["root"]);const useUtilityClasses$d=t=>{const{classes:e}=t;return composeClasses({root:["root"]},getCardUtilityClass,e)},CardRoot=styled(Paper,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})({overflow:"hidden"}),Card=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiCard"}),{className:s,raised:o=!1,...l}=i,c={...i,raised:o},f=useUtilityClasses$d(c);return jsxRuntimeExports.jsx(CardRoot,{className:clsx(f.root,s),elevation:o?8:void 0,ref:n,ownerState:c,...l})});function getCardContentUtilityClass(t){return generateUtilityClass("MuiCardContent",t)}generateUtilityClasses("MuiCardContent",["root"]);const useUtilityClasses$c=t=>{const{classes:e}=t;return composeClasses({root:["root"]},getCardContentUtilityClass,e)},CardContentRoot=styled("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),CardContent=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiCardContent"}),{className:s,component:o="div",...l}=i,c={...i,component:o},f=useUtilityClasses$c(c);return jsxRuntimeExports.jsx(CardContentRoot,{as:o,className:clsx(f.root,s),ownerState:c,ref:n,...l})});function getCardMediaUtilityClass(t){return generateUtilityClass("MuiCardMedia",t)}generateUtilityClasses("MuiCardMedia",["root","media","img"]);const useUtilityClasses$b=t=>{const{classes:e,isMediaComponent:n,isImageComponent:i}=t;return composeClasses({root:["root",n&&"media",i&&"img"]},getCardMediaUtilityClass,e)},CardMediaRoot=styled("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:i,isImageComponent:s}=n;return[e.root,i&&e.media,s&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),MEDIA_COMPONENTS=["video","audio","picture","iframe","img"],IMAGE_COMPONENTS=["picture","img"],CardMedia=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiCardMedia"}),{children:s,className:o,component:l="div",image:c,src:f,style:h,...p}=i,g=MEDIA_COMPONENTS.includes(l),y=!g&&c?{backgroundImage:`url("${c}")`,...h}:h,x={...i,component:l,isMediaComponent:g,isImageComponent:IMAGE_COMPONENTS.includes(l)},S=useUtilityClasses$b(x);return jsxRuntimeExports.jsx(CardMediaRoot,{className:clsx(S.root,o),as:l,role:!g&&c?"img":void 0,ref:n,style:y,ownerState:x,src:g?c||f:void 0,...p,children:s})}),Container$1=createContainer({createStyledComponent:styled("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${capitalize(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>useDefaultProps({props:t,name:"MuiContainer"})});function isOverflowing(t){const e=ownerDocument(t);return e.body===t?ownerWindow(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function ariaHidden(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function getPaddingRight(t){return parseInt(ownerWindow(t).getComputedStyle(t).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),i=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||i}function ariaHiddenSiblings(t,e,n,i,s){const o=[e,n,...i];[].forEach.call(t.children,l=>{const c=!o.includes(l),f=!isAriaHiddenForbiddenOnElement(l);c&&f&&ariaHidden(l,s)})}function findIndexOf(t,e){let n=-1;return t.some((i,s)=>e(i)?(n=s,!0):!1),n}function handleContainer(t,e){const n=[],i=t.container;if(!e.disableScrollLock){if(isOverflowing(i)){const l=getScrollbarSize(ownerWindow(i));n.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${getPaddingRight(i)+l}px`;const c=ownerDocument(i).querySelectorAll(".mui-fixed");[].forEach.call(c,f=>{n.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${getPaddingRight(f)+l}px`})}let o;if(i.parentNode instanceof DocumentFragment)o=ownerDocument(i).body;else{const l=i.parentElement,c=ownerWindow(i);o=(l==null?void 0:l.nodeName)==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:i}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:l,property:c})=>{o?l.style.setProperty(c,o):l.style.removeProperty(c)})}}function getHiddenSiblings(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class ModalManager{constructor(){this.modals=[],this.containers=[]}add(e,n){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&ariaHidden(e.modalRef,!1);const s=getHiddenSiblings(n);ariaHiddenSiblings(n,e.mount,e.modalRef,s,!0);const o=findIndexOf(this.containers,l=>l.container===n);return o!==-1?(this.containers[o].modals.push(e),i):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:s}),i)}mount(e,n){const i=findIndexOf(this.containers,o=>o.modals.includes(e)),s=this.containers[i];s.restore||(s.restore=handleContainer(s,n))}remove(e,n=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const s=findIndexOf(this.containers,l=>l.modals.includes(e)),o=this.containers[s];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(i,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&ariaHidden(e.modalRef,n),ariaHiddenSiblings(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(s,1);else{const l=o.modals[o.modals.length-1];l.modalRef&&ariaHidden(l.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function isNonTabbableRadio(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=i=>t.ownerDocument.querySelector(`input[type="radio"]${i}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function isNodeMatchingSelectorFocusable(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||isNonTabbableRadio(t))}function defaultGetTabbable(t){const e=[],n=[];return Array.from(t.querySelectorAll(candidatesSelector)).forEach((i,s)=>{const o=getTabIndex(i);o===-1||!isNodeMatchingSelectorFocusable(i)||(o===0?e.push(i):n.push({documentOrder:s,tabIndex:o,node:i}))}),n.sort((i,s)=>i.tabIndex===s.tabIndex?i.documentOrder-s.documentOrder:i.tabIndex-s.tabIndex).map(i=>i.node).concat(e)}function defaultIsEnabled(){return!0}function FocusTrap(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:s=!1,getTabbable:o=defaultGetTabbable,isEnabled:l=defaultIsEnabled,open:c}=t,f=reactExports.useRef(!1),h=reactExports.useRef(null),p=reactExports.useRef(null),g=reactExports.useRef(null),y=reactExports.useRef(null),x=reactExports.useRef(!1),S=reactExports.useRef(null),w=useForkRef(getReactElementRef(e),S),v=reactExports.useRef(null);reactExports.useEffect(()=>{!c||!S.current||(x.current=!n)},[n,c]),reactExports.useEffect(()=>{if(!c||!S.current)return;const E=ownerDocument(S.current);return S.current.contains(E.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),x.current&&S.current.focus()),()=>{s||(g.current&&g.current.focus&&(f.current=!0,g.current.focus()),g.current=null)}},[c]),reactExports.useEffect(()=>{if(!c||!S.current)return;const E=ownerDocument(S.current),k=F=>{v.current=F,!(i||!l()||F.key!=="Tab")&&E.activeElement===S.current&&F.shiftKey&&(f.current=!0,p.current&&p.current.focus())},T=()=>{var O,P;const F=S.current;if(F===null)return;if(!E.hasFocus()||!l()||f.current){f.current=!1;return}if(F.contains(E.activeElement)||i&&E.activeElement!==h.current&&E.activeElement!==p.current)return;if(E.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!x.current)return;let C=[];if((E.activeElement===h.current||E.activeElement===p.current)&&(C=o(S.current)),C.length>0){const G=!!((O=v.current)!=null&&O.shiftKey&&((P=v.current)==null?void 0:P.key)==="Tab"),W=C[0],J=C[C.length-1];typeof W!="string"&&typeof J!="string"&&(G?J.focus():W.focus())}else F.focus()};E.addEventListener("focusin",T),E.addEventListener("keydown",k,!0);const L=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&T()},50);return()=>{clearInterval(L),E.removeEventListener("focusin",T),E.removeEventListener("keydown",k,!0)}},[n,i,s,l,c,o]);const b=E=>{g.current===null&&(g.current=E.relatedTarget),x.current=!0,y.current=E.target;const k=e.props.onFocus;k&&k(E)},_=E=>{g.current===null&&(g.current=E.relatedTarget),x.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:c?0:-1,onFocus:_,ref:h,"data-testid":"sentinelStart"}),reactExports.cloneElement(e,{ref:w,onFocus:b}),jsxRuntimeExports.jsx("div",{tabIndex:c?0:-1,onFocus:_,ref:p,"data-testid":"sentinelEnd"})]})}function getContainer(t){return typeof t=="function"?t():t}function getHasTransition(t){return t?t.props.hasOwnProperty("in"):!1}const noop$3=()=>{},manager=new ModalManager;function useModal(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:i=!1,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:l,children:c,onClose:f,open:h,rootRef:p}=t,g=reactExports.useRef({}),y=reactExports.useRef(null),x=reactExports.useRef(null),S=useForkRef(x,p),[w,v]=reactExports.useState(!h),b=getHasTransition(c);let _=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(_=!1);const E=()=>ownerDocument(y.current),k=()=>(g.current.modalRef=x.current,g.current.mount=y.current,g.current),T=()=>{manager.mount(k(),{disableScrollLock:i}),x.current&&(x.current.scrollTop=0)},L=useEventCallback(()=>{const we=getContainer(e)||E().body;manager.add(k(),we),x.current&&T()}),F=()=>manager.isTopModal(k()),C=useEventCallback(we=>{y.current=we,we&&(h&&F()?T():x.current&&ariaHidden(x.current,_))}),O=reactExports.useCallback(()=>{manager.remove(k(),_)},[_]);reactExports.useEffect(()=>()=>{O()},[O]),reactExports.useEffect(()=>{h?L():(!b||!s)&&O()},[h,O,b,s,L]);const P=we=>me=>{var re;(re=we.onKeyDown)==null||re.call(we,me),!(me.key!=="Escape"||me.which===229||!F())&&(n||(me.stopPropagation(),f&&f(me,"escapeKeyDown")))},G=we=>me=>{var re;(re=we.onClick)==null||re.call(we,me),me.target===me.currentTarget&&f&&f(me,"backdropClick")};return{getRootProps:(we={})=>{const me=extractEventHandlers(t);delete me.onTransitionEnter,delete me.onTransitionExited;const re={...me,...we};return{role:"presentation",...re,onKeyDown:P(re),ref:S}},getBackdropProps:(we={})=>{const me=we;return{"aria-hidden":!0,...me,onClick:G(me),open:h}},getTransitionProps:()=>{const we=()=>{v(!1),o&&o()},me=()=>{v(!0),l&&l(),s&&O()};return{onEnter:createChainedFunction(we,(c==null?void 0:c.props.onEnter)??noop$3),onExited:createChainedFunction(me,(c==null?void 0:c.props.onExited)??noop$3)}},rootRef:S,portalRef:C,isTopModal:F,exited:w,hasTransition:b}}function getModalUtilityClass(t){return generateUtilityClass("MuiModal",t)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const useUtilityClasses$a=t=>{const{open:e,exited:n,classes:i}=t;return composeClasses({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,i)},ModalRoot=styled("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(memoTheme(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),ModalBackdrop=styled(Backdrop,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(e,n){const i=useDefaultProps({name:"MuiModal",props:e}),{BackdropComponent:s=ModalBackdrop,BackdropProps:o,classes:l,className:c,closeAfterTransition:f=!1,children:h,container:p,component:g,components:y={},componentsProps:x={},disableAutoFocus:S=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:v=!1,disablePortal:b=!1,disableRestoreFocus:_=!1,disableScrollLock:E=!1,hideBackdrop:k=!1,keepMounted:T=!1,onBackdropClick:L,onClose:F,onTransitionEnter:C,onTransitionExited:O,open:P,slotProps:G={},slots:W={},theme:J,...ne}=i,we={...i,closeAfterTransition:f,disableAutoFocus:S,disableEnforceFocus:w,disableEscapeKeyDown:v,disablePortal:b,disableRestoreFocus:_,disableScrollLock:E,hideBackdrop:k,keepMounted:T},{getRootProps:me,getBackdropProps:re,getTransitionProps:ee,portalRef:be,isTopModal:ke,exited:z,hasTransition:j}=useModal({...we,rootRef:n}),U={...we,exited:z},Y=useUtilityClasses$a(U),ce={};if(h.props.tabIndex===void 0&&(ce.tabIndex="-1"),j){const{onEnter:V,onExited:K}=ee();ce.onEnter=V,ce.onExited=K}const ge={...ne,slots:{root:y.Root,backdrop:y.Backdrop,...W},slotProps:{...x,...G}},[he,ye]=useSlot("root",{elementType:ModalRoot,externalForwardedProps:ge,getSlotProps:me,additionalProps:{ref:n,as:g},ownerState:U,className:clsx(c,Y==null?void 0:Y.root,!U.open&&U.exited&&(Y==null?void 0:Y.hidden))}),[Ae,ot]=useSlot("backdrop",{elementType:s,externalForwardedProps:ge,additionalProps:o,getSlotProps:V=>re({...V,onClick:K=>{L&&L(K),V!=null&&V.onClick&&V.onClick(K)}}),className:clsx(o==null?void 0:o.className,Y==null?void 0:Y.backdrop),ownerState:U}),Ie=useForkRef(o==null?void 0:o.ref,ot.ref);return!T&&!P&&(!j||z)?null:jsxRuntimeExports.jsx(Portal,{ref:be,container:p,disablePortal:b,children:jsxRuntimeExports.jsxs(he,{...ye,children:[!k&&s?jsxRuntimeExports.jsx(Ae,{...ot,ref:Ie}):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:w,disableAutoFocus:S,disableRestoreFocus:_,isEnabled:ke,open:P,children:reactExports.cloneElement(h,ce)})]})})});function getDividerUtilityClass(t){return generateUtilityClass("MuiDivider",t)}generateUtilityClasses("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const useUtilityClasses$9=t=>{const{absolute:e,children:n,classes:i,flexItem:s,light:o,orientation:l,textAlign:c,variant:f}=t;return composeClasses({root:["root",e&&"absolute",f,o&&"light",l==="vertical"&&"vertical",s&&"flexItem",n&&"withChildren",n&&l==="vertical"&&"withChildrenVertical",c==="right"&&l!=="vertical"&&"textAlignRight",c==="left"&&l!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",l==="vertical"&&"wrapperVertical"]},getDividerUtilityClass,i)},DividerRoot=styled("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(memoTheme(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:alpha$1(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),DividerWrapper=styled("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(memoTheme(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),Divider=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiDivider"}),{absolute:s=!1,children:o,className:l,orientation:c="horizontal",component:f=o||c==="vertical"?"div":"hr",flexItem:h=!1,light:p=!1,role:g=f!=="hr"?"separator":void 0,textAlign:y="center",variant:x="fullWidth",...S}=i,w={...i,absolute:s,component:f,flexItem:h,light:p,orientation:c,role:g,textAlign:y,variant:x},v=useUtilityClasses$9(w);return jsxRuntimeExports.jsx(DividerRoot,{as:f,className:clsx(v.root,l),role:g,ref:n,ownerState:w,"aria-orientation":g==="separator"&&(f!=="hr"||c==="vertical")?c:void 0,...S,children:o?jsxRuntimeExports.jsx(DividerWrapper,{className:v.wrapper,ownerState:w,children:o}):null})});Divider&&(Divider.muiSkipListHighlight=!0);const GridContext=reactExports.createContext();function getGridUtilityClass(t){return generateUtilityClass("MuiGrid",t)}const SPACINGS=[0,1,2,3,4,5,6,7,8,9,10],DIRECTIONS=["column-reverse","column","row-reverse","row"],WRAPS=["nowrap","wrap-reverse","wrap"],GRID_SIZES=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gridClasses=generateUtilityClasses("MuiGrid",["root","container","item","zeroMinWidth",...SPACINGS.map(t=>`spacing-xs-${t}`),...DIRECTIONS.map(t=>`direction-xs-${t}`),...WRAPS.map(t=>`wrap-xs-${t}`),...GRID_SIZES.map(t=>`grid-xs-${t}`),...GRID_SIZES.map(t=>`grid-sm-${t}`),...GRID_SIZES.map(t=>`grid-md-${t}`),...GRID_SIZES.map(t=>`grid-lg-${t}`),...GRID_SIZES.map(t=>`grid-xl-${t}`)]);function generateGrid({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((i,s)=>{let o={};if(e[s]&&(n=e[s]),!n)return i;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const l=resolveBreakpointValues({values:e.columns,breakpoints:t.breakpoints.values}),c=typeof l=="object"?l[s]:l;if(c==null)return i;const f=`${Math.round(n/c*1e8)/1e6}%`;let h={};if(e.container&&e.item&&e.columnSpacing!==0){const p=t.spacing(e.columnSpacing);if(p!=="0px"){const g=`calc(${f} + ${p})`;h={flexBasis:g,maxWidth:g}}}o={flexBasis:f,flexGrow:0,maxWidth:f,...h}}return t.breakpoints.values[s]===0?Object.assign(i,o):i[t.breakpoints.up(s)]=o,i},{})}function generateDirection({theme:t,ownerState:e}){const n=resolveBreakpointValues({values:e.direction,breakpoints:t.breakpoints.values});return handleBreakpoints({theme:t},n,i=>{const s={flexDirection:i};return i.startsWith("column")&&(s[`& > .${gridClasses.item}`]={maxWidth:"none"}),s})}function extractZeroValueBreakpointKeys({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(s=>{n===""&&e[s]!==0&&(n=s)});const i=Object.keys(t).sort((s,o)=>t[s]-t[o]);return i.slice(0,i.indexOf(n))}function generateRowGap({theme:t,ownerState:e}){const{container:n,rowSpacing:i}=e;let s={};if(n&&i!==0){const o=resolveBreakpointValues({values:i,breakpoints:t.breakpoints.values});let l;typeof o=="object"&&(l=extractZeroValueBreakpointKeys({breakpoints:t.breakpoints.values,values:o})),s=handleBreakpoints({theme:t},o,(c,f)=>{const h=t.spacing(c);return h!=="0px"?{marginTop:`calc(-1 * ${h})`,[`& > .${gridClasses.item}`]:{paddingTop:h}}:l!=null&&l.includes(f)?{}:{marginTop:0,[`& > .${gridClasses.item}`]:{paddingTop:0}}})}return s}function generateColumnGap({theme:t,ownerState:e}){const{container:n,columnSpacing:i}=e;let s={};if(n&&i!==0){const o=resolveBreakpointValues({values:i,breakpoints:t.breakpoints.values});let l;typeof o=="object"&&(l=extractZeroValueBreakpointKeys({breakpoints:t.breakpoints.values,values:o})),s=handleBreakpoints({theme:t},o,(c,f)=>{const h=t.spacing(c);if(h!=="0px"){const p=`calc(-1 * ${h})`;return{width:`calc(100% + ${h})`,marginLeft:p,[`& > .${gridClasses.item}`]:{paddingLeft:h}}}return l!=null&&l.includes(f)?{}:{width:"100%",marginLeft:0,[`& > .${gridClasses.item}`]:{paddingLeft:0}}})}return s}function resolveSpacingStyles(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const i=[];return e.forEach(s=>{const o=t[s];Number(o)>0&&i.push(n[`spacing-${s}-${String(o)}`])}),i}const GridRoot=styled("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:i,direction:s,item:o,spacing:l,wrap:c,zeroMinWidth:f,breakpoints:h}=n;let p=[];i&&(p=resolveSpacingStyles(l,h,e));const g=[];return h.forEach(y=>{const x=n[y];x&&g.push(e[`grid-${y}-${String(x)}`])}),[e.root,i&&e.container,o&&e.item,f&&e.zeroMinWidth,...p,s!=="row"&&e[`direction-xs-${String(s)}`],c!=="wrap"&&e[`wrap-xs-${String(c)}`],...g]}})(({ownerState:t})=>({boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},...t.wrap!=="wrap"&&{flexWrap:t.wrap}}),generateDirection,generateRowGap,generateColumnGap,generateGrid);function resolveSpacingClasses(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(i=>{const s=t[i];if(Number(s)>0){const o=`spacing-${i}-${String(s)}`;n.push(o)}}),n}const useUtilityClasses$8=t=>{const{classes:e,container:n,direction:i,item:s,spacing:o,wrap:l,zeroMinWidth:c,breakpoints:f}=t;let h=[];n&&(h=resolveSpacingClasses(o,f));const p=[];f.forEach(y=>{const x=t[y];x&&p.push(`grid-${y}-${String(x)}`)});const g={root:["root",n&&"container",s&&"item",c&&"zeroMinWidth",...h,i!=="row"&&`direction-xs-${String(i)}`,l!=="wrap"&&`wrap-xs-${String(l)}`,...p]};return composeClasses(g,getGridUtilityClass,e)},Grid=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiGrid"}),{breakpoints:s}=useTheme(),o=extendSxProp$1(i),{className:l,columns:c,columnSpacing:f,component:h="div",container:p=!1,direction:g="row",item:y=!1,rowSpacing:x,spacing:S=0,wrap:w="wrap",zeroMinWidth:v=!1,...b}=o,_=x||S,E=f||S,k=reactExports.useContext(GridContext),T=p?c||12:k,L={},F={...b};s.keys.forEach(P=>{b[P]!=null&&(L[P]=b[P],delete F[P])});const C={...o,columns:T,container:p,direction:g,item:y,rowSpacing:_,columnSpacing:E,wrap:w,zeroMinWidth:v,spacing:S,...L,breakpoints:s.keys},O=useUtilityClasses$8(C);return jsxRuntimeExports.jsx(GridContext.Provider,{value:T,children:jsxRuntimeExports.jsx(GridRoot,{ownerState:C,className:clsx(O.root,l),as:h,ref:n,...F})})}),Grid2=createGrid({createStyledComponent:styled("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid2",useThemeProps:t=>useDefaultProps({props:t,name:"MuiGrid2"}),useTheme});function getLinearProgressUtilityClass(t){return generateUtilityClass("MuiLinearProgress",t)}generateUtilityClasses("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const TRANSITION_DURATION=4,indeterminate1Keyframe=keyframes$1`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,indeterminate1Animation=typeof indeterminate1Keyframe!="string"?css`
        animation: ${indeterminate1Keyframe} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,indeterminate2Keyframe=keyframes$1`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,indeterminate2Animation=typeof indeterminate2Keyframe!="string"?css`
        animation: ${indeterminate2Keyframe} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,bufferKeyframe=keyframes$1`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,bufferAnimation=typeof bufferKeyframe!="string"?css`
        animation: ${bufferKeyframe} 3s infinite linear;
      `:null,useUtilityClasses$7=t=>{const{classes:e,variant:n,color:i}=t,s={root:["root",`color${capitalize(i)}`,n],dashed:["dashed",`dashedColor${capitalize(i)}`],bar1:["bar","bar1",`barColor${capitalize(i)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${capitalize(i)}`,n==="buffer"&&`color${capitalize(i)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return composeClasses(s,getLinearProgressUtilityClass,e)},getColorShade=(t,e)=>t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?lighten(t.palette[e].main,.62):darken(t.palette[e].main,.5),LinearProgressRoot=styled("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${capitalize(n.color)}`],e[n.variant]]}})(memoTheme(({theme:t})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([e])=>({props:{color:e},style:{backgroundColor:getColorShade(t,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),LinearProgressDashed=styled("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${capitalize(n.color)}`]]}})(memoTheme(({theme:t})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([e])=>{const n=getColorShade(t,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),bufferAnimation||{animation:`${bufferKeyframe} 3s infinite linear`}),LinearProgressBar1=styled("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar1,e[`barColor${capitalize(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(memoTheme(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([e])=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${TRANSITION_DURATION}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${TRANSITION_DURATION}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:indeterminate1Animation||{animation:`${indeterminate1Keyframe} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),LinearProgressBar2=styled("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e.bar2,e[`barColor${capitalize(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(memoTheme(({theme:t})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:getColorShade(t,e),transition:`transform .${TRANSITION_DURATION}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:indeterminate2Animation||{animation:`${indeterminate2Keyframe} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),LinearProgress=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiLinearProgress"}),{className:s,color:o="primary",value:l,valueBuffer:c,variant:f="indeterminate",...h}=i,p={...i,color:o,variant:f},g=useUtilityClasses$7(p),y=useRtl(),x={},S={bar1:{},bar2:{}};if((f==="determinate"||f==="buffer")&&l!==void 0){x["aria-valuenow"]=Math.round(l),x["aria-valuemin"]=0,x["aria-valuemax"]=100;let w=l-100;y&&(w=-w),S.bar1.transform=`translateX(${w}%)`}if(f==="buffer"&&c!==void 0){let w=(c||0)-100;y&&(w=-w),S.bar2.transform=`translateX(${w}%)`}return jsxRuntimeExports.jsxs(LinearProgressRoot,{className:clsx(g.root,s),ownerState:p,role:"progressbar",...x,ref:n,...h,children:[f==="buffer"?jsxRuntimeExports.jsx(LinearProgressDashed,{className:g.dashed,ownerState:p}):null,jsxRuntimeExports.jsx(LinearProgressBar1,{className:g.bar1,ownerState:p,style:S.bar1}),f==="determinate"?null:jsxRuntimeExports.jsx(LinearProgressBar2,{className:g.bar2,ownerState:p,style:S.bar2})]})}),ListContext=reactExports.createContext({});function getListUtilityClass(t){return generateUtilityClass("MuiList",t)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const useUtilityClasses$6=t=>{const{classes:e,disablePadding:n,dense:i,subheader:s}=t;return composeClasses({root:["root",!n&&"padding",i&&"dense",s&&"subheader"]},getListUtilityClass,e)},ListRoot=styled("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),List=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiList"}),{children:s,className:o,component:l="ul",dense:c=!1,disablePadding:f=!1,subheader:h,...p}=i,g=reactExports.useMemo(()=>({dense:c}),[c]),y={...i,component:l,dense:c,disablePadding:f},x=useUtilityClasses$6(y);return jsxRuntimeExports.jsx(ListContext.Provider,{value:g,children:jsxRuntimeExports.jsxs(ListRoot,{as:l,className:clsx(x.root,o),ref:n,ownerState:y,...p,children:[h,s]})})});function getListItemUtilityClass(t){return generateUtilityClass("MuiListItem",t)}generateUtilityClasses("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const listItemButtonClasses=generateUtilityClasses("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function getListItemSecondaryActionClassesUtilityClass(t){return generateUtilityClass("MuiListItemSecondaryAction",t)}generateUtilityClasses("MuiListItemSecondaryAction",["root","disableGutters"]);const useUtilityClasses$5=t=>{const{disableGutters:e,classes:n}=t;return composeClasses({root:["root",e&&"disableGutters"]},getListItemSecondaryActionClassesUtilityClass,n)},ListItemSecondaryActionRoot=styled("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),ListItemSecondaryAction=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiListItemSecondaryAction"}),{className:s,...o}=i,l=reactExports.useContext(ListContext),c={...i,disableGutters:l.disableGutters},f=useUtilityClasses$5(c);return jsxRuntimeExports.jsx(ListItemSecondaryActionRoot,{className:clsx(f.root,s),ownerState:c,ref:n,...o})});ListItemSecondaryAction.muiName="ListItemSecondaryAction";const overridesResolver=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},useUtilityClasses$4=t=>{const{alignItems:e,classes:n,dense:i,disableGutters:s,disablePadding:o,divider:l,hasSecondaryAction:c}=t;return composeClasses({root:["root",i&&"dense",!s&&"gutters",!o&&"padding",l&&"divider",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction"],container:["container"]},getListItemUtilityClass,n)},ListItemRoot=styled("div",{name:"MuiListItem",slot:"Root",overridesResolver})(memoTheme(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${listItemButtonClasses.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),ListItemContainer=styled("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),ListItem=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiListItem"}),{alignItems:s="center",children:o,className:l,component:c,components:f={},componentsProps:h={},ContainerComponent:p="li",ContainerProps:{className:g,...y}={},dense:x=!1,disableGutters:S=!1,disablePadding:w=!1,divider:v=!1,secondaryAction:b,slotProps:_={},slots:E={},...k}=i,T=reactExports.useContext(ListContext),L=reactExports.useMemo(()=>({dense:x||T.dense||!1,alignItems:s,disableGutters:S}),[s,T.dense,x,S]),F=reactExports.useRef(null),C=reactExports.Children.toArray(o),O=C.length&&isMuiElement(C[C.length-1],["ListItemSecondaryAction"]),P={...i,alignItems:s,dense:L.dense,disableGutters:S,disablePadding:w,divider:v,hasSecondaryAction:O},G=useUtilityClasses$4(P),W=useForkRef(F,n),J=E.root||f.Root||ListItemRoot,ne=_.root||h.root||{},we={className:clsx(G.root,ne.className,l),...k};let me=c||"li";return O?(me=!we.component&&!c?"div":me,p==="li"&&(me==="li"?me="div":we.component==="li"&&(we.component="div")),jsxRuntimeExports.jsx(ListContext.Provider,{value:L,children:jsxRuntimeExports.jsxs(ListItemContainer,{as:p,className:clsx(G.container,g),ref:W,ownerState:P,...y,children:[jsxRuntimeExports.jsx(J,{...ne,...!isHostComponent(J)&&{as:me,ownerState:{...P,...ne.ownerState}},...we,children:C}),C.pop()]})})):jsxRuntimeExports.jsx(ListContext.Provider,{value:L,children:jsxRuntimeExports.jsxs(J,{...ne,as:me,ref:W,...!isHostComponent(J)&&{ownerState:{...P,...ne.ownerState}},...we,children:[C,b&&jsxRuntimeExports.jsx(ListItemSecondaryAction,{children:b})]})})});function getListItemTextUtilityClass(t){return generateUtilityClass("MuiListItemText",t)}const listItemTextClasses=generateUtilityClasses("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),useUtilityClasses$3=t=>{const{classes:e,inset:n,primary:i,secondary:s,dense:o}=t;return composeClasses({root:["root",n&&"inset",o&&"dense",i&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},getListItemTextUtilityClass,e)},ListItemTextRoot=styled("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${listItemTextClasses.primary}`]:e.primary},{[`& .${listItemTextClasses.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${typographyClasses.root}:where(& .${listItemTextClasses.primary})`]:{display:"block"},[`.${typographyClasses.root}:where(& .${listItemTextClasses.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),ListItemText=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiListItemText"}),{children:s,className:o,disableTypography:l=!1,inset:c=!1,primary:f,primaryTypographyProps:h,secondary:p,secondaryTypographyProps:g,slots:y={},slotProps:x={},...S}=i,{dense:w}=reactExports.useContext(ListContext);let v=f??s,b=p;const _={...i,disableTypography:l,inset:c,primary:!!v,secondary:!!b,dense:w},E=useUtilityClasses$3(_),k={slots:y,slotProps:{primary:h,secondary:g,...x}},[T,L]=useSlot("primary",{className:E.primary,elementType:Typography,externalForwardedProps:k,ownerState:_}),[F,C]=useSlot("secondary",{className:E.secondary,elementType:Typography,externalForwardedProps:k,ownerState:_});return v!=null&&v.type!==Typography&&!l&&(v=jsxRuntimeExports.jsx(T,{variant:w?"body2":"body1",component:L!=null&&L.variant?void 0:"span",...L,children:v})),b!=null&&b.type!==Typography&&!l&&(b=jsxRuntimeExports.jsx(F,{variant:"body2",color:"textSecondary",...C,children:b})),jsxRuntimeExports.jsxs(ListItemTextRoot,{className:clsx(E.root,o),ownerState:_,ref:n,...S,children:[v,b]})});function areArraysEqual(t,e,n=(i,s)=>i===s){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}const INTENTIONAL_DRAG_COUNT_THRESHOLD=2;function getNewValue(t,e,n,i,s){return n===1?Math.min(t+e,s):Math.max(t-e,i)}function asc(t,e){return t-e}function findClosest(t,e){const{index:n}=t.reduce((i,s,o)=>{const l=Math.abs(e-s);return i===null||l<i.distance||l===i.distance?{distance:l,index:o}:i},null)??{};return n}function trackFinger(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let i=0;i<n.changedTouches.length;i+=1){const s=n.changedTouches[i];if(s.identifier===e.current)return{x:s.clientX,y:s.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function valueToPercent(t,e,n){return(t-e)*100/(n-e)}function percentToValue(t,e,n){return(n-e)*t+e}function getDecimalPrecision(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),i=n[0].split(".")[1];return(i?i.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function roundValueToStep(t,e,n){const i=Math.round((t-n)/e)*e+n;return Number(i.toFixed(getDecimalPrecision(e)))}function setValueIndex({values:t,newValue:e,index:n}){const i=t.slice();return i[n]=e,i.sort(asc)}function focusThumb({sliderRef:t,activeIndex:e,setActive:n}){var s,o,l;const i=ownerDocument(t.current);(!((s=t.current)!=null&&s.contains(i.activeElement))||Number((o=i==null?void 0:i.activeElement)==null?void 0:o.getAttribute("data-index"))!==e)&&((l=t.current)==null||l.querySelector(`[type="range"][data-index="${e}"]`).focus()),n&&n(e)}function areValuesEqual(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?areArraysEqual(t,e):!1}const axisProps={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Identity$1=t=>t;let cachedSupportsTouchActionNone;function doesSupportTouchActionNone(){return cachedSupportsTouchActionNone===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?cachedSupportsTouchActionNone=CSS.supports("touch-action","none"):cachedSupportsTouchActionNone=!0),cachedSupportsTouchActionNone}function useSlider(t){const{"aria-labelledby":e,defaultValue:n,disabled:i=!1,disableSwap:s=!1,isRtl:o=!1,marks:l=!1,max:c=100,min:f=0,name:h,onChange:p,onChangeCommitted:g,orientation:y="horizontal",rootRef:x,scale:S=Identity$1,step:w=1,shiftStep:v=10,tabIndex:b,value:_}=t,E=reactExports.useRef(void 0),[k,T]=reactExports.useState(-1),[L,F]=reactExports.useState(-1),[C,O]=reactExports.useState(!1),P=reactExports.useRef(0),G=reactExports.useRef(null),[W,J]=useControlled({controlled:_,default:n??f,name:"Slider"}),ne=p&&((qe,dt,yt)=>{const Nt=qe.nativeEvent||qe,nn=new Nt.constructor(Nt.type,Nt);Object.defineProperty(nn,"target",{writable:!0,value:{value:dt,name:h}}),G.current=dt,p(nn,dt,yt)}),we=Array.isArray(W);let me=we?W.slice().sort(asc):[W];me=me.map(qe=>qe==null?f:clamp$1(qe,f,c));const re=l===!0&&w!==null?[...Array(Math.floor((c-f)/w)+1)].map((qe,dt)=>({value:f+w*dt})):l||[],ee=re.map(qe=>qe.value),[be,ke]=reactExports.useState(-1),z=reactExports.useRef(null),j=useForkRef(x,z),U=qe=>dt=>{var Nt;const yt=Number(dt.currentTarget.getAttribute("data-index"));isFocusVisible(dt.target)&&ke(yt),F(yt),(Nt=qe==null?void 0:qe.onFocus)==null||Nt.call(qe,dt)},Y=qe=>dt=>{var yt;isFocusVisible(dt.target)||ke(-1),F(-1),(yt=qe==null?void 0:qe.onBlur)==null||yt.call(qe,dt)},ce=(qe,dt)=>{const yt=Number(qe.currentTarget.getAttribute("data-index")),Nt=me[yt],nn=ee.indexOf(Nt);let zt=dt;if(re&&w==null){const mt=ee[ee.length-1];zt>mt?zt=mt:zt<ee[0]?zt=ee[0]:zt=zt<Nt?ee[nn-1]:ee[nn+1]}if(zt=clamp$1(zt,f,c),we){s&&(zt=clamp$1(zt,me[yt-1]||-1/0,me[yt+1]||1/0));const mt=zt;zt=setValueIndex({values:me,newValue:zt,index:yt});let Ue=yt;s||(Ue=zt.indexOf(mt)),focusThumb({sliderRef:z,activeIndex:Ue})}J(zt),ke(yt),ne&&!areValuesEqual(zt,W)&&ne(qe,zt,yt),g&&g(qe,G.current??zt)},ge=qe=>dt=>{var yt;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(dt.key)){dt.preventDefault();const Nt=Number(dt.currentTarget.getAttribute("data-index")),nn=me[Nt];let zt=null;if(w!=null){const mt=dt.shiftKey?v:w;switch(dt.key){case"ArrowUp":zt=getNewValue(nn,mt,1,f,c);break;case"ArrowRight":zt=getNewValue(nn,mt,o?-1:1,f,c);break;case"ArrowDown":zt=getNewValue(nn,mt,-1,f,c);break;case"ArrowLeft":zt=getNewValue(nn,mt,o?1:-1,f,c);break;case"PageUp":zt=getNewValue(nn,v,1,f,c);break;case"PageDown":zt=getNewValue(nn,v,-1,f,c);break;case"Home":zt=f;break;case"End":zt=c;break}}else if(re){const mt=ee[ee.length-1],Ue=ee.indexOf(nn),Me=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Mt=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Me.includes(dt.key)?Ue===0?zt=ee[0]:zt=ee[Ue-1]:Mt.includes(dt.key)&&(Ue===ee.length-1?zt=mt:zt=ee[Ue+1])}zt!=null&&ce(dt,zt)}(yt=qe==null?void 0:qe.onKeyDown)==null||yt.call(qe,dt)};useEnhancedEffect(()=>{var qe;i&&z.current.contains(document.activeElement)&&((qe=document.activeElement)==null||qe.blur())},[i]),i&&k!==-1&&T(-1),i&&be!==-1&&ke(-1);const he=qe=>dt=>{var yt;(yt=qe.onChange)==null||yt.call(qe,dt),ce(dt,dt.target.valueAsNumber)},ye=reactExports.useRef(void 0);let Ae=y;o&&y==="horizontal"&&(Ae+="-reverse");const ot=({finger:qe,move:dt=!1})=>{const{current:yt}=z,{width:Nt,height:nn,bottom:zt,left:mt}=yt.getBoundingClientRect();let Ue;Ae.startsWith("vertical")?Ue=(zt-qe.y)/nn:Ue=(qe.x-mt)/Nt,Ae.includes("-reverse")&&(Ue=1-Ue);let Me;if(Me=percentToValue(Ue,f,c),w)Me=roundValueToStep(Me,w,f);else{const cn=findClosest(ee,Me);Me=ee[cn]}Me=clamp$1(Me,f,c);let Mt=0;if(we){dt?Mt=ye.current:Mt=findClosest(me,Me),s&&(Me=clamp$1(Me,me[Mt-1]||-1/0,me[Mt+1]||1/0));const cn=Me;Me=setValueIndex({values:me,newValue:Me,index:Mt}),s&&dt||(Mt=Me.indexOf(cn),ye.current=Mt)}return{newValue:Me,activeIndex:Mt}},Ie=useEventCallback(qe=>{const dt=trackFinger(qe,E);if(!dt)return;if(P.current+=1,qe.type==="mousemove"&&qe.buttons===0){V(qe);return}const{newValue:yt,activeIndex:Nt}=ot({finger:dt,move:!0});focusThumb({sliderRef:z,activeIndex:Nt,setActive:T}),J(yt),!C&&P.current>INTENTIONAL_DRAG_COUNT_THRESHOLD&&O(!0),ne&&!areValuesEqual(yt,W)&&ne(qe,yt,Nt)}),V=useEventCallback(qe=>{const dt=trackFinger(qe,E);if(O(!1),!dt)return;const{newValue:yt}=ot({finger:dt,move:!0});T(-1),qe.type==="touchend"&&F(-1),g&&g(qe,G.current??yt),E.current=void 0,ae()}),K=useEventCallback(qe=>{if(i)return;doesSupportTouchActionNone()||qe.preventDefault();const dt=qe.changedTouches[0];dt!=null&&(E.current=dt.identifier);const yt=trackFinger(qe,E);if(yt!==!1){const{newValue:nn,activeIndex:zt}=ot({finger:yt});focusThumb({sliderRef:z,activeIndex:zt,setActive:T}),J(nn),ne&&!areValuesEqual(nn,W)&&ne(qe,nn,zt)}P.current=0;const Nt=ownerDocument(z.current);Nt.addEventListener("touchmove",Ie,{passive:!0}),Nt.addEventListener("touchend",V,{passive:!0})}),ae=reactExports.useCallback(()=>{const qe=ownerDocument(z.current);qe.removeEventListener("mousemove",Ie),qe.removeEventListener("mouseup",V),qe.removeEventListener("touchmove",Ie),qe.removeEventListener("touchend",V)},[V,Ie]);reactExports.useEffect(()=>{const{current:qe}=z;return qe.addEventListener("touchstart",K,{passive:doesSupportTouchActionNone()}),()=>{qe.removeEventListener("touchstart",K),ae()}},[ae,K]),reactExports.useEffect(()=>{i&&ae()},[i,ae]);const ue=qe=>dt=>{var nn;if((nn=qe.onMouseDown)==null||nn.call(qe,dt),i||dt.defaultPrevented||dt.button!==0)return;dt.preventDefault();const yt=trackFinger(dt,E);if(yt!==!1){const{newValue:zt,activeIndex:mt}=ot({finger:yt});focusThumb({sliderRef:z,activeIndex:mt,setActive:T}),J(zt),ne&&!areValuesEqual(zt,W)&&ne(dt,zt,mt)}P.current=0;const Nt=ownerDocument(z.current);Nt.addEventListener("mousemove",Ie,{passive:!0}),Nt.addEventListener("mouseup",V)},Z=valueToPercent(we?me[0]:f,f,c),ve=valueToPercent(me[me.length-1],f,c)-Z,Pe=(qe={})=>{const dt=extractEventHandlers(qe),yt={onMouseDown:ue(dt||{})},Nt={...dt,...yt};return{...qe,ref:j,...Nt}},Fe=qe=>dt=>{var Nt;(Nt=qe.onMouseOver)==null||Nt.call(qe,dt);const yt=Number(dt.currentTarget.getAttribute("data-index"));F(yt)},it=qe=>dt=>{var yt;(yt=qe.onMouseLeave)==null||yt.call(qe,dt),F(-1)},fe=(qe={})=>{const dt=extractEventHandlers(qe),yt={onMouseOver:Fe(dt||{}),onMouseLeave:it(dt||{})};return{...qe,...dt,...yt}},xe=qe=>({pointerEvents:k!==-1&&k!==qe?"none":void 0});let Se;return y==="vertical"&&(Se=o?"vertical-rl":"vertical-lr"),{active:k,axis:Ae,axisProps,dragging:C,focusedThumbIndex:be,getHiddenInputProps:(qe={})=>{const dt=extractEventHandlers(qe),yt={onChange:he(dt||{}),onFocus:U(dt||{}),onBlur:Y(dt||{}),onKeyDown:ge(dt||{})},Nt={...dt,...yt};return{tabIndex:b,"aria-labelledby":e,"aria-orientation":y,"aria-valuemax":S(c),"aria-valuemin":S(f),name:h,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":t.step??void 0,disabled:i,...qe,...Nt,style:{...visuallyHidden,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:Se}}},getRootProps:Pe,getThumbProps:fe,marks:re,open:L,range:we,rootRef:j,trackLeap:ve,trackOffset:Z,values:me,getThumbStyle:xe}}const shouldSpreadAdditionalProps=t=>!t||!isHostComponent(t);function getSliderUtilityClass(t){return generateUtilityClass("MuiSlider",t)}const sliderClasses=generateUtilityClasses("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),useValueLabelClasses=t=>{const{open:e}=t;return{offset:clsx(e&&sliderClasses.valueLabelOpen),circle:sliderClasses.valueLabelCircle,label:sliderClasses.valueLabelLabel}};function SliderValueLabel$1(t){const{children:e,className:n,value:i}=t,s=useValueLabelClasses(t);return e?reactExports.cloneElement(e,{className:clsx(e.props.className)},jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[e.props.children,jsxRuntimeExports.jsx("span",{className:clsx(s.offset,n),"aria-hidden":!0,children:jsxRuntimeExports.jsx("span",{className:s.circle,children:jsxRuntimeExports.jsx("span",{className:s.label,children:i})})})]})):null}function Identity(t){return t}const SliderRoot=styled("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${capitalize(n.color)}`],n.size!=="medium"&&e[`size${capitalize(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(memoTheme(({theme:t})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${sliderClasses.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${sliderClasses.dragging}`]:{[`& .${sliderClasses.thumb}, & .${sliderClasses.track}`]:{transition:"none"}},variants:[...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),SliderRail=styled("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),SliderTrack=styled("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(memoTheme(({theme:t})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([e])=>({props:{color:e,track:"inverted"},style:{...t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:{backgroundColor:lighten(t.palette[e].main,.62),borderColor:lighten(t.palette[e].main,.62),...t.applyStyles("dark",{backgroundColor:darken(t.palette[e].main,.5)}),...t.applyStyles("dark",{borderColor:darken(t.palette[e].main,.5)})}}}))]}))),SliderThumb=styled("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${capitalize(n.color)}`],n.size!=="medium"&&e[`thumbSize${capitalize(n.size)}`]]}})(memoTheme(({theme:t})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${sliderClasses.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${sliderClasses.focusVisible}`]:{...t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${alpha$1(t.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${sliderClasses.active}`]:{...t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${alpha$1(t.palette[e].main,.16)}`}}}}))]}))),SliderValueLabel=styled(SliderValueLabel$1,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(memoTheme(({theme:t})=>({zIndex:1,whiteSpace:"nowrap",...t.typography.body2,fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${sliderClasses.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${sliderClasses.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),SliderMark=styled("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>slotShouldForwardProp(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(memoTheme(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}))),SliderMarkLabel=styled("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>slotShouldForwardProp(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(memoTheme(({theme:t})=>({...t.typography.body2,color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]}))),useUtilityClasses$2=t=>{const{disabled:e,dragging:n,marked:i,orientation:s,track:o,classes:l,color:c,size:f}=t,h={root:["root",e&&"disabled",n&&"dragging",i&&"marked",s==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",c&&`color${capitalize(c)}`,f&&`size${capitalize(f)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",f&&`thumbSize${capitalize(f)}`,c&&`thumbColor${capitalize(c)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return composeClasses(h,getSliderUtilityClass,l)},Forward=({children:t})=>t,Slider=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiSlider"}),s=useRtl(),{"aria-label":o,"aria-valuetext":l,"aria-labelledby":c,component:f="span",components:h={},componentsProps:p={},color:g="primary",classes:y,className:x,disableSwap:S=!1,disabled:w=!1,getAriaLabel:v,getAriaValueText:b,marks:_=!1,max:E=100,min:k=0,name:T,onChange:L,onChangeCommitted:F,orientation:C="horizontal",shiftStep:O=10,size:P="medium",step:G=1,scale:W=Identity,slotProps:J,slots:ne,tabIndex:we,track:me="normal",value:re,valueLabelDisplay:ee="off",valueLabelFormat:be=Identity,...ke}=i,z={...i,isRtl:s,max:E,min:k,classes:y,disabled:w,disableSwap:S,orientation:C,marks:_,color:g,size:P,step:G,shiftStep:O,scale:W,track:me,valueLabelDisplay:ee,valueLabelFormat:be},{axisProps:j,getRootProps:U,getHiddenInputProps:Y,getThumbProps:ce,open:ge,active:he,axis:ye,focusedThumbIndex:Ae,range:ot,dragging:Ie,marks:V,values:K,trackOffset:ae,trackLeap:ue,getThumbStyle:Z}=useSlider({...z,rootRef:n});z.marked=V.length>0&&V.some(I=>I.label),z.dragging=Ie,z.focusedThumbIndex=Ae;const ve=useUtilityClasses$2(z),Pe=(ne==null?void 0:ne.root)??h.Root??SliderRoot,Fe=(ne==null?void 0:ne.rail)??h.Rail??SliderRail,it=(ne==null?void 0:ne.track)??h.Track??SliderTrack,fe=(ne==null?void 0:ne.thumb)??h.Thumb??SliderThumb,xe=(ne==null?void 0:ne.valueLabel)??h.ValueLabel??SliderValueLabel,Se=(ne==null?void 0:ne.mark)??h.Mark??SliderMark,gt=(ne==null?void 0:ne.markLabel)??h.MarkLabel??SliderMarkLabel,qe=(ne==null?void 0:ne.input)??h.Input??"input",dt=(J==null?void 0:J.root)??p.root,yt=(J==null?void 0:J.rail)??p.rail,Nt=(J==null?void 0:J.track)??p.track,nn=(J==null?void 0:J.thumb)??p.thumb,zt=(J==null?void 0:J.valueLabel)??p.valueLabel,mt=(J==null?void 0:J.mark)??p.mark,Ue=(J==null?void 0:J.markLabel)??p.markLabel,Me=(J==null?void 0:J.input)??p.input,Mt=useSlotProps({elementType:Pe,getSlotProps:U,externalSlotProps:dt,externalForwardedProps:ke,additionalProps:{...shouldSpreadAdditionalProps(Pe)&&{as:f}},ownerState:{...z,...dt==null?void 0:dt.ownerState},className:[ve.root,x]}),cn=useSlotProps({elementType:Fe,externalSlotProps:yt,ownerState:z,className:ve.rail}),te=useSlotProps({elementType:it,externalSlotProps:Nt,additionalProps:{style:{...j[ye].offset(ae),...j[ye].leap(ue)}},ownerState:{...z,...Nt==null?void 0:Nt.ownerState},className:ve.track}),vt=useSlotProps({elementType:fe,getSlotProps:ce,externalSlotProps:nn,ownerState:{...z,...nn==null?void 0:nn.ownerState},className:ve.thumb}),It=useSlotProps({elementType:xe,externalSlotProps:zt,ownerState:{...z,...zt==null?void 0:zt.ownerState},className:ve.valueLabel}),Dt=useSlotProps({elementType:Se,externalSlotProps:mt,ownerState:z,className:ve.mark}),Ee=useSlotProps({elementType:gt,externalSlotProps:Ue,ownerState:z,className:ve.markLabel}),Et=useSlotProps({elementType:qe,getSlotProps:Y,externalSlotProps:Me,ownerState:z});return jsxRuntimeExports.jsxs(Pe,{...Mt,children:[jsxRuntimeExports.jsx(Fe,{...cn}),jsxRuntimeExports.jsx(it,{...te}),V.filter(I=>I.value>=k&&I.value<=E).map((I,X)=>{const Ce=valueToPercent(I.value,k,E),N=j[ye].offset(Ce);let Ne;return me===!1?Ne=K.includes(I.value):Ne=me==="normal"&&(ot?I.value>=K[0]&&I.value<=K[K.length-1]:I.value<=K[0])||me==="inverted"&&(ot?I.value<=K[0]||I.value>=K[K.length-1]:I.value>=K[0]),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Se,{"data-index":X,...Dt,...!isHostComponent(Se)&&{markActive:Ne},style:{...N,...Dt.style},className:clsx(Dt.className,Ne&&ve.markActive)}),I.label!=null?jsxRuntimeExports.jsx(gt,{"aria-hidden":!0,"data-index":X,...Ee,...!isHostComponent(gt)&&{markLabelActive:Ne},style:{...N,...Ee.style},className:clsx(ve.markLabel,Ee.className,Ne&&ve.markLabelActive),children:I.label}):null]},X)}),K.map((I,X)=>{const Ce=valueToPercent(I,k,E),N=j[ye].offset(Ce),Ne=ee==="off"?Forward:xe;return jsxRuntimeExports.jsx(Ne,{...!isHostComponent(Ne)&&{valueLabelFormat:be,valueLabelDisplay:ee,value:typeof be=="function"?be(W(I),X):be,index:X,open:ge===X||he===X||ee==="on",disabled:w},...It,children:jsxRuntimeExports.jsx(fe,{"data-index":X,...vt,className:clsx(ve.thumb,vt.className,he===X&&ve.active,Ae===X&&ve.focusVisible),style:{...N,...Z(X),...vt.style},children:jsxRuntimeExports.jsx(qe,{"data-index":X,"aria-label":v?v(X):o,"aria-valuenow":W(I),"aria-labelledby":c,"aria-valuetext":b?b(W(I),X):l,value:K[X],...Et})})},X)})]})});function getToggleButtonUtilityClass(t){return generateUtilityClass("MuiToggleButton",t)}const toggleButtonClasses=generateUtilityClasses("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),ToggleButtonGroupContext=reactExports.createContext({}),ToggleButtonGroupButtonContext=reactExports.createContext(void 0);function isValueSelected(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const useUtilityClasses$1=t=>{const{classes:e,fullWidth:n,selected:i,disabled:s,size:o,color:l}=t,c={root:["root",i&&"selected",s&&"disabled",n&&"fullWidth",`size${capitalize(o)}`,l]};return composeClasses(c,getToggleButtonUtilityClass,e)},ToggleButtonRoot=styled(ButtonBase,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${capitalize(n.size)}`]]}})(memoTheme(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${toggleButtonClasses.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:alpha$1(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${toggleButtonClasses.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:alpha$1(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:alpha$1(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:alpha$1(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(createSimplePaletteValueFilter()).map(([e])=>({props:{color:e},style:{[`&.${toggleButtonClasses.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:alpha$1(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:alpha$1(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:alpha$1(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),ToggleButton=reactExports.forwardRef(function(e,n){const{value:i,...s}=reactExports.useContext(ToggleButtonGroupContext),o=reactExports.useContext(ToggleButtonGroupButtonContext),l=resolveProps({...s,selected:isValueSelected(e.value,i)},e),c=useDefaultProps({props:l,name:"MuiToggleButton"}),{children:f,className:h,color:p="standard",disabled:g=!1,disableFocusRipple:y=!1,fullWidth:x=!1,onChange:S,onClick:w,selected:v,size:b="medium",value:_,...E}=c,k={...c,color:p,disabled:g,disableFocusRipple:y,fullWidth:x,size:b},T=useUtilityClasses$1(k),L=C=>{w&&(w(C,_),C.defaultPrevented)||S&&S(C,_)},F=o||"";return jsxRuntimeExports.jsx(ToggleButtonRoot,{className:clsx(s.className,T.root,h,F),disabled:g,focusRipple:!y,ref:n,onClick:L,onChange:S,value:_,ownerState:k,"aria-pressed":v,...E,children:f})});function getToggleButtonGroupUtilityClass(t){return generateUtilityClass("MuiToggleButtonGroup",t)}const toggleButtonGroupClasses=generateUtilityClasses("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),useUtilityClasses=t=>{const{classes:e,orientation:n,fullWidth:i,disabled:s}=t,o={root:["root",n,i&&"fullWidth"],grouped:["grouped",`grouped${capitalize(n)}`,s&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return composeClasses(o,getToggleButtonGroupUtilityClass,e)},ToggleButtonGroupRoot=styled("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${toggleButtonGroupClasses.grouped}`]:e.grouped},{[`& .${toggleButtonGroupClasses.grouped}`]:e[`grouped${capitalize(n.orientation)}`]},{[`& .${toggleButtonGroupClasses.firstButton}`]:e.firstButton},{[`& .${toggleButtonGroupClasses.lastButton}`]:e.lastButton},{[`& .${toggleButtonGroupClasses.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(memoTheme(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${toggleButtonGroupClasses.grouped}`]:{[`&.${toggleButtonGroupClasses.selected} + .${toggleButtonGroupClasses.grouped}.${toggleButtonGroupClasses.selected}`]:{borderTop:0,marginTop:0}},[`& .${toggleButtonGroupClasses.firstButton},& .${toggleButtonGroupClasses.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${toggleButtonGroupClasses.lastButton},& .${toggleButtonGroupClasses.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${toggleButtonGroupClasses.lastButton}.${toggleButtonClasses.disabled},& .${toggleButtonGroupClasses.middleButton}.${toggleButtonClasses.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${toggleButtonGroupClasses.grouped}`]:{[`&.${toggleButtonGroupClasses.selected} + .${toggleButtonGroupClasses.grouped}.${toggleButtonGroupClasses.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${toggleButtonGroupClasses.firstButton},& .${toggleButtonGroupClasses.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${toggleButtonGroupClasses.lastButton},& .${toggleButtonGroupClasses.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${toggleButtonGroupClasses.lastButton}.${toggleButtonClasses.disabled},& .${toggleButtonGroupClasses.middleButton}.${toggleButtonClasses.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),ToggleButtonGroup=reactExports.forwardRef(function(e,n){const i=useDefaultProps({props:e,name:"MuiToggleButtonGroup"}),{children:s,className:o,color:l="standard",disabled:c=!1,exclusive:f=!1,fullWidth:h=!1,onChange:p,orientation:g="horizontal",size:y="medium",value:x,...S}=i,w={...i,disabled:c,fullWidth:h,orientation:g,size:y},v=useUtilityClasses(w),b=reactExports.useCallback((F,C)=>{if(!p)return;const O=x&&x.indexOf(C);let P;x&&O>=0?(P=x.slice(),P.splice(O,1)):P=x?x.concat(C):[C],p(F,P)},[p,x]),_=reactExports.useCallback((F,C)=>{p&&p(F,x===C?null:C)},[p,x]),E=reactExports.useMemo(()=>({className:v.grouped,onChange:f?_:b,value:x,size:y,fullWidth:h,color:l,disabled:c}),[v.grouped,f,_,b,x,y,h,l,c]),k=getValidReactChildren(s),T=k.length,L=F=>{const C=F===0,O=F===T-1;return C&&O?"":C?v.firstButton:O?v.lastButton:v.middleButton};return jsxRuntimeExports.jsx(ToggleButtonGroupRoot,{role:"group",className:clsx(v.root,o),ref:n,ownerState:w,...S,children:jsxRuntimeExports.jsx(ToggleButtonGroupContext.Provider,{value:E,children:k.map((F,C)=>jsxRuntimeExports.jsx(ToggleButtonGroupButtonContext.Provider,{value:L(C),children:F},C))})})});var dexie_min$1={exports:{}},dexie_min=dexie_min$1.exports,hasRequiredDexie_min;function requireDexie_min(){return hasRequiredDexie_min||(hasRequiredDexie_min=1,function(t,e){(function(n,i){t.exports=i()})(dexie_min,function(){var n=function(A,D){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,H){B.__proto__=H}||function(B,H){for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(B[Q]=H[Q])})(A,D)},i=function(){return(i=Object.assign||function(A){for(var D,B=1,H=arguments.length;B<H;B++)for(var Q in D=arguments[B])Object.prototype.hasOwnProperty.call(D,Q)&&(A[Q]=D[Q]);return A}).apply(this,arguments)};function s(A,D,B){for(var H,Q=0,le=D.length;Q<le;Q++)!H&&Q in D||((H=H||Array.prototype.slice.call(D,0,Q))[Q]=D[Q]);return A.concat(H||Array.prototype.slice.call(D))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,l=Object.keys,c=Array.isArray;function f(A,D){return typeof D!="object"||l(D).forEach(function(B){A[B]=D[B]}),A}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var h=Object.getPrototypeOf,p={}.hasOwnProperty;function g(A,D){return p.call(A,D)}function y(A,D){typeof D=="function"&&(D=D(h(A))),(typeof Reflect>"u"?l:Reflect.ownKeys)(D).forEach(function(B){S(A,B,D[B])})}var x=Object.defineProperty;function S(A,D,B,H){x(A,D,f(B&&g(B,"get")&&typeof B.get=="function"?{get:B.get,set:B.set,configurable:!0}:{value:B,configurable:!0,writable:!0},H))}function w(A){return{from:function(D){return A.prototype=Object.create(D.prototype),S(A.prototype,"constructor",A),{extend:y.bind(null,A.prototype)}}}}var v=Object.getOwnPropertyDescriptor,b=[].slice;function _(A,D,B){return b.call(A,D,B)}function E(A,D){return D(A)}function k(A){if(!A)throw new Error("Assertion Failed")}function T(A){o.setImmediate?setImmediate(A):setTimeout(A,0)}function L(A,D){if(typeof D=="string"&&g(A,D))return A[D];if(!D)return A;if(typeof D!="string"){for(var B=[],H=0,Q=D.length;H<Q;++H){var le=L(A,D[H]);B.push(le)}return B}var _e=D.indexOf(".");if(_e!==-1){var je=A[D.substr(0,_e)];return je==null?void 0:L(je,D.substr(_e+1))}}function F(A,D,B){if(A&&D!==void 0&&!("isFrozen"in Object&&Object.isFrozen(A)))if(typeof D!="string"&&"length"in D){k(typeof B!="string"&&"length"in B);for(var H=0,Q=D.length;H<Q;++H)F(A,D[H],B[H])}else{var le,_e,je=D.indexOf(".");je!==-1?(le=D.substr(0,je),(_e=D.substr(je+1))===""?B===void 0?c(A)&&!isNaN(parseInt(le))?A.splice(le,1):delete A[le]:A[le]=B:F(je=!(je=A[le])||!g(A,le)?A[le]={}:je,_e,B)):B===void 0?c(A)&&!isNaN(parseInt(D))?A.splice(D,1):delete A[D]:A[D]=B}}function C(A){var D,B={};for(D in A)g(A,D)&&(B[D]=A[D]);return B}var O=[].concat;function P(A){return O.apply([],A)}var dt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(P([8,16,32,64].map(function(A){return["Int","Uint","Float"].map(function(D){return D+A+"Array"})}))).filter(function(A){return o[A]}),G=new Set(dt.map(function(A){return o[A]})),W=null;function J(A){return W=new WeakMap,A=function D(B){if(!B||typeof B!="object")return B;var H=W.get(B);if(H)return H;if(c(B)){H=[],W.set(B,H);for(var Q=0,le=B.length;Q<le;++Q)H.push(D(B[Q]))}else if(G.has(B.constructor))H=B;else{var _e,je=h(B);for(_e in H=je===Object.prototype?{}:Object.create(je),W.set(B,H),B)g(B,_e)&&(H[_e]=D(B[_e]))}return H}(A),W=null,A}var ne={}.toString;function we(A){return ne.call(A).slice(8,-1)}var me=typeof Symbol<"u"?Symbol.iterator:"@@iterator",re=typeof me=="symbol"?function(A){var D;return A!=null&&(D=A[me])&&D.apply(A)}:function(){return null};function ee(A,D){return D=A.indexOf(D),0<=D&&A.splice(D,1),0<=D}var be={};function ke(A){var D,B,H,Q;if(arguments.length===1){if(c(A))return A.slice();if(this===be&&typeof A=="string")return[A];if(Q=re(A)){for(B=[];!(H=Q.next()).done;)B.push(H.value);return B}if(A==null)return[A];if(typeof(D=A.length)!="number")return[A];for(B=new Array(D);D--;)B[D]=A[D];return B}for(D=arguments.length,B=new Array(D);D--;)B[D]=arguments[D];return B}var z=typeof Symbol<"u"?function(A){return A[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},qe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],bi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(qe),j={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function U(A,D){this.name=A,this.message=D}function Y(A,D){return A+". Errors: "+Object.keys(D).map(function(B){return D[B].toString()}).filter(function(B,H,Q){return Q.indexOf(B)===H}).join(`
`)}function ce(A,D,B,H){this.failures=D,this.failedKeys=H,this.successCount=B,this.message=Y(A,D)}function ge(A,D){this.name="BulkError",this.failures=Object.keys(D).map(function(B){return D[B]}),this.failuresByPos=D,this.message=Y(A,this.failures)}w(U).from(Error).extend({toString:function(){return this.name+": "+this.message}}),w(ce).from(U),w(ge).from(U);var he=bi.reduce(function(A,D){return A[D]=D+"Error",A},{}),ye=U,Ae=bi.reduce(function(A,D){var B=D+"Error";function H(Q,le){this.name=B,Q?typeof Q=="string"?(this.message="".concat(Q).concat(le?`
 `+le:""),this.inner=le||null):typeof Q=="object"&&(this.message="".concat(Q.name," ").concat(Q.message),this.inner=Q):(this.message=j[D]||B,this.inner=null)}return w(H).from(ye),A[D]=H,A},{});Ae.Syntax=SyntaxError,Ae.Type=TypeError,Ae.Range=RangeError;var ot=qe.reduce(function(A,D){return A[D+"Error"]=Ae[D],A},{}),Ie=bi.reduce(function(A,D){return["Syntax","Type","Range"].indexOf(D)===-1&&(A[D+"Error"]=Ae[D]),A},{});function V(){}function K(A){return A}function ae(A,D){return A==null||A===K?D:function(B){return D(A(B))}}function ue(A,D){return function(){A.apply(this,arguments),D.apply(this,arguments)}}function Z(A,D){return A===V?D:function(){var B=A.apply(this,arguments);B!==void 0&&(arguments[0]=B);var H=this.onsuccess,Q=this.onerror;this.onsuccess=null,this.onerror=null;var le=D.apply(this,arguments);return H&&(this.onsuccess=this.onsuccess?ue(H,this.onsuccess):H),Q&&(this.onerror=this.onerror?ue(Q,this.onerror):Q),le!==void 0?le:B}}function ve(A,D){return A===V?D:function(){A.apply(this,arguments);var B=this.onsuccess,H=this.onerror;this.onsuccess=this.onerror=null,D.apply(this,arguments),B&&(this.onsuccess=this.onsuccess?ue(B,this.onsuccess):B),H&&(this.onerror=this.onerror?ue(H,this.onerror):H)}}function Pe(A,D){return A===V?D:function(B){var H=A.apply(this,arguments);f(B,H);var Q=this.onsuccess,le=this.onerror;return this.onsuccess=null,this.onerror=null,B=D.apply(this,arguments),Q&&(this.onsuccess=this.onsuccess?ue(Q,this.onsuccess):Q),le&&(this.onerror=this.onerror?ue(le,this.onerror):le),H===void 0?B===void 0?void 0:B:f(H,B)}}function Fe(A,D){return A===V?D:function(){return D.apply(this,arguments)!==!1&&A.apply(this,arguments)}}function it(A,D){return A===V?D:function(){var B=A.apply(this,arguments);if(B&&typeof B.then=="function"){for(var H=this,Q=arguments.length,le=new Array(Q);Q--;)le[Q]=arguments[Q];return B.then(function(){return D.apply(H,le)})}return D.apply(this,arguments)}}Ie.ModifyError=ce,Ie.DexieError=U,Ie.BulkError=ge;var fe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xe(A){fe=A}var Se={},gt=100,dt=typeof Promise>"u"?[]:function(){var A=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[A,h(A),A];var D=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[D,h(D),A]}(),qe=dt[0],bi=dt[1],dt=dt[2],bi=bi&&bi.then,yt=qe&&qe.constructor,Nt=!!dt,nn=function(A,D){vt.push([A,D]),mt&&(queueMicrotask(Je),mt=!1)},zt=!0,mt=!0,Ue=[],Me=[],Mt=K,cn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:V,pgp:!1,env:{},finalize:V},te=cn,vt=[],It=0,Dt=[];function Ee(A){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var D=this._PSD=te;if(typeof A!="function"){if(A!==Se)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&X(this,this._value))}this._state=null,this._value=null,++D.ref,function B(H,Q){try{Q(function(le){if(H._state===null){if(le===H)throw new TypeError("A promise cannot be resolved with itself.");var _e=H._lib&&se();le&&typeof le.then=="function"?B(H,function(je,Ze){le instanceof Ee?le._then(je,Ze):le.then(je,Ze)}):(H._state=!0,H._value=le,Ce(H)),_e&&Be()}},X.bind(null,H))}catch(le){X(H,le)}}(this,A)}var Et={get:function(){var A=te,D=Mn;function B(H,Q){var le=this,_e=!A.global&&(A!==te||D!==Mn),je=_e&&!dr(),Ze=new Ee(function(nt,ct){N(le,new I(Xr(H,A,_e,je),Xr(Q,A,_e,je),nt,ct,A))});return this._consoleTask&&(Ze._consoleTask=this._consoleTask),Ze}return B.prototype=Se,B},set:function(A){S(this,"then",A&&A.prototype===Se?Et:{get:function(){return A},set:Et.set})}};function I(A,D,B,H,Q){this.onFulfilled=typeof A=="function"?A:null,this.onRejected=typeof D=="function"?D:null,this.resolve=B,this.reject=H,this.psd=Q}function X(A,D){var B,H;Me.push(D),A._state===null&&(B=A._lib&&se(),D=Mt(D),A._state=!1,A._value=D,H=A,Ue.some(function(Q){return Q._value===H._value})||Ue.push(H),Ce(A),B&&Be())}function Ce(A){var D=A._listeners;A._listeners=[];for(var B=0,H=D.length;B<H;++B)N(A,D[B]);var Q=A._PSD;--Q.ref||Q.finalize(),It===0&&(++It,nn(function(){--It==0&&ft()},[]))}function N(A,D){if(A._state!==null){var B=A._state?D.onFulfilled:D.onRejected;if(B===null)return(A._state?D.resolve:D.reject)(A._value);++D.psd.ref,++It,nn(Ne,[B,A,D])}else A._listeners.push(D)}function Ne(A,D,B){try{var H,Q=D._value;!D._state&&Me.length&&(Me=[]),H=fe&&D._consoleTask?D._consoleTask.run(function(){return A(Q)}):A(Q),D._state||Me.indexOf(Q)!==-1||function(le){for(var _e=Ue.length;_e;)if(Ue[--_e]._value===le._value)return Ue.splice(_e,1)}(D),B.resolve(H)}catch(le){B.reject(le)}finally{--It==0&&ft(),--B.psd.ref||B.psd.finalize()}}function Je(){Fr(cn,function(){se()&&Be()})}function se(){var A=zt;return mt=zt=!1,A}function Be(){var A,D,B;do for(;0<vt.length;)for(A=vt,vt=[],B=A.length,D=0;D<B;++D){var H=A[D];H[0].apply(null,H[1])}while(0<vt.length);mt=zt=!0}function ft(){var A=Ue;Ue=[],A.forEach(function(H){H._PSD.onunhandled.call(null,H._value,H)});for(var D=Dt.slice(0),B=D.length;B;)D[--B]()}function Zt(A){return new Ee(Se,!1,A)}function Lt(A,D){var B=te;return function(){var H=se(),Q=te;try{return Rr(B,!0),A.apply(this,arguments)}catch(le){D&&D(le)}finally{Rr(Q,!1),H&&Be()}}}y(Ee.prototype,{then:Et,_then:function(A,D){N(this,new I(null,null,A,D,te))},catch:function(A){if(arguments.length===1)return this.then(null,A);var D=A,B=arguments[1];return typeof D=="function"?this.then(null,function(H){return(H instanceof D?B:Zt)(H)}):this.then(null,function(H){return(H&&H.name===D?B:Zt)(H)})},finally:function(A){return this.then(function(D){return Ee.resolve(A()).then(function(){return D})},function(D){return Ee.resolve(A()).then(function(){return Zt(D)})})},timeout:function(A,D){var B=this;return A<1/0?new Ee(function(H,Q){var le=setTimeout(function(){return Q(new Ae.Timeout(D))},A);B.then(H,Q).finally(clearTimeout.bind(null,le))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&S(Ee.prototype,Symbol.toStringTag,"Dexie.Promise"),cn.env=kr(),y(Ee,{all:function(){var A=ke.apply(null,arguments).map(Qr);return new Ee(function(D,B){A.length===0&&D([]);var H=A.length;A.forEach(function(Q,le){return Ee.resolve(Q).then(function(_e){A[le]=_e,--H||D(A)},B)})})},resolve:function(A){return A instanceof Ee?A:A&&typeof A.then=="function"?new Ee(function(D,B){A.then(D,B)}):new Ee(Se,!0,A)},reject:Zt,race:function(){var A=ke.apply(null,arguments).map(Qr);return new Ee(function(D,B){A.map(function(H){return Ee.resolve(H).then(D,B)})})},PSD:{get:function(){return te},set:function(A){return te=A}},totalEchoes:{get:function(){return Mn}},newPSD:Wn,usePSD:Fr,scheduler:{get:function(){return nn},set:function(A){nn=A}},rejectionMapper:{get:function(){return Mt},set:function(A){Mt=A}},follow:function(A,D){return new Ee(function(B,H){return Wn(function(Q,le){var _e=te;_e.unhandleds=[],_e.onunhandled=le,_e.finalize=ue(function(){var je,Ze=this;je=function(){Ze.unhandleds.length===0?Q():le(Ze.unhandleds[0])},Dt.push(function nt(){je(),Dt.splice(Dt.indexOf(nt),1)}),++It,nn(function(){--It==0&&ft()},[])},_e.finalize),A()},D,B,H)})}}),yt&&(yt.allSettled&&S(Ee,"allSettled",function(){var A=ke.apply(null,arguments).map(Qr);return new Ee(function(D){A.length===0&&D([]);var B=A.length,H=new Array(B);A.forEach(function(Q,le){return Ee.resolve(Q).then(function(_e){return H[le]={status:"fulfilled",value:_e}},function(_e){return H[le]={status:"rejected",reason:_e}}).then(function(){return--B||D(H)})})})}),yt.any&&typeof AggregateError<"u"&&S(Ee,"any",function(){var A=ke.apply(null,arguments).map(Qr);return new Ee(function(D,B){A.length===0&&B(new AggregateError([]));var H=A.length,Q=new Array(H);A.forEach(function(le,_e){return Ee.resolve(le).then(function(je){return D(je)},function(je){Q[_e]=je,--H||B(new AggregateError(Q))})})})}),yt.withResolvers&&(Ee.withResolvers=yt.withResolvers));var Vt={awaits:0,echoes:0,id:0},In=0,vr=[],Kn=0,Mn=0,ur=0;function Wn(A,D,B,H){var Q=te,le=Object.create(Q);return le.parent=Q,le.ref=0,le.global=!1,le.id=++ur,cn.env,le.env=Nt?{Promise:Ee,PromiseProp:{value:Ee,configurable:!0,writable:!0},all:Ee.all,race:Ee.race,allSettled:Ee.allSettled,any:Ee.any,resolve:Ee.resolve,reject:Ee.reject}:{},D&&f(le,D),++Q.ref,le.finalize=function(){--this.parent.ref||this.parent.finalize()},H=Fr(le,A,B,H),le.ref===0&&le.finalize(),H}function br(){return Vt.id||(Vt.id=++In),++Vt.awaits,Vt.echoes+=gt,Vt.id}function dr(){return!!Vt.awaits&&(--Vt.awaits==0&&(Vt.id=0),Vt.echoes=Vt.awaits*gt,!0)}function Qr(A){return Vt.echoes&&A&&A.constructor===yt?(br(),A.then(function(D){return dr(),D},function(D){return dr(),Pr(D)})):A}function Sr(){var A=vr[vr.length-1];vr.pop(),Rr(A,!1)}function Rr(A,D){var B,H=te;(D?!Vt.echoes||Kn++&&A===te:!Kn||--Kn&&A===te)||queueMicrotask(D?(function(Q){++Mn,Vt.echoes&&--Vt.echoes!=0||(Vt.echoes=Vt.awaits=Vt.id=0),vr.push(te),Rr(Q,!0)}).bind(null,A):Sr),A!==te&&(te=A,H===cn&&(cn.env=kr()),Nt&&(B=cn.env.Promise,D=A.env,(H.global||A.global)&&(Object.defineProperty(o,"Promise",D.PromiseProp),B.all=D.all,B.race=D.race,B.resolve=D.resolve,B.reject=D.reject,D.allSettled&&(B.allSettled=D.allSettled),D.any&&(B.any=D.any))))}function kr(){var A=o.Promise;return Nt?{Promise:A,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:A.all,race:A.race,allSettled:A.allSettled,any:A.any,resolve:A.resolve,reject:A.reject}:{}}function Fr(A,D,B,H,Q){var le=te;try{return Rr(A,!0),D(B,H,Q)}finally{Rr(le,!1)}}function Xr(A,D,B,H){return typeof A!="function"?A:function(){var Q=te;B&&br(),Rr(D,!0);try{return A.apply(this,arguments)}finally{Rr(Q,!1),H&&queueMicrotask(dr)}}}function zi(A){Promise===yt&&Vt.echoes===0?Kn===0?A():enqueueNativeMicroTask(A):setTimeout(A,0)}(""+bi).indexOf("[native code]")===-1&&(br=dr=V);var Pr=Ee.reject,Pi="",nr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Gi="String expected.",Jr=[],ss="__dbnames",Ci="readonly",os="readwrite";function Di(A,D){return A?D?function(){return A.apply(this,arguments)&&D.apply(this,arguments)}:A:D}var as={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Br(A){return typeof A!="string"||/\./.test(A)?function(D){return D}:function(D){return D[A]===void 0&&A in D&&delete(D=J(D))[A],D}}function xs(){throw Ae.Type()}function jn(A,D){try{var B=pe(A),H=pe(D);if(B!==H)return B==="Array"?1:H==="Array"?-1:B==="binary"?1:H==="binary"?-1:B==="string"?1:H==="string"?-1:B==="Date"?1:H!=="Date"?NaN:-1;switch(B){case"number":case"Date":case"string":return D<A?1:A<D?-1:0;case"binary":return function(Q,le){for(var _e=Q.length,je=le.length,Ze=_e<je?_e:je,nt=0;nt<Ze;++nt)if(Q[nt]!==le[nt])return Q[nt]<le[nt]?-1:1;return _e===je?0:_e<je?-1:1}(We(A),We(D));case"Array":return function(Q,le){for(var _e=Q.length,je=le.length,Ze=_e<je?_e:je,nt=0;nt<Ze;++nt){var ct=jn(Q[nt],le[nt]);if(ct!==0)return ct}return _e===je?0:_e<je?-1:1}(A,D)}}catch{}return NaN}function pe(A){var D=typeof A;return D!="object"?D:ArrayBuffer.isView(A)?"binary":(A=we(A),A==="ArrayBuffer"?"binary":A)}function We(A){return A instanceof Uint8Array?A:ArrayBuffer.isView(A)?new Uint8Array(A.buffer,A.byteOffset,A.byteLength):new Uint8Array(A)}var Te=(He.prototype._trans=function(A,D,B){var H=this._tx||te.trans,Q=this.name,le=fe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(A==="readonly"?"read":"write"," ").concat(this.name));function _e(nt,ct,ze){if(!ze.schema[Q])throw new Ae.NotFound("Table "+Q+" not part of transaction");return D(ze.idbtrans,ze)}var je=se();try{var Ze=H&&H.db._novip===this.db._novip?H===te.trans?H._promise(A,_e,B):Wn(function(){return H._promise(A,_e,B)},{trans:H,transless:te.transless||te}):function nt(ct,ze,ht,Xe){if(ct.idbdb&&(ct._state.openComplete||te.letThrough||ct._vip)){var lt=ct._createTransaction(ze,ht,ct._dbSchema);try{lt.create(),ct._state.PR1398_maxLoop=3}catch(pt){return pt.name===he.InvalidState&&ct.isOpen()&&0<--ct._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ct.close({disableAutoOpen:!1}),ct.open().then(function(){return nt(ct,ze,ht,Xe)})):Pr(pt)}return lt._promise(ze,function(pt,rt){return Wn(function(){return te.trans=lt,Xe(pt,rt,lt)})}).then(function(pt){if(ze==="readwrite")try{lt.idbtrans.commit()}catch{}return ze==="readonly"?pt:lt._completion.then(function(){return pt})})}if(ct._state.openComplete)return Pr(new Ae.DatabaseClosed(ct._state.dbOpenError));if(!ct._state.isBeingOpened){if(!ct._state.autoOpen)return Pr(new Ae.DatabaseClosed);ct.open().catch(V)}return ct._state.dbReadyPromise.then(function(){return nt(ct,ze,ht,Xe)})}(this.db,A,[this.name],_e);return le&&(Ze._consoleTask=le,Ze=Ze.catch(function(nt){return console.trace(nt),Pr(nt)})),Ze}finally{je&&Be()}},He.prototype.get=function(A,D){var B=this;return A&&A.constructor===Object?this.where(A).first(D):A==null?Pr(new Ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(H){return B.core.get({trans:H,key:A}).then(function(Q){return B.hook.reading.fire(Q)})}).then(D)},He.prototype.where=function(A){if(typeof A=="string")return new this.db.WhereClause(this,A);if(c(A))return new this.db.WhereClause(this,"[".concat(A.join("+"),"]"));var D=l(A);if(D.length===1)return this.where(D[0]).equals(A[D[0]]);var B=this.schema.indexes.concat(this.schema.primKey).filter(function(je){if(je.compound&&D.every(function(nt){return 0<=je.keyPath.indexOf(nt)})){for(var Ze=0;Ze<D.length;++Ze)if(D.indexOf(je.keyPath[Ze])===-1)return!1;return!0}return!1}).sort(function(je,Ze){return je.keyPath.length-Ze.keyPath.length})[0];if(B&&this.db._maxKey!==Pi){var le=B.keyPath.slice(0,D.length);return this.where(le).equals(le.map(function(Ze){return A[Ze]}))}!B&&fe&&console.warn("The query ".concat(JSON.stringify(A)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(D.join("+"),"]"));var H=this.schema.idxByName;function Q(je,Ze){return jn(je,Ze)===0}var _e=D.reduce(function(ze,Ze){var nt=ze[0],ct=ze[1],ze=H[Ze],ht=A[Ze];return[nt||ze,nt||!ze?Di(ct,ze&&ze.multi?function(Xe){return Xe=L(Xe,Ze),c(Xe)&&Xe.some(function(lt){return Q(ht,lt)})}:function(Xe){return Q(ht,L(Xe,Ze))}):ct]},[null,null]),le=_e[0],_e=_e[1];return le?this.where(le.name).equals(A[le.keyPath]).filter(_e):B?this.filter(_e):this.where(D).equals("")},He.prototype.filter=function(A){return this.toCollection().and(A)},He.prototype.count=function(A){return this.toCollection().count(A)},He.prototype.offset=function(A){return this.toCollection().offset(A)},He.prototype.limit=function(A){return this.toCollection().limit(A)},He.prototype.each=function(A){return this.toCollection().each(A)},He.prototype.toArray=function(A){return this.toCollection().toArray(A)},He.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},He.prototype.orderBy=function(A){return new this.db.Collection(new this.db.WhereClause(this,c(A)?"[".concat(A.join("+"),"]"):A))},He.prototype.reverse=function(){return this.toCollection().reverse()},He.prototype.mapToClass=function(A){var D,B=this.db,H=this.name;function Q(){return D!==null&&D.apply(this,arguments)||this}(this.schema.mappedClass=A).prototype instanceof xs&&(function(Ze,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Class extends value "+String(nt)+" is not a constructor or null");function ct(){this.constructor=Ze}n(Ze,nt),Ze.prototype=nt===null?Object.create(nt):(ct.prototype=nt.prototype,new ct)}(Q,D=A),Object.defineProperty(Q.prototype,"db",{get:function(){return B},enumerable:!1,configurable:!0}),Q.prototype.table=function(){return H},A=Q);for(var le=new Set,_e=A.prototype;_e;_e=h(_e))Object.getOwnPropertyNames(_e).forEach(function(Ze){return le.add(Ze)});function je(Ze){if(!Ze)return Ze;var nt,ct=Object.create(A.prototype);for(nt in Ze)if(!le.has(nt))try{ct[nt]=Ze[nt]}catch{}return ct}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=je,this.hook("reading",je),A},He.prototype.defineClass=function(){return this.mapToClass(function(A){f(this,A)})},He.prototype.add=function(A,D){var B=this,H=this.schema.primKey,Q=H.auto,le=H.keyPath,_e=A;return le&&Q&&(_e=Br(le)(A)),this._trans("readwrite",function(je){return B.core.mutate({trans:je,type:"add",keys:D!=null?[D]:null,values:[_e]})}).then(function(je){return je.numFailures?Ee.reject(je.failures[0]):je.lastResult}).then(function(je){if(le)try{F(A,le,je)}catch{}return je})},He.prototype.update=function(A,D){return typeof A!="object"||c(A)?this.where(":id").equals(A).modify(D):(A=L(A,this.schema.primKey.keyPath),A===void 0?Pr(new Ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(A).modify(D))},He.prototype.put=function(A,D){var B=this,H=this.schema.primKey,Q=H.auto,le=H.keyPath,_e=A;return le&&Q&&(_e=Br(le)(A)),this._trans("readwrite",function(je){return B.core.mutate({trans:je,type:"put",values:[_e],keys:D!=null?[D]:null})}).then(function(je){return je.numFailures?Ee.reject(je.failures[0]):je.lastResult}).then(function(je){if(le)try{F(A,le,je)}catch{}return je})},He.prototype.delete=function(A){var D=this;return this._trans("readwrite",function(B){return D.core.mutate({trans:B,type:"delete",keys:[A]})}).then(function(B){return B.numFailures?Ee.reject(B.failures[0]):void 0})},He.prototype.clear=function(){var A=this;return this._trans("readwrite",function(D){return A.core.mutate({trans:D,type:"deleteRange",range:as})}).then(function(D){return D.numFailures?Ee.reject(D.failures[0]):void 0})},He.prototype.bulkGet=function(A){var D=this;return this._trans("readonly",function(B){return D.core.getMany({keys:A,trans:B}).then(function(H){return H.map(function(Q){return D.hook.reading.fire(Q)})})})},He.prototype.bulkAdd=function(A,D,B){var H=this,Q=Array.isArray(D)?D:void 0,le=(B=B||(Q?void 0:D))?B.allKeys:void 0;return this._trans("readwrite",function(_e){var nt=H.schema.primKey,je=nt.auto,nt=nt.keyPath;if(nt&&Q)throw new Ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(Q&&Q.length!==A.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var Ze=A.length,nt=nt&&je?A.map(Br(nt)):A;return H.core.mutate({trans:_e,type:"add",keys:Q,values:nt,wantResults:le}).then(function(lt){var ze=lt.numFailures,ht=lt.results,Xe=lt.lastResult,lt=lt.failures;if(ze===0)return le?ht:Xe;throw new ge("".concat(H.name,".bulkAdd(): ").concat(ze," of ").concat(Ze," operations failed"),lt)})})},He.prototype.bulkPut=function(A,D,B){var H=this,Q=Array.isArray(D)?D:void 0,le=(B=B||(Q?void 0:D))?B.allKeys:void 0;return this._trans("readwrite",function(_e){var nt=H.schema.primKey,je=nt.auto,nt=nt.keyPath;if(nt&&Q)throw new Ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(Q&&Q.length!==A.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var Ze=A.length,nt=nt&&je?A.map(Br(nt)):A;return H.core.mutate({trans:_e,type:"put",keys:Q,values:nt,wantResults:le}).then(function(lt){var ze=lt.numFailures,ht=lt.results,Xe=lt.lastResult,lt=lt.failures;if(ze===0)return le?ht:Xe;throw new ge("".concat(H.name,".bulkPut(): ").concat(ze," of ").concat(Ze," operations failed"),lt)})})},He.prototype.bulkUpdate=function(A){var D=this,B=this.core,H=A.map(function(_e){return _e.key}),Q=A.map(function(_e){return _e.changes}),le=[];return this._trans("readwrite",function(_e){return B.getMany({trans:_e,keys:H,cache:"clone"}).then(function(je){var Ze=[],nt=[];A.forEach(function(ze,ht){var Xe=ze.key,lt=ze.changes,pt=je[ht];if(pt){for(var rt=0,xt=Object.keys(lt);rt<xt.length;rt++){var St=xt[rt],_t=lt[St];if(St===D.schema.primKey.keyPath){if(jn(_t,Xe)!==0)throw new Ae.Constraint("Cannot update primary key in bulkUpdate()")}else F(pt,St,_t)}le.push(ht),Ze.push(Xe),nt.push(pt)}});var ct=Ze.length;return B.mutate({trans:_e,type:"put",keys:Ze,values:nt,updates:{keys:H,changeSpecs:Q}}).then(function(ze){var ht=ze.numFailures,Xe=ze.failures;if(ht===0)return ct;for(var lt=0,pt=Object.keys(Xe);lt<pt.length;lt++){var rt,xt=pt[lt],St=le[Number(xt)];St!=null&&(rt=Xe[xt],delete Xe[xt],Xe[St]=rt)}throw new ge("".concat(D.name,".bulkUpdate(): ").concat(ht," of ").concat(ct," operations failed"),Xe)})})})},He.prototype.bulkDelete=function(A){var D=this,B=A.length;return this._trans("readwrite",function(H){return D.core.mutate({trans:H,type:"delete",keys:A})}).then(function(_e){var Q=_e.numFailures,le=_e.lastResult,_e=_e.failures;if(Q===0)return le;throw new ge("".concat(D.name,".bulkDelete(): ").concat(Q," of ").concat(B," operations failed"),_e)})},He);function He(){}function ut(A){function D(_e,je){if(je){for(var Ze=arguments.length,nt=new Array(Ze-1);--Ze;)nt[Ze-1]=arguments[Ze];return B[_e].subscribe.apply(null,nt),A}if(typeof _e=="string")return B[_e]}var B={};D.addEventType=le;for(var H=1,Q=arguments.length;H<Q;++H)le(arguments[H]);return D;function le(_e,je,Ze){if(typeof _e!="object"){var nt;je=je||Fe;var ct={subscribers:[],fire:Ze=Ze||V,subscribe:function(ze){ct.subscribers.indexOf(ze)===-1&&(ct.subscribers.push(ze),ct.fire=je(ct.fire,ze))},unsubscribe:function(ze){ct.subscribers=ct.subscribers.filter(function(ht){return ht!==ze}),ct.fire=ct.subscribers.reduce(je,Ze)}};return B[_e]=D[_e]=ct}l(nt=_e).forEach(function(ze){var ht=nt[ze];if(c(ht))le(ze,nt[ze][0],nt[ze][1]);else{if(ht!=="asap")throw new Ae.InvalidArgument("Invalid event config");var Xe=le(ze,K,function(){for(var lt=arguments.length,pt=new Array(lt);lt--;)pt[lt]=arguments[lt];Xe.subscribers.forEach(function(rt){T(function(){rt.apply(null,pt)})})})}})}}function Ye(A,D){return w(D).from({prototype:A}),D}function Pt(A,D){return!(A.filter||A.algorithm||A.or)&&(D?A.justLimit:!A.replayFilter)}function Ut(A,D){A.filter=Di(A.filter,D)}function Kt(A,D,B){var H=A.replayFilter;A.replayFilter=H?function(){return Di(H(),D())}:D,A.justLimit=B&&!H}function Wt(A,D){if(A.isPrimKey)return D.primaryKey;var B=D.getIndexByKeyPath(A.index);if(!B)throw new Ae.Schema("KeyPath "+A.index+" on object store "+D.name+" is not indexed");return B}function tn(A,D,B){var H=Wt(A,D.schema);return D.openCursor({trans:B,values:!A.keysOnly,reverse:A.dir==="prev",unique:!!A.unique,query:{index:H,range:A.range}})}function gn(A,D,B,H){var Q=A.replayFilter?Di(A.filter,A.replayFilter()):A.filter;if(A.or){var le={},_e=function(je,Ze,nt){var ct,ze;Q&&!Q(Ze,nt,function(ht){return Ze.stop(ht)},function(ht){return Ze.fail(ht)})||((ze=""+(ct=Ze.primaryKey))=="[object ArrayBuffer]"&&(ze=""+new Uint8Array(ct)),g(le,ze)||(le[ze]=!0,D(je,Ze,nt)))};return Promise.all([A.or._iterate(_e,B),Vn(tn(A,H,B),A.algorithm,_e,!A.keysOnly&&A.valueMapper)])}return Vn(tn(A,H,B),Di(A.algorithm,Q),D,!A.keysOnly&&A.valueMapper)}function Vn(A,D,B,H){var Q=Lt(H?function(le,_e,je){return B(H(le),_e,je)}:B);return A.then(function(le){if(le)return le.start(function(){var _e=function(){return le.continue()};D&&!D(le,function(je){return _e=je},function(je){le.stop(je),_e=V},function(je){le.fail(je),_e=V})||Q(le.value,le,function(je){return _e=je}),_e()})})}var tr=(rr.prototype.execute=function(A){var D=this["@@propmod"];if(D.add!==void 0){var B=D.add;if(c(B))return s(s([],c(A)?A:[],!0),B).sort();if(typeof B=="number")return(Number(A)||0)+B;if(typeof B=="bigint")try{return BigInt(A)+B}catch{return BigInt(0)+B}throw new TypeError("Invalid term ".concat(B))}if(D.remove!==void 0){var H=D.remove;if(c(H))return c(A)?A.filter(function(Q){return!H.includes(Q)}).sort():[];if(typeof H=="number")return Number(A)-H;if(typeof H=="bigint")try{return BigInt(A)-H}catch{return BigInt(0)-H}throw new TypeError("Invalid subtrahend ".concat(H))}return B=(B=D.replacePrefix)===null||B===void 0?void 0:B[0],B&&typeof A=="string"&&A.startsWith(B)?D.replacePrefix[1]+A.substring(B.length):A},rr);function rr(A){this["@@propmod"]=A}var Nn=(Dn.prototype._read=function(A,D){var B=this._ctx;return B.error?B.table._trans(null,Pr.bind(null,B.error)):B.table._trans("readonly",A).then(D)},Dn.prototype._write=function(A){var D=this._ctx;return D.error?D.table._trans(null,Pr.bind(null,D.error)):D.table._trans("readwrite",A,"locked")},Dn.prototype._addAlgorithm=function(A){var D=this._ctx;D.algorithm=Di(D.algorithm,A)},Dn.prototype._iterate=function(A,D){return gn(this._ctx,A,D,this._ctx.table.core)},Dn.prototype.clone=function(A){var D=Object.create(this.constructor.prototype),B=Object.create(this._ctx);return A&&f(B,A),D._ctx=B,D},Dn.prototype.raw=function(){return this._ctx.valueMapper=null,this},Dn.prototype.each=function(A){var D=this._ctx;return this._read(function(B){return gn(D,A,B,D.table.core)})},Dn.prototype.count=function(A){var D=this;return this._read(function(B){var H=D._ctx,Q=H.table.core;if(Pt(H,!0))return Q.count({trans:B,query:{index:Wt(H,Q.schema),range:H.range}}).then(function(_e){return Math.min(_e,H.limit)});var le=0;return gn(H,function(){return++le,!1},B,Q).then(function(){return le})}).then(A)},Dn.prototype.sortBy=function(A,D){var B=A.split(".").reverse(),H=B[0],Q=B.length-1;function le(Ze,nt){return nt?le(Ze[B[nt]],nt-1):Ze[H]}var _e=this._ctx.dir==="next"?1:-1;function je(Ze,nt){return jn(le(Ze,Q),le(nt,Q))*_e}return this.toArray(function(Ze){return Ze.sort(je)}).then(D)},Dn.prototype.toArray=function(A){var D=this;return this._read(function(B){var H=D._ctx;if(H.dir==="next"&&Pt(H,!0)&&0<H.limit){var Q=H.valueMapper,le=Wt(H,H.table.core.schema);return H.table.core.query({trans:B,limit:H.limit,values:!0,query:{index:le,range:H.range}}).then(function(je){return je=je.result,Q?je.map(Q):je})}var _e=[];return gn(H,function(je){return _e.push(je)},B,H.table.core).then(function(){return _e})},A)},Dn.prototype.offset=function(A){var D=this._ctx;return A<=0||(D.offset+=A,Pt(D)?Kt(D,function(){var B=A;return function(H,Q){return B===0||(B===1?--B:Q(function(){H.advance(B),B=0}),!1)}}):Kt(D,function(){var B=A;return function(){return--B<0}})),this},Dn.prototype.limit=function(A){return this._ctx.limit=Math.min(this._ctx.limit,A),Kt(this._ctx,function(){var D=A;return function(B,H,Q){return--D<=0&&H(Q),0<=D}},!0),this},Dn.prototype.until=function(A,D){return Ut(this._ctx,function(B,H,Q){return!A(B.value)||(H(Q),D)}),this},Dn.prototype.first=function(A){return this.limit(1).toArray(function(D){return D[0]}).then(A)},Dn.prototype.last=function(A){return this.reverse().first(A)},Dn.prototype.filter=function(A){var D;return Ut(this._ctx,function(B){return A(B.value)}),(D=this._ctx).isMatch=Di(D.isMatch,A),this},Dn.prototype.and=function(A){return this.filter(A)},Dn.prototype.or=function(A){return new this.db.WhereClause(this._ctx.table,A,this)},Dn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Dn.prototype.desc=function(){return this.reverse()},Dn.prototype.eachKey=function(A){var D=this._ctx;return D.keysOnly=!D.isMatch,this.each(function(B,H){A(H.key,H)})},Dn.prototype.eachUniqueKey=function(A){return this._ctx.unique="unique",this.eachKey(A)},Dn.prototype.eachPrimaryKey=function(A){var D=this._ctx;return D.keysOnly=!D.isMatch,this.each(function(B,H){A(H.primaryKey,H)})},Dn.prototype.keys=function(A){var D=this._ctx;D.keysOnly=!D.isMatch;var B=[];return this.each(function(H,Q){B.push(Q.key)}).then(function(){return B}).then(A)},Dn.prototype.primaryKeys=function(A){var D=this._ctx;if(D.dir==="next"&&Pt(D,!0)&&0<D.limit)return this._read(function(H){var Q=Wt(D,D.table.core.schema);return D.table.core.query({trans:H,values:!1,limit:D.limit,query:{index:Q,range:D.range}})}).then(function(H){return H.result}).then(A);D.keysOnly=!D.isMatch;var B=[];return this.each(function(H,Q){B.push(Q.primaryKey)}).then(function(){return B}).then(A)},Dn.prototype.uniqueKeys=function(A){return this._ctx.unique="unique",this.keys(A)},Dn.prototype.firstKey=function(A){return this.limit(1).keys(function(D){return D[0]}).then(A)},Dn.prototype.lastKey=function(A){return this.reverse().firstKey(A)},Dn.prototype.distinct=function(){var A=this._ctx,A=A.index&&A.table.schema.idxByName[A.index];if(!A||!A.multi)return this;var D={};return Ut(this._ctx,function(Q){var H=Q.primaryKey.toString(),Q=g(D,H);return D[H]=!0,!Q}),this},Dn.prototype.modify=function(A){var D=this,B=this._ctx;return this._write(function(H){var Q,le,_e;_e=typeof A=="function"?A:(Q=l(A),le=Q.length,function(rt){for(var xt=!1,St=0;St<le;++St){var _t=Q[St],Ot=A[_t],Xt=L(rt,_t);Ot instanceof tr?(F(rt,_t,Ot.execute(Xt)),xt=!0):Xt!==Ot&&(F(rt,_t,Ot),xt=!0)}return xt});var je=B.table.core,ze=je.schema.primaryKey,Ze=ze.outbound,nt=ze.extractKey,ct=200,ze=D.db._options.modifyChunkSize;ze&&(ct=typeof ze=="object"?ze[je.name]||ze["*"]||200:ze);function ht(rt,_t){var St=_t.failures,_t=_t.numFailures;lt+=rt-_t;for(var Ot=0,Xt=l(St);Ot<Xt.length;Ot++){var rn=Xt[Ot];Xe.push(St[rn])}}var Xe=[],lt=0,pt=[];return D.clone().primaryKeys().then(function(rt){function xt(_t){var Ot=Math.min(ct,rt.length-_t);return je.getMany({trans:H,keys:rt.slice(_t,_t+Ot),cache:"immutable"}).then(function(Xt){for(var rn=[],Qt=[],en=Ze?[]:null,at=[],At=0;At<Ot;++At){var jt=Xt[At],un={value:J(jt),primKey:rt[_t+At]};_e.call(un,un.value,un)!==!1&&(un.value==null?at.push(rt[_t+At]):Ze||jn(nt(jt),nt(un.value))===0?(Qt.push(un.value),Ze&&en.push(rt[_t+At])):(at.push(rt[_t+At]),rn.push(un.value)))}return Promise.resolve(0<rn.length&&je.mutate({trans:H,type:"add",values:rn}).then(function(fn){for(var an in fn.failures)at.splice(parseInt(an),1);ht(rn.length,fn)})).then(function(){return(0<Qt.length||St&&typeof A=="object")&&je.mutate({trans:H,type:"put",keys:en,values:Qt,criteria:St,changeSpec:typeof A!="function"&&A,isAdditionalChunk:0<_t}).then(function(fn){return ht(Qt.length,fn)})}).then(function(){return(0<at.length||St&&A===$r)&&je.mutate({trans:H,type:"delete",keys:at,criteria:St,isAdditionalChunk:0<_t}).then(function(fn){return ht(at.length,fn)})}).then(function(){return rt.length>_t+Ot&&xt(_t+ct)})})}var St=Pt(B)&&B.limit===1/0&&(typeof A!="function"||A===$r)&&{index:B.index,range:B.range};return xt(0).then(function(){if(0<Xe.length)throw new ce("Error modifying one or more objects",Xe,lt,pt);return rt.length})})})},Dn.prototype.delete=function(){var A=this._ctx,D=A.range;return Pt(A)&&(A.isPrimKey||D.type===3)?this._write(function(B){var H=A.table.core.schema.primaryKey,Q=D;return A.table.core.count({trans:B,query:{index:H,range:Q}}).then(function(le){return A.table.core.mutate({trans:B,type:"deleteRange",range:Q}).then(function(_e){var je=_e.failures;if(_e.lastResult,_e.results,_e=_e.numFailures,_e)throw new ce("Could not delete some values",Object.keys(je).map(function(Ze){return je[Ze]}),le-_e);return le-_e})})}):this.modify($r)},Dn);function Dn(){}var $r=function(A,D){return D.value=null};function $i(A,D){return A<D?-1:A===D?0:1}function ps(A,D){return D<A?-1:A===D?0:1}function Ir(A,D,B){return A=A instanceof ii?new A.Collection(A):A,A._ctx.error=new(B||TypeError)(D),A}function Ai(A){return new A.Collection(A,function(){return ri("")}).limit(0)}function Ki(A,D,B,H){var Q,le,_e,je,Ze,nt,ct,ze=B.length;if(!B.every(function(lt){return typeof lt=="string"}))return Ir(A,Gi);function ht(lt){Q=lt==="next"?function(rt){return rt.toUpperCase()}:function(rt){return rt.toLowerCase()},le=lt==="next"?function(rt){return rt.toLowerCase()}:function(rt){return rt.toUpperCase()},_e=lt==="next"?$i:ps;var pt=B.map(function(rt){return{lower:le(rt),upper:Q(rt)}}).sort(function(rt,xt){return _e(rt.lower,xt.lower)});je=pt.map(function(rt){return rt.upper}),Ze=pt.map(function(rt){return rt.lower}),ct=(nt=lt)==="next"?"":H}ht("next"),A=new A.Collection(A,function(){return ui(je[0],Ze[ze-1]+H)}),A._ondirectionchange=function(lt){ht(lt)};var Xe=0;return A._addAlgorithm(function(lt,pt,rt){var xt=lt.key;if(typeof xt!="string")return!1;var St=le(xt);if(D(St,Ze,Xe))return!0;for(var _t=null,Ot=Xe;Ot<ze;++Ot){var Xt=function(rn,Qt,en,at,At,jt){for(var un=Math.min(rn.length,at.length),fn=-1,an=0;an<un;++an){var sr=Qt[an];if(sr!==at[an])return At(rn[an],en[an])<0?rn.substr(0,an)+en[an]+en.substr(an+1):At(rn[an],at[an])<0?rn.substr(0,an)+at[an]+en.substr(an+1):0<=fn?rn.substr(0,fn)+Qt[fn]+en.substr(fn+1):null;At(rn[an],sr)<0&&(fn=an)}return un<at.length&&jt==="next"?rn+en.substr(rn.length):un<rn.length&&jt==="prev"?rn.substr(0,en.length):fn<0?null:rn.substr(0,fn)+at[fn]+en.substr(fn+1)}(xt,St,je[Ot],Ze[Ot],_e,nt);Xt===null&&_t===null?Xe=Ot+1:(_t===null||0<_e(_t,Xt))&&(_t=Xt)}return pt(_t!==null?function(){lt.continue(_t+ct)}:rt),!1}),A}function ui(A,D,B,H){return{type:2,lower:A,upper:D,lowerOpen:B,upperOpen:H}}function ri(A){return{type:1,lower:A,upper:A}}var ii=(Object.defineProperty(_r.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),_r.prototype.between=function(A,D,B,H){B=B!==!1,H=H===!0;try{return 0<this._cmp(A,D)||this._cmp(A,D)===0&&(B||H)&&(!B||!H)?Ai(this):new this.Collection(this,function(){return ui(A,D,!B,!H)})}catch{return Ir(this,nr)}},_r.prototype.equals=function(A){return A==null?Ir(this,nr):new this.Collection(this,function(){return ri(A)})},_r.prototype.above=function(A){return A==null?Ir(this,nr):new this.Collection(this,function(){return ui(A,void 0,!0)})},_r.prototype.aboveOrEqual=function(A){return A==null?Ir(this,nr):new this.Collection(this,function(){return ui(A,void 0,!1)})},_r.prototype.below=function(A){return A==null?Ir(this,nr):new this.Collection(this,function(){return ui(void 0,A,!1,!0)})},_r.prototype.belowOrEqual=function(A){return A==null?Ir(this,nr):new this.Collection(this,function(){return ui(void 0,A)})},_r.prototype.startsWith=function(A){return typeof A!="string"?Ir(this,Gi):this.between(A,A+Pi,!0,!0)},_r.prototype.startsWithIgnoreCase=function(A){return A===""?this.startsWith(A):Ki(this,function(D,B){return D.indexOf(B[0])===0},[A],Pi)},_r.prototype.equalsIgnoreCase=function(A){return Ki(this,function(D,B){return D===B[0]},[A],"")},_r.prototype.anyOfIgnoreCase=function(){var A=ke.apply(be,arguments);return A.length===0?Ai(this):Ki(this,function(D,B){return B.indexOf(D)!==-1},A,"")},_r.prototype.startsWithAnyOfIgnoreCase=function(){var A=ke.apply(be,arguments);return A.length===0?Ai(this):Ki(this,function(D,B){return B.some(function(H){return D.indexOf(H)===0})},A,Pi)},_r.prototype.anyOf=function(){var A=this,D=ke.apply(be,arguments),B=this._cmp;try{D.sort(B)}catch{return Ir(this,nr)}if(D.length===0)return Ai(this);var H=new this.Collection(this,function(){return ui(D[0],D[D.length-1])});H._ondirectionchange=function(le){B=le==="next"?A._ascending:A._descending,D.sort(B)};var Q=0;return H._addAlgorithm(function(le,_e,je){for(var Ze=le.key;0<B(Ze,D[Q]);)if(++Q===D.length)return _e(je),!1;return B(Ze,D[Q])===0||(_e(function(){le.continue(D[Q])}),!1)}),H},_r.prototype.notEqual=function(A){return this.inAnyRange([[-1/0,A],[A,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},_r.prototype.noneOf=function(){var A=ke.apply(be,arguments);if(A.length===0)return new this.Collection(this);try{A.sort(this._ascending)}catch{return Ir(this,nr)}var D=A.reduce(function(B,H){return B?B.concat([[B[B.length-1][1],H]]):[[-1/0,H]]},null);return D.push([A[A.length-1],this.db._maxKey]),this.inAnyRange(D,{includeLowers:!1,includeUppers:!1})},_r.prototype.inAnyRange=function(xt,D){var B=this,H=this._cmp,Q=this._ascending,le=this._descending,_e=this._min,je=this._max;if(xt.length===0)return Ai(this);if(!xt.every(function(St){return St[0]!==void 0&&St[1]!==void 0&&Q(St[0],St[1])<=0}))return Ir(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ae.InvalidArgument);var Ze=!D||D.includeLowers!==!1,nt=D&&D.includeUppers===!0,ct,ze=Q;function ht(St,_t){return ze(St[0],_t[0])}try{(ct=xt.reduce(function(St,_t){for(var Ot=0,Xt=St.length;Ot<Xt;++Ot){var rn=St[Ot];if(H(_t[0],rn[1])<0&&0<H(_t[1],rn[0])){rn[0]=_e(rn[0],_t[0]),rn[1]=je(rn[1],_t[1]);break}}return Ot===Xt&&St.push(_t),St},[])).sort(ht)}catch{return Ir(this,nr)}var Xe=0,lt=nt?function(St){return 0<Q(St,ct[Xe][1])}:function(St){return 0<=Q(St,ct[Xe][1])},pt=Ze?function(St){return 0<le(St,ct[Xe][0])}:function(St){return 0<=le(St,ct[Xe][0])},rt=lt,xt=new this.Collection(this,function(){return ui(ct[0][0],ct[ct.length-1][1],!Ze,!nt)});return xt._ondirectionchange=function(St){ze=St==="next"?(rt=lt,Q):(rt=pt,le),ct.sort(ht)},xt._addAlgorithm(function(St,_t,Ot){for(var Xt,rn=St.key;rt(rn);)if(++Xe===ct.length)return _t(Ot),!1;return!lt(Xt=rn)&&!pt(Xt)||(B._cmp(rn,ct[Xe][1])===0||B._cmp(rn,ct[Xe][0])===0||_t(function(){ze===Q?St.continue(ct[Xe][0]):St.continue(ct[Xe][1])}),!1)}),xt},_r.prototype.startsWithAnyOf=function(){var A=ke.apply(be,arguments);return A.every(function(D){return typeof D=="string"})?A.length===0?Ai(this):this.inAnyRange(A.map(function(D){return[D,D+Pi]})):Ir(this,"startsWithAnyOf() only works with strings")},_r);function _r(){}function ei(A){return Lt(function(D){return Oi(D),A(D.target.error),!1})}function Oi(A){A.stopPropagation&&A.stopPropagation(),A.preventDefault&&A.preventDefault()}var si="storagemutated",Hs="x-storagemutated-1",Ui=ut(null,si),Es=(q.prototype._lock=function(){return k(!te.global),++this._reculock,this._reculock!==1||te.global||(te.lockOwnerFor=this),this},q.prototype._unlock=function(){if(k(!te.global),--this._reculock==0)for(te.global||(te.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var A=this._blockedFuncs.shift();try{Fr(A[1],A[0])}catch{}}return this},q.prototype._locked=function(){return this._reculock&&te.lockOwnerFor!==this},q.prototype.create=function(A){var D=this;if(!this.mode)return this;var B=this.db.idbdb,H=this.db._state.dbOpenError;if(k(!this.idbtrans),!A&&!B)switch(H&&H.name){case"DatabaseClosedError":throw new Ae.DatabaseClosed(H);case"MissingAPIError":throw new Ae.MissingAPI(H.message,H);default:throw new Ae.OpenFailed(H)}if(!this.active)throw new Ae.TransactionInactive;return k(this._completion._state===null),(A=this.idbtrans=A||(this.db.core||B).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Lt(function(Q){Oi(Q),D._reject(A.error)}),A.onabort=Lt(function(Q){Oi(Q),D.active&&D._reject(new Ae.Abort(A.error)),D.active=!1,D.on("abort").fire(Q)}),A.oncomplete=Lt(function(){D.active=!1,D._resolve(),"mutatedParts"in A&&Ui.storagemutated.fire(A.mutatedParts)}),this},q.prototype._promise=function(A,D,B){var H=this;if(A==="readwrite"&&this.mode!=="readwrite")return Pr(new Ae.ReadOnly("Transaction is readonly"));if(!this.active)return Pr(new Ae.TransactionInactive);if(this._locked())return new Ee(function(le,_e){H._blockedFuncs.push([function(){H._promise(A,D,B).then(le,_e)},te])});if(B)return Wn(function(){var le=new Ee(function(_e,je){H._lock();var Ze=D(_e,je,H);Ze&&Ze.then&&Ze.then(_e,je)});return le.finally(function(){return H._unlock()}),le._lib=!0,le});var Q=new Ee(function(le,_e){var je=D(le,_e,H);je&&je.then&&je.then(le,_e)});return Q._lib=!0,Q},q.prototype._root=function(){return this.parent?this.parent._root():this},q.prototype.waitFor=function(A){var D,B=this._root(),H=Ee.resolve(A);B._waitingFor?B._waitingFor=B._waitingFor.then(function(){return H}):(B._waitingFor=H,B._waitingQueue=[],D=B.idbtrans.objectStore(B.storeNames[0]),function le(){for(++B._spinCount;B._waitingQueue.length;)B._waitingQueue.shift()();B._waitingFor&&(D.get(-1/0).onsuccess=le)}());var Q=B._waitingFor;return new Ee(function(le,_e){H.then(function(je){return B._waitingQueue.push(Lt(le.bind(null,je)))},function(je){return B._waitingQueue.push(Lt(_e.bind(null,je)))}).finally(function(){B._waitingFor===Q&&(B._waitingFor=null)})})},q.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ae.Abort))},q.prototype.table=function(A){var D=this._memoizedTables||(this._memoizedTables={});if(g(D,A))return D[A];var B=this.schema[A];if(!B)throw new Ae.NotFound("Table "+A+" not part of transaction");return B=new this.db.Table(A,B,this),B.core=this.db.core.table(A),D[A]=B},q);function q(){}function ie(A,D,B,H,Q,le,_e){return{name:A,keyPath:D,unique:B,multi:H,auto:Q,compound:le,src:(B&&!_e?"&":"")+(H?"*":"")+(Q?"++":"")+Re(D)}}function Re(A){return typeof A=="string"?A:A?"["+[].join.call(A,"+")+"]":""}function De(A,D,B){return{name:A,primKey:D,indexes:B,mappedClass:null,idxByName:(H=function(Q){return[Q.name,Q]},B.reduce(function(Q,le,_e){return _e=H(le,_e),_e&&(Q[_e[0]]=_e[1]),Q},{}))};var H}var $e=function(A){try{return A.only([[]]),$e=function(){return[[]]},[[]]}catch{return $e=function(){return Pi},Pi}};function Ve(A){return A==null?function(){}:typeof A=="string"?(D=A).split(".").length===1?function(B){return B[D]}:function(B){return L(B,D)}:function(B){return L(B,A)};var D}function et(A){return[].slice.call(A)}var Ke=0;function Oe(A){return A==null?":id":typeof A=="string"?A:"[".concat(A.join("+"),"]")}function tt(A,D,Ze){function H(rt){if(rt.type===3)return null;if(rt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Xe=rt.lower,lt=rt.upper,pt=rt.lowerOpen,rt=rt.upperOpen;return Xe===void 0?lt===void 0?null:D.upperBound(lt,!!rt):lt===void 0?D.lowerBound(Xe,!!pt):D.bound(Xe,lt,!!pt,!!rt)}function Q(ht){var Xe,lt=ht.name;return{name:lt,schema:ht,mutate:function(pt){var rt=pt.trans,xt=pt.type,St=pt.keys,_t=pt.values,Ot=pt.range;return new Promise(function(Xt,rn){Xt=Lt(Xt);var Qt=rt.objectStore(lt),en=Qt.keyPath==null,at=xt==="put"||xt==="add";if(!at&&xt!=="delete"&&xt!=="deleteRange")throw new Error("Invalid operation type: "+xt);var At,jt=(St||_t||{length:1}).length;if(St&&_t&&St.length!==_t.length)throw new Error("Given keys array must have same length as given values array.");if(jt===0)return Xt({numFailures:0,failures:{},results:[],lastResult:void 0});function un(Ar){++sr,Oi(Ar)}var fn=[],an=[],sr=0;if(xt==="deleteRange"){if(Ot.type===4)return Xt({numFailures:sr,failures:an,results:[],lastResult:void 0});Ot.type===3?fn.push(At=Qt.clear()):fn.push(At=Qt.delete(H(Ot)))}else{var en=at?en?[_t,St]:[_t,null]:[St,null],Ln=en[0],Vr=en[1];if(at)for(var jr=0;jr<jt;++jr)fn.push(At=Vr&&Vr[jr]!==void 0?Qt[xt](Ln[jr],Vr[jr]):Qt[xt](Ln[jr])),At.onerror=un;else for(jr=0;jr<jt;++jr)fn.push(At=Qt[xt](Ln[jr])),At.onerror=un}function xi(Ar){Ar=Ar.target.result,fn.forEach(function(Ni,Yi){return Ni.error!=null&&(an[Yi]=Ni.error)}),Xt({numFailures:sr,failures:an,results:xt==="delete"?St:fn.map(function(Ni){return Ni.result}),lastResult:Ar})}At.onerror=function(Ar){un(Ar),xi(Ar)},At.onsuccess=xi})},getMany:function(pt){var rt=pt.trans,xt=pt.keys;return new Promise(function(St,_t){St=Lt(St);for(var Ot,Xt=rt.objectStore(lt),rn=xt.length,Qt=new Array(rn),en=0,at=0,At=function(fn){fn=fn.target,Qt[fn._pos]=fn.result,++at===en&&St(Qt)},jt=ei(_t),un=0;un<rn;++un)xt[un]!=null&&((Ot=Xt.get(xt[un]))._pos=un,Ot.onsuccess=At,Ot.onerror=jt,++en);en===0&&St(Qt)})},get:function(pt){var rt=pt.trans,xt=pt.key;return new Promise(function(St,_t){St=Lt(St);var Ot=rt.objectStore(lt).get(xt);Ot.onsuccess=function(Xt){return St(Xt.target.result)},Ot.onerror=ei(_t)})},query:(Xe=nt,function(pt){return new Promise(function(rt,xt){rt=Lt(rt);var St,_t,Ot,en=pt.trans,Xt=pt.values,rn=pt.limit,At=pt.query,Qt=rn===1/0?void 0:rn,at=At.index,At=At.range,en=en.objectStore(lt),at=at.isPrimaryKey?en:en.index(at.name),At=H(At);if(rn===0)return rt({result:[]});Xe?((Qt=Xt?at.getAll(At,Qt):at.getAllKeys(At,Qt)).onsuccess=function(jt){return rt({result:jt.target.result})},Qt.onerror=ei(xt)):(St=0,_t=!Xt&&"openKeyCursor"in at?at.openKeyCursor(At):at.openCursor(At),Ot=[],_t.onsuccess=function(jt){var un=_t.result;return un?(Ot.push(Xt?un.value:un.primaryKey),++St===rn?rt({result:Ot}):void un.continue()):rt({result:Ot})},_t.onerror=ei(xt))})}),openCursor:function(pt){var rt=pt.trans,xt=pt.values,St=pt.query,_t=pt.reverse,Ot=pt.unique;return new Promise(function(Xt,rn){Xt=Lt(Xt);var at=St.index,Qt=St.range,en=rt.objectStore(lt),en=at.isPrimaryKey?en:en.index(at.name),at=_t?Ot?"prevunique":"prev":Ot?"nextunique":"next",At=!xt&&"openKeyCursor"in en?en.openKeyCursor(H(Qt),at):en.openCursor(H(Qt),at);At.onerror=ei(rn),At.onsuccess=Lt(function(jt){var un,fn,an,sr,Ln=At.result;Ln?(Ln.___id=++Ke,Ln.done=!1,un=Ln.continue.bind(Ln),fn=(fn=Ln.continuePrimaryKey)&&fn.bind(Ln),an=Ln.advance.bind(Ln),sr=function(){throw new Error("Cursor not stopped")},Ln.trans=rt,Ln.stop=Ln.continue=Ln.continuePrimaryKey=Ln.advance=function(){throw new Error("Cursor not started")},Ln.fail=Lt(rn),Ln.next=function(){var Vr=this,jr=1;return this.start(function(){return jr--?Vr.continue():Vr.stop()}).then(function(){return Vr})},Ln.start=function(Vr){function jr(){if(At.result)try{Vr()}catch(Ar){Ln.fail(Ar)}else Ln.done=!0,Ln.start=function(){throw new Error("Cursor behind last entry")},Ln.stop()}var xi=new Promise(function(Ar,Ni){Ar=Lt(Ar),At.onerror=ei(Ni),Ln.fail=Ni,Ln.stop=function(Yi){Ln.stop=Ln.continue=Ln.continuePrimaryKey=Ln.advance=sr,Ar(Yi)}});return At.onsuccess=Lt(function(Ar){At.onsuccess=jr,jr()}),Ln.continue=un,Ln.continuePrimaryKey=fn,Ln.advance=an,jr(),xi},Xt(Ln)):Xt(null)},rn)})},count:function(pt){var rt=pt.query,xt=pt.trans,St=rt.index,_t=rt.range;return new Promise(function(Ot,Xt){var rn=xt.objectStore(lt),Qt=St.isPrimaryKey?rn:rn.index(St.name),rn=H(_t),Qt=rn?Qt.count(rn):Qt.count();Qt.onsuccess=Lt(function(en){return Ot(en.target.result)}),Qt.onerror=ei(Xt)})}}}var le,_e,je,ct=(_e=Ze,je=et((le=A).objectStoreNames),{schema:{name:le.name,tables:je.map(function(ht){return _e.objectStore(ht)}).map(function(ht){var Xe=ht.keyPath,rt=ht.autoIncrement,lt=c(Xe),pt={},rt={name:ht.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Xe==null,compound:lt,keyPath:Xe,autoIncrement:rt,unique:!0,extractKey:Ve(Xe)},indexes:et(ht.indexNames).map(function(xt){return ht.index(xt)}).map(function(Ot){var St=Ot.name,_t=Ot.unique,Xt=Ot.multiEntry,Ot=Ot.keyPath,Xt={name:St,compound:c(Ot),keyPath:Ot,unique:_t,multiEntry:Xt,extractKey:Ve(Ot)};return pt[Oe(Ot)]=Xt}),getIndexByKeyPath:function(xt){return pt[Oe(xt)]}};return pt[":id"]=rt.primaryKey,Xe!=null&&(pt[Oe(Xe)]=rt.primaryKey),rt})},hasGetAll:0<je.length&&"getAll"in _e.objectStore(je[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Ze=ct.schema,nt=ct.hasGetAll,ct=Ze.tables.map(Q),ze={};return ct.forEach(function(ht){return ze[ht.name]=ht}),{stack:"dbcore",transaction:A.transaction.bind(A),table:function(ht){if(!ze[ht])throw new Error("Table '".concat(ht,"' not found"));return ze[ht]},MIN_KEY:-1/0,MAX_KEY:$e(D),schema:Ze}}function Qe(A,D,B,H){var Q=B.IDBKeyRange;return B.indexedDB,{dbcore:(H=tt(D,Q,H),A.dbcore.reduce(function(le,_e){return _e=_e.create,i(i({},le),_e(le))},H))}}function kt(A,H){var B=H.db,H=Qe(A._middlewares,B,A._deps,H);A.core=H.dbcore,A.tables.forEach(function(Q){var le=Q.name;A.core.schema.tables.some(function(_e){return _e.name===le})&&(Q.core=A.core.table(le),A[le]instanceof A.Table&&(A[le].core=Q.core))})}function Rt(A,D,B,H){B.forEach(function(Q){var le=H[Q];D.forEach(function(_e){var je=function Ze(nt,ct){return v(nt,ct)||(nt=h(nt))&&Ze(nt,ct)}(_e,Q);(!je||"value"in je&&je.value===void 0)&&(_e===A.Transaction.prototype||_e instanceof A.Transaction?S(_e,Q,{get:function(){return this.table(Q)},set:function(Ze){x(this,Q,{value:Ze,writable:!0,configurable:!0,enumerable:!0})}}):_e[Q]=new A.Table(Q,le))})})}function Tt(A,D){D.forEach(function(B){for(var H in B)B[H]instanceof A.Table&&delete B[H]})}function Yt(A,D){return A._cfg.version-D._cfg.version}function Bt(A,D,B,H){var Q=A._dbSchema;B.objectStoreNames.contains("$meta")&&!Q.$meta&&(Q.$meta=De("$meta",wn("")[0],[]),A._storeNames.push("$meta"));var le=A._createTransaction("readwrite",A._storeNames,Q);le.create(B),le._completion.catch(H);var _e=le._reject.bind(le),je=te.transless||te;Wn(function(){return te.trans=le,te.transless=je,D!==0?(kt(A,B),nt=D,((Ze=le).storeNames.includes("$meta")?Ze.table("$meta").get("version").then(function(ct){return ct??nt}):Ee.resolve(nt)).then(function(ct){return ht=ct,Xe=le,lt=B,pt=[],ct=(ze=A)._versions,rt=ze._dbSchema=dn(0,ze.idbdb,lt),(ct=ct.filter(function(xt){return xt._cfg.version>=ht})).length!==0?(ct.forEach(function(xt){pt.push(function(){var St=rt,_t=xt._cfg.dbschema;mn(ze,St,lt),mn(ze,_t,lt),rt=ze._dbSchema=_t;var Ot=On(St,_t);Ot.add.forEach(function(at){bn(lt,at[0],at[1].primKey,at[1].indexes)}),Ot.change.forEach(function(at){if(at.recreate)throw new Ae.Upgrade("Not yet support for changing primary key");var At=lt.objectStore(at.name);at.add.forEach(function(jt){return Sn(At,jt)}),at.change.forEach(function(jt){At.deleteIndex(jt.name),Sn(At,jt)}),at.del.forEach(function(jt){return At.deleteIndex(jt)})});var Xt=xt._cfg.contentUpgrade;if(Xt&&xt._cfg.version>ht){kt(ze,lt),Xe._memoizedTables={};var rn=C(_t);Ot.del.forEach(function(at){rn[at]=St[at]}),Tt(ze,[ze.Transaction.prototype]),Rt(ze,[ze.Transaction.prototype],l(rn),rn),Xe.schema=rn;var Qt,en=z(Xt);return en&&br(),Ot=Ee.follow(function(){var at;(Qt=Xt(Xe))&&en&&(at=dr.bind(null,null),Qt.then(at,at))}),Qt&&typeof Qt.then=="function"?Ee.resolve(Qt):Ot.then(function(){return Qt})}}),pt.push(function(St){var _t,Ot,Xt=xt._cfg.dbschema;_t=Xt,Ot=St,[].slice.call(Ot.db.objectStoreNames).forEach(function(rn){return _t[rn]==null&&Ot.db.deleteObjectStore(rn)}),Tt(ze,[ze.Transaction.prototype]),Rt(ze,[ze.Transaction.prototype],ze._storeNames,ze._dbSchema),Xe.schema=ze._dbSchema}),pt.push(function(St){ze.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ze.idbdb.version/10)===xt._cfg.version?(ze.idbdb.deleteObjectStore("$meta"),delete ze._dbSchema.$meta,ze._storeNames=ze._storeNames.filter(function(_t){return _t!=="$meta"})):St.objectStore("$meta").put(xt._cfg.version,"version"))})}),function xt(){return pt.length?Ee.resolve(pt.shift()(Xe.idbtrans)).then(xt):Ee.resolve()}().then(function(){xn(rt,lt)})):Ee.resolve();var ze,ht,Xe,lt,pt,rt}).catch(_e)):(l(Q).forEach(function(ct){bn(B,ct,Q[ct].primKey,Q[ct].indexes)}),kt(A,B),void Ee.follow(function(){return A.on.populate.fire(le)}).catch(_e));var Ze,nt})}function $t(A,D){xn(A._dbSchema,D),D.db.version%10!=0||D.objectStoreNames.contains("$meta")||D.db.createObjectStore("$meta").add(Math.ceil(D.db.version/10-1),"version");var B=dn(0,A.idbdb,D);mn(A,A._dbSchema,D);for(var H=0,Q=On(B,A._dbSchema).change;H<Q.length;H++){var le=function(_e){if(_e.change.length||_e.recreate)return console.warn("Unable to patch indexes of table ".concat(_e.name," because it has changes on the type of index or primary key.")),{value:void 0};var je=D.objectStore(_e.name);_e.add.forEach(function(Ze){fe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(_e.name,".").concat(Ze.src)),Sn(je,Ze)})}(Q[H]);if(typeof le=="object")return le.value}}function On(A,D){var B,H={del:[],add:[],change:[]};for(B in A)D[B]||H.del.push(B);for(B in D){var Q=A[B],le=D[B];if(Q){var _e={name:B,def:le,recreate:!1,del:[],add:[],change:[]};if(""+(Q.primKey.keyPath||"")!=""+(le.primKey.keyPath||"")||Q.primKey.auto!==le.primKey.auto)_e.recreate=!0,H.change.push(_e);else{var je=Q.idxByName,Ze=le.idxByName,nt=void 0;for(nt in je)Ze[nt]||_e.del.push(nt);for(nt in Ze){var ct=je[nt],ze=Ze[nt];ct?ct.src!==ze.src&&_e.change.push(ze):_e.add.push(ze)}(0<_e.del.length||0<_e.add.length||0<_e.change.length)&&H.change.push(_e)}}else H.add.push([B,le])}return H}function bn(A,D,B,H){var Q=A.db.createObjectStore(D,B.keyPath?{keyPath:B.keyPath,autoIncrement:B.auto}:{autoIncrement:B.auto});return H.forEach(function(le){return Sn(Q,le)}),Q}function xn(A,D){l(A).forEach(function(B){D.db.objectStoreNames.contains(B)||(fe&&console.debug("Dexie: Creating missing table",B),bn(D,B,A[B].primKey,A[B].indexes))})}function Sn(A,D){A.createIndex(D.name,D.keyPath,{unique:D.unique,multiEntry:D.multi})}function dn(A,D,B){var H={};return _(D.objectStoreNames,0).forEach(function(Q){for(var le=B.objectStore(Q),_e=ie(Re(nt=le.keyPath),nt||"",!0,!1,!!le.autoIncrement,nt&&typeof nt!="string",!0),je=[],Ze=0;Ze<le.indexNames.length;++Ze){var ct=le.index(le.indexNames[Ze]),nt=ct.keyPath,ct=ie(ct.name,nt,!!ct.unique,!!ct.multiEntry,!1,nt&&typeof nt!="string",!1);je.push(ct)}H[Q]=De(Q,_e,je)}),H}function mn(A,D,B){for(var H=B.db.objectStoreNames,Q=0;Q<H.length;++Q){var le=H[Q],_e=B.objectStore(le);A._hasGetAll="getAll"in _e;for(var je=0;je<_e.indexNames.length;++je){var Ze=_e.indexNames[je],nt=_e.index(Ze).keyPath,ct=typeof nt=="string"?nt:"["+_(nt).join("+")+"]";!D[le]||(nt=D[le].idxByName[ct])&&(nt.name=Ze,delete D[le].idxByName[ct],D[le].idxByName[Ze]=nt)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(A._hasGetAll=!1)}function wn(A){return A.split(",").map(function(D,B){var H=(D=D.trim()).replace(/([&*]|\+\+)/g,""),Q=/^\[/.test(H)?H.match(/^\[(.*)\]$/)[1].split("+"):H;return ie(H,Q||null,/\&/.test(D),/\*/.test(D),/\+\+/.test(D),c(Q),B===0)})}var Qn=(Hn.prototype._parseStoresSpec=function(A,D){l(A).forEach(function(B){if(A[B]!==null){var H=wn(A[B]),Q=H.shift();if(Q.unique=!0,Q.multi)throw new Ae.Schema("Primary key cannot be multi-valued");H.forEach(function(le){if(le.auto)throw new Ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!le.keyPath)throw new Ae.Schema("Index must have a name and cannot be an empty string")}),D[B]=De(B,Q,H)}})},Hn.prototype.stores=function(B){var D=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,B):B;var B=D._versions,H={},Q={};return B.forEach(function(le){f(H,le._cfg.storesSource),Q=le._cfg.dbschema={},le._parseStoresSpec(H,Q)}),D._dbSchema=Q,Tt(D,[D._allTables,D,D.Transaction.prototype]),Rt(D,[D._allTables,D,D.Transaction.prototype,this._cfg.tables],l(Q),Q),D._storeNames=l(Q),this},Hn.prototype.upgrade=function(A){return this._cfg.contentUpgrade=it(this._cfg.contentUpgrade||V,A),this},Hn);function Hn(){}function Jn(A,D){var B=A._dbNamesDB;return B||(B=A._dbNamesDB=new hi(ss,{addons:[],indexedDB:A,IDBKeyRange:D})).version(1).stores({dbnames:"name"}),B.table("dbnames")}function Zn(A){return A&&typeof A.databases=="function"}function er(A){return Wn(function(){return te.letThrough=!0,A()})}function fr(A){return!("from"in A)}var qn=function(A,D){if(!this){var B=new qn;return A&&"d"in A&&f(B,A),B}f(this,arguments.length?{d:1,from:A,to:1<arguments.length?D:A}:{d:0})};function xr(A,D,B){var H=jn(D,B);if(!isNaN(H)){if(0<H)throw RangeError();if(fr(A))return f(A,{from:D,to:B,d:1});var Q=A.l,H=A.r;if(jn(B,A.from)<0)return Q?xr(Q,D,B):A.l={from:D,to:B,d:1,l:null,r:null},yr(A);if(0<jn(D,A.to))return H?xr(H,D,B):A.r={from:D,to:B,d:1,l:null,r:null},yr(A);jn(D,A.from)<0&&(A.from=D,A.l=null,A.d=H?H.d+1:1),0<jn(B,A.to)&&(A.to=B,A.r=null,A.d=A.l?A.l.d+1:1),B=!A.r,Q&&!A.l&&hr(A,Q),H&&B&&hr(A,H)}}function hr(A,D){fr(D)||function B(H,Ze){var le=Ze.from,_e=Ze.to,je=Ze.l,Ze=Ze.r;xr(H,le,_e),je&&B(H,je),Ze&&B(H,Ze)}(A,D)}function Tr(A,D){var B=Er(D),H=B.next();if(H.done)return!1;for(var Q=H.value,le=Er(A),_e=le.next(Q.from),je=_e.value;!H.done&&!_e.done;){if(jn(je.from,Q.to)<=0&&0<=jn(je.to,Q.from))return!0;jn(Q.from,je.from)<0?Q=(H=B.next(je.from)).value:je=(_e=le.next(Q.from)).value}return!1}function Er(A){var D=fr(A)?null:{s:0,n:A};return{next:function(B){for(var H=0<arguments.length;D;)switch(D.s){case 0:if(D.s=1,H)for(;D.n.l&&jn(B,D.n.from)<0;)D={up:D,n:D.n.l,s:1};else for(;D.n.l;)D={up:D,n:D.n.l,s:1};case 1:if(D.s=2,!H||jn(B,D.n.to)<=0)return{value:D.n,done:!1};case 2:if(D.n.r){D.s=3,D={up:D,n:D.n.r,s:0};continue}case 3:D=D.up}return{done:!0}}}}function yr(A){var D,B,H=(((D=A.r)===null||D===void 0?void 0:D.d)||0)-(((B=A.l)===null||B===void 0?void 0:B.d)||0),Q=1<H?"r":H<-1?"l":"";Q&&(D=Q=="r"?"l":"r",B=i({},A),H=A[Q],A.from=H.from,A.to=H.to,A[Q]=H[Q],B[Q]=H[D],(A[D]=B).d=Hr(B)),A.d=Hr(A)}function Hr(B){var D=B.r,B=B.l;return(D?B?Math.max(D.d,B.d):D.d:B?B.d:0)+1}function ci(A,D){return l(D).forEach(function(B){A[B]?hr(A[B],D[B]):A[B]=function H(Q){var le,_e,je={};for(le in Q)g(Q,le)&&(_e=Q[le],je[le]=!_e||typeof _e!="object"||G.has(_e.constructor)?_e:H(_e));return je}(D[B])}),A}function di(A,D){return A.all||D.all||Object.keys(A).some(function(B){return D[B]&&Tr(D[B],A[B])})}y(qn.prototype,((bi={add:function(A){return hr(this,A),this},addKey:function(A){return xr(this,A,A),this},addKeys:function(A){var D=this;return A.forEach(function(B){return xr(D,B,B)}),this},hasKey:function(A){var D=Er(this).next(A).value;return D&&jn(D.from,A)<=0&&0<=jn(D.to,A)}})[me]=function(){return Er(this)},bi));var Cr={},Yr={},yi=!1;function An(A){ci(Yr,A),yi||(yi=!0,setTimeout(function(){yi=!1,_n(Yr,!(Yr={}))},0))}function _n(A,D){D===void 0&&(D=!1);var B=new Set;if(A.all)for(var H=0,Q=Object.values(Cr);H<Q.length;H++)pn(_e=Q[H],A,B,D);else for(var le in A){var _e,je=/^idb\:\/\/(.*)\/(.*)\//.exec(le);je&&(le=je[1],je=je[2],(_e=Cr["idb://".concat(le,"/").concat(je)])&&pn(_e,A,B,D))}B.forEach(function(Ze){return Ze()})}function pn(A,D,B,H){for(var Q=[],le=0,_e=Object.entries(A.queries.query);le<_e.length;le++){for(var je=_e[le],Ze=je[0],nt=[],ct=0,ze=je[1];ct<ze.length;ct++){var ht=ze[ct];di(D,ht.obsSet)?ht.subscribers.forEach(function(rt){return B.add(rt)}):H&&nt.push(ht)}H&&Q.push([Ze,nt])}if(H)for(var Xe=0,lt=Q;Xe<lt.length;Xe++){var pt=lt[Xe],Ze=pt[0],nt=pt[1];A.queries.query[Ze]=nt}}function En(A){var D=A._state,B=A._deps.indexedDB;if(D.isBeingOpened||A.idbdb)return D.dbReadyPromise.then(function(){return D.dbOpenError?Pr(D.dbOpenError):A});D.isBeingOpened=!0,D.dbOpenError=null,D.openComplete=!1;var H=D.openCanceller,Q=Math.round(10*A.verno),le=!1;function _e(){if(D.openCanceller!==H)throw new Ae.DatabaseClosed("db.open() was cancelled")}function je(){return new Ee(function(ht,Xe){if(_e(),!B)throw new Ae.MissingAPI;var lt=A.name,pt=D.autoSchema||!Q?B.open(lt):B.open(lt,Q);if(!pt)throw new Ae.MissingAPI;pt.onerror=ei(Xe),pt.onblocked=Lt(A._fireOnBlocked),pt.onupgradeneeded=Lt(function(rt){var xt;ct=pt.transaction,D.autoSchema&&!A._options.allowEmptyDB?(pt.onerror=Oi,ct.abort(),pt.result.close(),(xt=B.deleteDatabase(lt)).onsuccess=xt.onerror=Lt(function(){Xe(new Ae.NoSuchDatabase("Database ".concat(lt," doesnt exist")))})):(ct.onerror=ei(Xe),rt=rt.oldVersion>Math.pow(2,62)?0:rt.oldVersion,ze=rt<1,A.idbdb=pt.result,le&&$t(A,ct),Bt(A,rt/10,ct,Xe))},Xe),pt.onsuccess=Lt(function(){ct=null;var rt,xt,St,_t,Ot,Xt=A.idbdb=pt.result,rn=_(Xt.objectStoreNames);if(0<rn.length)try{var Qt=Xt.transaction((_t=rn).length===1?_t[0]:_t,"readonly");if(D.autoSchema)xt=Xt,St=Qt,(rt=A).verno=xt.version/10,St=rt._dbSchema=dn(0,xt,St),rt._storeNames=_(xt.objectStoreNames,0),Rt(rt,[rt._allTables],l(St),St);else if(mn(A,A._dbSchema,Qt),((Ot=On(dn(0,(Ot=A).idbdb,Qt),Ot._dbSchema)).add.length||Ot.change.some(function(en){return en.add.length||en.change.length}))&&!le)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Xt.close(),Q=Xt.version+1,le=!0,ht(je());kt(A,Qt)}catch{}Jr.push(A),Xt.onversionchange=Lt(function(en){D.vcFired=!0,A.on("versionchange").fire(en)}),Xt.onclose=Lt(function(en){A.on("close").fire(en)}),ze&&(Ot=A._deps,Qt=lt,Xt=Ot.indexedDB,Ot=Ot.IDBKeyRange,Zn(Xt)||Qt===ss||Jn(Xt,Ot).put({name:Qt}).catch(V)),ht()},Xe)}).catch(function(ht){switch(ht==null?void 0:ht.name){case"UnknownError":if(0<D.PR1398_maxLoop)return D.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),je();break;case"VersionError":if(0<Q)return Q=0,je()}return Ee.reject(ht)})}var Ze,nt=D.dbReadyResolve,ct=null,ze=!1;return Ee.race([H,(typeof navigator>"u"?Ee.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ht){function Xe(){return indexedDB.databases().finally(ht)}Ze=setInterval(Xe,100),Xe()}).finally(function(){return clearInterval(Ze)}):Promise.resolve()).then(je)]).then(function(){return _e(),D.onReadyBeingFired=[],Ee.resolve(er(function(){return A.on.ready.fire(A.vip)})).then(function ht(){if(0<D.onReadyBeingFired.length){var Xe=D.onReadyBeingFired.reduce(it,V);return D.onReadyBeingFired=[],Ee.resolve(er(function(){return Xe(A.vip)})).then(ht)}})}).finally(function(){D.openCanceller===H&&(D.onReadyBeingFired=null,D.isBeingOpened=!1)}).catch(function(ht){D.dbOpenError=ht;try{ct&&ct.abort()}catch{}return H===D.openCanceller&&A._close(),Pr(ht)}).finally(function(){D.openComplete=!0,nt()}).then(function(){var ht;return ze&&(ht={},A.tables.forEach(function(Xe){Xe.schema.indexes.forEach(function(lt){lt.name&&(ht["idb://".concat(A.name,"/").concat(Xe.name,"/").concat(lt.name)]=new qn(-1/0,[[[]]]))}),ht["idb://".concat(A.name,"/").concat(Xe.name,"/")]=ht["idb://".concat(A.name,"/").concat(Xe.name,"/:dels")]=new qn(-1/0,[[[]]])}),Ui(si).fire(ht),_n(ht,!0)),A})}function hn(A){function D(le){return A.next(le)}var B=Q(D),H=Q(function(le){return A.throw(le)});function Q(le){return function(Ze){var je=le(Ze),Ze=je.value;return je.done?Ze:Ze&&typeof Ze.then=="function"?Ze.then(B,H):c(Ze)?Promise.all(Ze).then(B,H):B(Ze)}}return Q(D)()}function kn(A,D,B){for(var H=c(A)?A.slice():[A],Q=0;Q<B;++Q)H.push(D);return H}var Fn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(A){return i(i({},A),{table:function(D){var B=A.table(D),H=B.schema,Q={},le=[];function _e(ze,ht,Xe){var lt=Oe(ze),pt=Q[lt]=Q[lt]||[],rt=ze==null?0:typeof ze=="string"?1:ze.length,xt=0<ht,xt=i(i({},Xe),{name:xt?"".concat(lt,"(virtual-from:").concat(Xe.name,")"):Xe.name,lowLevelIndex:Xe,isVirtual:xt,keyTail:ht,keyLength:rt,extractKey:Ve(ze),unique:!xt&&Xe.unique});return pt.push(xt),xt.isPrimaryKey||le.push(xt),1<rt&&_e(rt===2?ze[0]:ze.slice(0,rt-1),ht+1,Xe),pt.sort(function(St,_t){return St.keyTail-_t.keyTail}),xt}D=_e(H.primaryKey.keyPath,0,H.primaryKey),Q[":id"]=[D];for(var je=0,Ze=H.indexes;je<Ze.length;je++){var nt=Ze[je];_e(nt.keyPath,0,nt)}function ct(ze){var ht,Xe=ze.query.index;return Xe.isVirtual?i(i({},ze),{query:{index:Xe.lowLevelIndex,range:(ht=ze.query.range,Xe=Xe.keyTail,{type:ht.type===1?2:ht.type,lower:kn(ht.lower,ht.lowerOpen?A.MAX_KEY:A.MIN_KEY,Xe),lowerOpen:!0,upper:kn(ht.upper,ht.upperOpen?A.MIN_KEY:A.MAX_KEY,Xe),upperOpen:!0})}}):ze}return i(i({},B),{schema:i(i({},H),{primaryKey:D,indexes:le,getIndexByKeyPath:function(ze){return(ze=Q[Oe(ze)])&&ze[0]}}),count:function(ze){return B.count(ct(ze))},query:function(ze){return B.query(ct(ze))},openCursor:function(ze){var ht=ze.query.index,Xe=ht.keyTail,lt=ht.isVirtual,pt=ht.keyLength;return lt?B.openCursor(ct(ze)).then(function(xt){return xt&&rt(xt)}):B.openCursor(ze);function rt(xt){return Object.create(xt,{continue:{value:function(St){St!=null?xt.continue(kn(St,ze.reverse?A.MAX_KEY:A.MIN_KEY,Xe)):ze.unique?xt.continue(xt.key.slice(0,pt).concat(ze.reverse?A.MIN_KEY:A.MAX_KEY,Xe)):xt.continue()}},continuePrimaryKey:{value:function(St,_t){xt.continuePrimaryKey(kn(St,A.MAX_KEY,Xe),_t)}},primaryKey:{get:function(){return xt.primaryKey}},key:{get:function(){var St=xt.key;return pt===1?St[0]:St.slice(0,pt)}},value:{get:function(){return xt.value}}})}}})}})}};function vn(A,D,B,H){return B=B||{},H=H||"",l(A).forEach(function(Q){var le,_e,je;g(D,Q)?(le=A[Q],_e=D[Q],typeof le=="object"&&typeof _e=="object"&&le&&_e?(je=we(le))!==we(_e)?B[H+Q]=D[Q]:je==="Object"?vn(le,_e,B,H+Q+"."):le!==_e&&(B[H+Q]=D[Q]):le!==_e&&(B[H+Q]=D[Q])):B[H+Q]=void 0}),l(D).forEach(function(Q){g(A,Q)||(B[H+Q]=D[Q])}),B}function on(A,D){return D.type==="delete"?D.keys:D.keys||D.values.map(A.extractKey)}var zn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(A){return i(i({},A),{table:function(D){var B=A.table(D),H=B.schema.primaryKey;return i(i({},B),{mutate:function(Q){var le=te.trans,_e=le.table(D).hook,je=_e.deleting,Ze=_e.creating,nt=_e.updating;switch(Q.type){case"add":if(Ze.fire===V)break;return le._promise("readwrite",function(){return ct(Q)},!0);case"put":if(Ze.fire===V&&nt.fire===V)break;return le._promise("readwrite",function(){return ct(Q)},!0);case"delete":if(je.fire===V)break;return le._promise("readwrite",function(){return ct(Q)},!0);case"deleteRange":if(je.fire===V)break;return le._promise("readwrite",function(){return function ze(ht,Xe,lt){return B.query({trans:ht,values:!1,query:{index:H,range:Xe},limit:lt}).then(function(pt){var rt=pt.result;return ct({type:"delete",keys:rt,trans:ht}).then(function(xt){return 0<xt.numFailures?Promise.reject(xt.failures[0]):rt.length<lt?{failures:[],numFailures:0,lastResult:void 0}:ze(ht,i(i({},Xe),{lower:rt[rt.length-1],lowerOpen:!0}),lt)})})}(Q.trans,Q.range,1e4)},!0)}return B.mutate(Q);function ct(ze){var ht,Xe,lt,pt=te.trans,rt=ze.keys||on(H,ze);if(!rt)throw new Error("Keys missing");return(ze=ze.type==="add"||ze.type==="put"?i(i({},ze),{keys:rt}):i({},ze)).type!=="delete"&&(ze.values=s([],ze.values)),ze.keys&&(ze.keys=s([],ze.keys)),ht=B,lt=rt,((Xe=ze).type==="add"?Promise.resolve([]):ht.getMany({trans:Xe.trans,keys:lt,cache:"immutable"})).then(function(xt){var St=rt.map(function(_t,Ot){var Xt,rn,Qt,en=xt[Ot],at={onerror:null,onsuccess:null};return ze.type==="delete"?je.fire.call(at,_t,en,pt):ze.type==="add"||en===void 0?(Xt=Ze.fire.call(at,_t,ze.values[Ot],pt),_t==null&&Xt!=null&&(ze.keys[Ot]=_t=Xt,H.outbound||F(ze.values[Ot],H.keyPath,_t))):(Xt=vn(en,ze.values[Ot]),(rn=nt.fire.call(at,Xt,_t,en,pt))&&(Qt=ze.values[Ot],Object.keys(rn).forEach(function(At){g(Qt,At)?Qt[At]=rn[At]:F(Qt,At,rn[At])}))),at});return B.mutate(ze).then(function(_t){for(var Ot=_t.failures,Xt=_t.results,rn=_t.numFailures,_t=_t.lastResult,Qt=0;Qt<rt.length;++Qt){var en=(Xt||rt)[Qt],at=St[Qt];en==null?at.onerror&&at.onerror(Ot[Qt]):at.onsuccess&&at.onsuccess(ze.type==="put"&&xt[Qt]?ze.values[Qt]:en)}return{failures:Ot,results:Xt,numFailures:rn,lastResult:_t}}).catch(function(_t){return St.forEach(function(Ot){return Ot.onerror&&Ot.onerror(_t)}),Promise.reject(_t)})})}}})}})}};function Gn(A,D,B){try{if(!D||D.keys.length<A.length)return null;for(var H=[],Q=0,le=0;Q<D.keys.length&&le<A.length;++Q)jn(D.keys[Q],A[le])===0&&(H.push(B?J(D.values[Q]):D.values[Q]),++le);return H.length===A.length?H:null}catch{return null}}var pr={stack:"dbcore",level:-1,create:function(A){return{table:function(D){var B=A.table(D);return i(i({},B),{getMany:function(H){if(!H.cache)return B.getMany(H);var Q=Gn(H.keys,H.trans._cache,H.cache==="clone");return Q?Ee.resolve(Q):B.getMany(H).then(function(le){return H.trans._cache={keys:H.keys,values:H.cache==="clone"?J(le):le},le})},mutate:function(H){return H.type!=="add"&&(H.trans._cache=null),B.mutate(H)}})}}}};function lr(A,D){return A.trans.mode==="readonly"&&!!A.subscr&&!A.trans.explicit&&A.trans.db._options.cache!=="disabled"&&!D.schema.primaryKey.outbound}function Ur(A,D){switch(A){case"query":return D.values&&!D.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var fi={stack:"dbcore",level:0,name:"Observability",create:function(A){var D=A.schema.name,B=new qn(A.MIN_KEY,A.MAX_KEY);return i(i({},A),{transaction:function(H,Q,le){if(te.subscr&&Q!=="readonly")throw new Ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(te.querier));return A.transaction(H,Q,le)},table:function(H){var Q=A.table(H),le=Q.schema,_e=le.primaryKey,ze=le.indexes,je=_e.extractKey,Ze=_e.outbound,nt=_e.autoIncrement&&ze.filter(function(Xe){return Xe.compound&&Xe.keyPath.includes(_e.keyPath)}),ct=i(i({},Q),{mutate:function(Xe){function lt(At){return At="idb://".concat(D,"/").concat(H,"/").concat(At),_t[At]||(_t[At]=new qn)}var pt,rt,xt,St=Xe.trans,_t=Xe.mutatedParts||(Xe.mutatedParts={}),Ot=lt(""),Xt=lt(":dels"),rn=Xe.type,at=Xe.type==="deleteRange"?[Xe.range]:Xe.type==="delete"?[Xe.keys]:Xe.values.length<50?[on(_e,Xe).filter(function(At){return At}),Xe.values]:[],Qt=at[0],en=at[1],at=Xe.trans._cache;return c(Qt)?(Ot.addKeys(Qt),(at=rn==="delete"||Qt.length===en.length?Gn(Qt,at):null)||Xt.addKeys(Qt),(at||en)&&(pt=lt,rt=at,xt=en,le.indexes.forEach(function(At){var jt=pt(At.name||"");function un(an){return an!=null?At.extractKey(an):null}function fn(an){return At.multiEntry&&c(an)?an.forEach(function(sr){return jt.addKey(sr)}):jt.addKey(an)}(rt||xt).forEach(function(an,Vr){var Ln=rt&&un(rt[Vr]),Vr=xt&&un(xt[Vr]);jn(Ln,Vr)!==0&&(Ln!=null&&fn(Ln),Vr!=null&&fn(Vr))})}))):Qt?(en={from:(en=Qt.lower)!==null&&en!==void 0?en:A.MIN_KEY,to:(en=Qt.upper)!==null&&en!==void 0?en:A.MAX_KEY},Xt.add(en),Ot.add(en)):(Ot.add(B),Xt.add(B),le.indexes.forEach(function(At){return lt(At.name).add(B)})),Q.mutate(Xe).then(function(At){return!Qt||Xe.type!=="add"&&Xe.type!=="put"||(Ot.addKeys(At.results),nt&&nt.forEach(function(jt){for(var un=Xe.values.map(function(Ln){return jt.extractKey(Ln)}),fn=jt.keyPath.findIndex(function(Ln){return Ln===_e.keyPath}),an=0,sr=At.results.length;an<sr;++an)un[an][fn]=At.results[an];lt(jt.name).addKeys(un)})),St.mutatedParts=ci(St.mutatedParts||{},_t),At})}}),ze=function(lt){var pt=lt.query,lt=pt.index,pt=pt.range;return[lt,new qn((lt=pt.lower)!==null&&lt!==void 0?lt:A.MIN_KEY,(pt=pt.upper)!==null&&pt!==void 0?pt:A.MAX_KEY)]},ht={get:function(Xe){return[_e,new qn(Xe.key)]},getMany:function(Xe){return[_e,new qn().addKeys(Xe.keys)]},count:ze,query:ze,openCursor:ze};return l(ht).forEach(function(Xe){ct[Xe]=function(lt){var pt=te.subscr,rt=!!pt,xt=lr(te,Q)&&Ur(Xe,lt)?lt.obsSet={}:pt;if(rt){var St=function(en){return en="idb://".concat(D,"/").concat(H,"/").concat(en),xt[en]||(xt[en]=new qn)},_t=St(""),Ot=St(":dels"),pt=ht[Xe](lt),rt=pt[0],pt=pt[1];if((Xe==="query"&&rt.isPrimaryKey&&!lt.values?Ot:St(rt.name||"")).add(pt),!rt.isPrimaryKey){if(Xe!=="count"){var Xt=Xe==="query"&&Ze&&lt.values&&Q.query(i(i({},lt),{values:!1}));return Q[Xe].apply(this,arguments).then(function(en){if(Xe==="query"){if(Ze&&lt.values)return Xt.then(function(un){return un=un.result,_t.addKeys(un),en});var at=lt.values?en.result.map(je):en.result;(lt.values?_t:Ot).addKeys(at)}else if(Xe==="openCursor"){var At=en,jt=lt.values;return At&&Object.create(At,{key:{get:function(){return Ot.addKey(At.primaryKey),At.key}},primaryKey:{get:function(){var un=At.primaryKey;return Ot.addKey(un),un}},value:{get:function(){return jt&&_t.addKey(At.primaryKey),At.value}}})}return en})}Ot.add(B)}}return Q[Xe].apply(this,arguments)}}),ct}})}};function Bn(A,D,B){if(B.numFailures===0)return D;if(D.type==="deleteRange")return null;var H=D.keys?D.keys.length:"values"in D&&D.values?D.values.length:1;return B.numFailures===H?null:(D=i({},D),c(D.keys)&&(D.keys=D.keys.filter(function(Q,le){return!(le in B.failures)})),"values"in D&&c(D.values)&&(D.values=D.values.filter(function(Q,le){return!(le in B.failures)})),D)}function Dr(A,D){return B=A,((H=D).lower===void 0||(H.lowerOpen?0<jn(B,H.lower):0<=jn(B,H.lower)))&&(A=A,(D=D).upper===void 0||(D.upperOpen?jn(A,D.upper)<0:jn(A,D.upper)<=0));var B,H}function ir(A,D,ht,H,Q,le){if(!ht||ht.length===0)return A;var _e=D.query.index,je=_e.multiEntry,Ze=D.query.range,nt=H.schema.primaryKey.extractKey,ct=_e.extractKey,ze=(_e.lowLevelIndex||_e).extractKey,ht=ht.reduce(function(Xe,lt){var pt=Xe,rt=[];if(lt.type==="add"||lt.type==="put")for(var xt=new qn,St=lt.values.length-1;0<=St;--St){var _t,Ot=lt.values[St],Xt=nt(Ot);xt.hasKey(Xt)||(_t=ct(Ot),(je&&c(_t)?_t.some(function(At){return Dr(At,Ze)}):Dr(_t,Ze))&&(xt.addKey(Xt),rt.push(Ot)))}switch(lt.type){case"add":var rn=new qn().addKeys(D.values?Xe.map(function(jt){return nt(jt)}):Xe),pt=Xe.concat(D.values?rt.filter(function(jt){return jt=nt(jt),!rn.hasKey(jt)&&(rn.addKey(jt),!0)}):rt.map(function(jt){return nt(jt)}).filter(function(jt){return!rn.hasKey(jt)&&(rn.addKey(jt),!0)}));break;case"put":var Qt=new qn().addKeys(lt.values.map(function(jt){return nt(jt)}));pt=Xe.filter(function(jt){return!Qt.hasKey(D.values?nt(jt):jt)}).concat(D.values?rt:rt.map(function(jt){return nt(jt)}));break;case"delete":var en=new qn().addKeys(lt.keys);pt=Xe.filter(function(jt){return!en.hasKey(D.values?nt(jt):jt)});break;case"deleteRange":var at=lt.range;pt=Xe.filter(function(jt){return!Dr(nt(jt),at)})}return pt},A);return ht===A?A:(ht.sort(function(Xe,lt){return jn(ze(Xe),ze(lt))||jn(nt(Xe),nt(lt))}),D.limit&&D.limit<1/0&&(ht.length>D.limit?ht.length=D.limit:A.length===D.limit&&ht.length<D.limit&&(Q.dirty=!0)),le?Object.freeze(ht):ht)}function mr(A,D){return jn(A.lower,D.lower)===0&&jn(A.upper,D.upper)===0&&!!A.lowerOpen==!!D.lowerOpen&&!!A.upperOpen==!!D.upperOpen}function Nr(A,D){return function(B,H,Q,le){if(B===void 0)return H!==void 0?-1:0;if(H===void 0)return 1;if((H=jn(B,H))===0){if(Q&&le)return 0;if(Q)return 1;if(le)return-1}return H}(A.lower,D.lower,A.lowerOpen,D.lowerOpen)<=0&&0<=function(B,H,Q,le){if(B===void 0)return H!==void 0?1:0;if(H===void 0)return-1;if((H=jn(B,H))===0){if(Q&&le)return 0;if(Q)return-1;if(le)return 1}return H}(A.upper,D.upper,A.upperOpen,D.upperOpen)}function or(A,D,B,H){A.subscribers.add(B),H.addEventListener("abort",function(){var Q,le;A.subscribers.delete(B),A.subscribers.size===0&&(Q=A,le=D,setTimeout(function(){Q.subscribers.size===0&&ee(le,Q)},3e3))})}var Vi={stack:"dbcore",level:0,name:"Cache",create:function(A){var D=A.schema.name;return i(i({},A),{transaction:function(B,H,Q){var le,_e,je=A.transaction(B,H,Q);return H==="readwrite"&&(_e=(le=new AbortController).signal,Q=function(Ze){return function(){if(le.abort(),H==="readwrite"){for(var nt=new Set,ct=0,ze=B;ct<ze.length;ct++){var ht=ze[ct],Xe=Cr["idb://".concat(D,"/").concat(ht)];if(Xe){var lt=A.table(ht),pt=Xe.optimisticOps.filter(function(jt){return jt.trans===je});if(je._explicit&&Ze&&je.mutatedParts)for(var rt=0,xt=Object.values(Xe.queries.query);rt<xt.length;rt++)for(var St=0,_t=(rn=xt[rt]).slice();St<_t.length;St++)di((Qt=_t[St]).obsSet,je.mutatedParts)&&(ee(rn,Qt),Qt.subscribers.forEach(function(jt){return nt.add(jt)}));else if(0<pt.length){Xe.optimisticOps=Xe.optimisticOps.filter(function(jt){return jt.trans!==je});for(var Ot=0,Xt=Object.values(Xe.queries.query);Ot<Xt.length;Ot++)for(var rn,Qt,en,at=0,At=(rn=Xt[Ot]).slice();at<At.length;at++)(Qt=At[at]).res!=null&&je.mutatedParts&&(Ze&&!Qt.dirty?(en=Object.isFrozen(Qt.res),en=ir(Qt.res,Qt.req,pt,lt,Qt,en),Qt.dirty?(ee(rn,Qt),Qt.subscribers.forEach(function(jt){return nt.add(jt)})):en!==Qt.res&&(Qt.res=en,Qt.promise=Ee.resolve({result:en}))):(Qt.dirty&&ee(rn,Qt),Qt.subscribers.forEach(function(jt){return nt.add(jt)})))}}}nt.forEach(function(jt){return jt()})}}},je.addEventListener("abort",Q(!1),{signal:_e}),je.addEventListener("error",Q(!1),{signal:_e}),je.addEventListener("complete",Q(!0),{signal:_e})),je},table:function(B){var H=A.table(B),Q=H.schema.primaryKey;return i(i({},H),{mutate:function(le){var _e=te.trans;if(Q.outbound||_e.db._options.cache==="disabled"||_e.explicit||_e.idbtrans.mode!=="readwrite")return H.mutate(le);var je=Cr["idb://".concat(D,"/").concat(B)];return je?(_e=H.mutate(le),le.type!=="add"&&le.type!=="put"||!(50<=le.values.length||on(Q,le).some(function(Ze){return Ze==null}))?(je.optimisticOps.push(le),le.mutatedParts&&An(le.mutatedParts),_e.then(function(Ze){0<Ze.numFailures&&(ee(je.optimisticOps,le),(Ze=Bn(0,le,Ze))&&je.optimisticOps.push(Ze),le.mutatedParts&&An(le.mutatedParts))}),_e.catch(function(){ee(je.optimisticOps,le),le.mutatedParts&&An(le.mutatedParts)})):_e.then(function(Ze){var nt=Bn(0,i(i({},le),{values:le.values.map(function(ct,ze){var ht;return Ze.failures[ze]?ct:(ct=(ht=Q.keyPath)!==null&&ht!==void 0&&ht.includes(".")?J(ct):i({},ct),F(ct,Q.keyPath,Ze.results[ze]),ct)})}),Ze);je.optimisticOps.push(nt),queueMicrotask(function(){return le.mutatedParts&&An(le.mutatedParts)})}),_e):H.mutate(le)},query:function(le){if(!lr(te,H)||!Ur("query",le))return H.query(le);var _e=((nt=te.trans)===null||nt===void 0?void 0:nt.db._options.cache)==="immutable",ze=te,je=ze.requery,Ze=ze.signal,nt=function(lt,pt,rt,xt){var St=Cr["idb://".concat(lt,"/").concat(pt)];if(!St)return[];if(!(pt=St.queries[rt]))return[null,!1,St,null];var _t=pt[(xt.query?xt.query.index.name:null)||""];if(!_t)return[null,!1,St,null];switch(rt){case"query":var Ot=_t.find(function(Xt){return Xt.req.limit===xt.limit&&Xt.req.values===xt.values&&mr(Xt.req.query.range,xt.query.range)});return Ot?[Ot,!0,St,_t]:[_t.find(function(Xt){return("limit"in Xt.req?Xt.req.limit:1/0)>=xt.limit&&(!xt.values||Xt.req.values)&&Nr(Xt.req.query.range,xt.query.range)}),!1,St,_t];case"count":return Ot=_t.find(function(Xt){return mr(Xt.req.query.range,xt.query.range)}),[Ot,!!Ot,St,_t]}}(D,B,"query",le),ct=nt[0],ze=nt[1],ht=nt[2],Xe=nt[3];return ct&&ze?ct.obsSet=le.obsSet:(ze=H.query(le).then(function(lt){var pt=lt.result;if(ct&&(ct.res=pt),_e){for(var rt=0,xt=pt.length;rt<xt;++rt)Object.freeze(pt[rt]);Object.freeze(pt)}else lt.result=J(pt);return lt}).catch(function(lt){return Xe&&ct&&ee(Xe,ct),Promise.reject(lt)}),ct={obsSet:le.obsSet,promise:ze,subscribers:new Set,type:"query",req:le,dirty:!1},Xe?Xe.push(ct):(Xe=[ct],(ht=ht||(Cr["idb://".concat(D,"/").concat(B)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[le.query.index.name||""]=Xe)),or(ct,Xe,je,Ze),ct.promise.then(function(lt){return{result:ir(lt.result,le,ht==null?void 0:ht.optimisticOps,H,ct,_e)}})}})}})}};function Ii(A,D){return new Proxy(A,{get:function(B,H,Q){return H==="db"?D:Reflect.get(B,H,Q)}})}var hi=(ar.prototype.version=function(A){if(isNaN(A)||A<.1)throw new Ae.Type("Given version is not a positive number");if(A=Math.round(10*A)/10,this.idbdb||this._state.isBeingOpened)throw new Ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,A);var D=this._versions,B=D.filter(function(H){return H._cfg.version===A})[0];return B||(B=new this.Version(A),D.push(B),D.sort(Yt),B.stores({}),this._state.autoSchema=!1,B)},ar.prototype._whenReady=function(A){var D=this;return this.idbdb&&(this._state.openComplete||te.letThrough||this._vip)?A():new Ee(function(B,H){if(D._state.openComplete)return H(new Ae.DatabaseClosed(D._state.dbOpenError));if(!D._state.isBeingOpened){if(!D._state.autoOpen)return void H(new Ae.DatabaseClosed);D.open().catch(V)}D._state.dbReadyPromise.then(B,H)}).then(A)},ar.prototype.use=function(A){var D=A.stack,B=A.create,H=A.level,Q=A.name;return Q&&this.unuse({stack:D,name:Q}),A=this._middlewares[D]||(this._middlewares[D]=[]),A.push({stack:D,create:B,level:H??10,name:Q}),A.sort(function(le,_e){return le.level-_e.level}),this},ar.prototype.unuse=function(A){var D=A.stack,B=A.name,H=A.create;return D&&this._middlewares[D]&&(this._middlewares[D]=this._middlewares[D].filter(function(Q){return H?Q.create!==H:!!B&&Q.name!==B})),this},ar.prototype.open=function(){var A=this;return Fr(cn,function(){return En(A)})},ar.prototype._close=function(){var A=this._state,D=Jr.indexOf(this);if(0<=D&&Jr.splice(D,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}A.isBeingOpened||(A.dbReadyPromise=new Ee(function(B){A.dbReadyResolve=B}),A.openCanceller=new Ee(function(B,H){A.cancelOpen=H}))},ar.prototype.close=function(B){var D=(B===void 0?{disableAutoOpen:!0}:B).disableAutoOpen,B=this._state;D?(B.isBeingOpened&&B.cancelOpen(new Ae.DatabaseClosed),this._close(),B.autoOpen=!1,B.dbOpenError=new Ae.DatabaseClosed):(this._close(),B.autoOpen=this._options.autoOpen||B.isBeingOpened,B.openComplete=!1,B.dbOpenError=null)},ar.prototype.delete=function(A){var D=this;A===void 0&&(A={disableAutoOpen:!0});var B=0<arguments.length&&typeof arguments[0]!="object",H=this._state;return new Ee(function(Q,le){function _e(){D.close(A);var je=D._deps.indexedDB.deleteDatabase(D.name);je.onsuccess=Lt(function(){var Ze,nt,ct;Ze=D._deps,nt=D.name,ct=Ze.indexedDB,Ze=Ze.IDBKeyRange,Zn(ct)||nt===ss||Jn(ct,Ze).delete(nt).catch(V),Q()}),je.onerror=ei(le),je.onblocked=D._fireOnBlocked}if(B)throw new Ae.InvalidArgument("Invalid closeOptions argument to db.delete()");H.isBeingOpened?H.dbReadyPromise.then(_e):_e()})},ar.prototype.backendDB=function(){return this.idbdb},ar.prototype.isOpen=function(){return this.idbdb!==null},ar.prototype.hasBeenClosed=function(){var A=this._state.dbOpenError;return A&&A.name==="DatabaseClosed"},ar.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ar.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ar.prototype,"tables",{get:function(){var A=this;return l(this._allTables).map(function(D){return A._allTables[D]})},enumerable:!1,configurable:!0}),ar.prototype.transaction=function(){var A=(function(D,B,H){var Q=arguments.length;if(Q<2)throw new Ae.InvalidArgument("Too few arguments");for(var le=new Array(Q-1);--Q;)le[Q-1]=arguments[Q];return H=le.pop(),[D,P(le),H]}).apply(this,arguments);return this._transaction.apply(this,A)},ar.prototype._transaction=function(A,D,B){var H=this,Q=te.trans;Q&&Q.db===this&&A.indexOf("!")===-1||(Q=null);var le,_e,je=A.indexOf("?")!==-1;A=A.replace("!","").replace("?","");try{if(_e=D.map(function(nt){if(nt=nt instanceof H.Table?nt.name:nt,typeof nt!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return nt}),A=="r"||A===Ci)le=Ci;else{if(A!="rw"&&A!=os)throw new Ae.InvalidArgument("Invalid transaction mode: "+A);le=os}if(Q){if(Q.mode===Ci&&le===os){if(!je)throw new Ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");Q=null}Q&&_e.forEach(function(nt){if(Q&&Q.storeNames.indexOf(nt)===-1){if(!je)throw new Ae.SubTransaction("Table "+nt+" not included in parent transaction.");Q=null}}),je&&Q&&!Q.active&&(Q=null)}}catch(nt){return Q?Q._promise(null,function(ct,ze){ze(nt)}):Pr(nt)}var Ze=(function nt(ct,ze,ht,Xe,lt){return Ee.resolve().then(function(){var pt=te.transless||te,rt=ct._createTransaction(ze,ht,ct._dbSchema,Xe);if(rt.explicit=!0,pt={trans:rt,transless:pt},Xe)rt.idbtrans=Xe.idbtrans;else try{rt.create(),rt.idbtrans._explicit=!0,ct._state.PR1398_maxLoop=3}catch(_t){return _t.name===he.InvalidState&&ct.isOpen()&&0<--ct._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ct.close({disableAutoOpen:!1}),ct.open().then(function(){return nt(ct,ze,ht,null,lt)})):Pr(_t)}var xt,St=z(lt);return St&&br(),pt=Ee.follow(function(){var _t;(xt=lt.call(rt,rt))&&(St?(_t=dr.bind(null,null),xt.then(_t,_t)):typeof xt.next=="function"&&typeof xt.throw=="function"&&(xt=hn(xt)))},pt),(xt&&typeof xt.then=="function"?Ee.resolve(xt).then(function(_t){return rt.active?_t:Pr(new Ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):pt.then(function(){return xt})).then(function(_t){return Xe&&rt._resolve(),rt._completion.then(function(){return _t})}).catch(function(_t){return rt._reject(_t),Pr(_t)})})}).bind(null,this,le,_e,Q,B);return Q?Q._promise(le,Ze,"lock"):te.trans?Fr(te.transless,function(){return H._whenReady(Ze)}):this._whenReady(Ze)},ar.prototype.table=function(A){if(!g(this._allTables,A))throw new Ae.InvalidTable("Table ".concat(A," does not exist"));return this._allTables[A]},ar);function ar(A,D){var B=this;this._middlewares={},this.verno=0;var H=ar.dependencies;this._options=D=i({addons:ar.addons,autoOpen:!0,indexedDB:H.indexedDB,IDBKeyRange:H.IDBKeyRange,cache:"cloned"},D),this._deps={indexedDB:D.indexedDB,IDBKeyRange:D.IDBKeyRange},H=D.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var Q,le,_e,je,Ze,nt={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:V,dbReadyPromise:null,cancelOpen:V,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:D.autoOpen};nt.dbReadyPromise=new Ee(function(ze){nt.dbReadyResolve=ze}),nt.openCanceller=new Ee(function(ze,ht){nt.cancelOpen=ht}),this._state=nt,this.name=A,this.on=ut(this,"populate","blocked","versionchange","close",{ready:[it,V]}),this.on.ready.subscribe=E(this.on.ready.subscribe,function(ze){return function(ht,Xe){ar.vip(function(){var lt,pt=B._state;pt.openComplete?(pt.dbOpenError||Ee.resolve().then(ht),Xe&&ze(ht)):pt.onReadyBeingFired?(pt.onReadyBeingFired.push(ht),Xe&&ze(ht)):(ze(ht),lt=B,Xe||ze(function rt(){lt.on.ready.unsubscribe(ht),lt.on.ready.unsubscribe(rt)}))})}}),this.Collection=(Q=this,Ye(Nn.prototype,function(xt,rt){this.db=Q;var Xe=as,lt=null;if(rt)try{Xe=rt()}catch(St){lt=St}var pt=xt._ctx,rt=pt.table,xt=rt.hook.reading.fire;this._ctx={table:rt,index:pt.index,isPrimKey:!pt.index||rt.schema.primKey.keyPath&&pt.index===rt.schema.primKey.name,range:Xe,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:lt,or:pt.or,valueMapper:xt!==K?xt:null}})),this.Table=(le=this,Ye(Te.prototype,function(ze,ht,Xe){this.db=le,this._tx=Xe,this.name=ze,this.schema=ht,this.hook=le._allTables[ze]?le._allTables[ze].hook:ut(null,{creating:[Z,V],reading:[ae,K],updating:[Pe,V],deleting:[ve,V]})})),this.Transaction=(_e=this,Ye(Es.prototype,function(ze,ht,Xe,lt,pt){var rt=this;this.db=_e,this.mode=ze,this.storeNames=ht,this.schema=Xe,this.chromeTransactionDurability=lt,this.idbtrans=null,this.on=ut(this,"complete","error","abort"),this.parent=pt||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ee(function(xt,St){rt._resolve=xt,rt._reject=St}),this._completion.then(function(){rt.active=!1,rt.on.complete.fire()},function(xt){var St=rt.active;return rt.active=!1,rt.on.error.fire(xt),rt.parent?rt.parent._reject(xt):St&&rt.idbtrans&&rt.idbtrans.abort(),Pr(xt)})})),this.Version=(je=this,Ye(Qn.prototype,function(ze){this.db=je,this._cfg={version:ze,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Ze=this,Ye(ii.prototype,function(ze,ht,Xe){if(this.db=Ze,this._ctx={table:ze,index:ht===":id"?null:ht,or:Xe},this._cmp=this._ascending=jn,this._descending=function(lt,pt){return jn(pt,lt)},this._max=function(lt,pt){return 0<jn(lt,pt)?lt:pt},this._min=function(lt,pt){return jn(lt,pt)<0?lt:pt},this._IDBKeyRange=Ze._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ae.MissingAPI})),this.on("versionchange",function(ze){0<ze.newVersion?console.warn("Another connection wants to upgrade database '".concat(B.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(B.name,"'. Closing db now to resume the delete request.")),B.close({disableAutoOpen:!1})}),this.on("blocked",function(ze){!ze.newVersion||ze.newVersion<ze.oldVersion?console.warn("Dexie.delete('".concat(B.name,"') was blocked")):console.warn("Upgrade '".concat(B.name,"' blocked by other connection holding version ").concat(ze.oldVersion/10))}),this._maxKey=$e(D.IDBKeyRange),this._createTransaction=function(ze,ht,Xe,lt){return new B.Transaction(ze,ht,Xe,B._options.chromeTransactionDurability,lt)},this._fireOnBlocked=function(ze){B.on("blocked").fire(ze),Jr.filter(function(ht){return ht.name===B.name&&ht!==B&&!ht._state.vcFired}).map(function(ht){return ht.on("versionchange").fire(ze)})},this.use(pr),this.use(Vi),this.use(fi),this.use(Fn),this.use(zn);var ct=new Proxy(this,{get:function(ze,ht,Xe){if(ht==="_vip")return!0;if(ht==="table")return function(pt){return Ii(B.table(pt),ct)};var lt=Reflect.get(ze,ht,Xe);return lt instanceof Te?Ii(lt,ct):ht==="tables"?lt.map(function(pt){return Ii(pt,ct)}):ht==="_createTransaction"?function(){return Ii(lt.apply(this,arguments),ct)}:lt}});this.vip=ct,H.forEach(function(ze){return ze(B)})}var Xi,bi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",pi=(ws.prototype.subscribe=function(A,D,B){return this._subscribe(A&&typeof A!="function"?A:{next:A,error:D,complete:B})},ws.prototype[bi]=function(){return this},ws);function ws(A){this._subscribe=A}try{Xi={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Xi={indexedDB:null,IDBKeyRange:null}}function Gs(A){var D,B=!1,H=new pi(function(Q){var le=z(A),_e,je=!1,Ze={},nt={},ct={get closed(){return je},unsubscribe:function(){je||(je=!0,_e&&_e.abort(),ze&&Ui.storagemutated.unsubscribe(Xe))}};Q.start&&Q.start(ct);var ze=!1,ht=function(){return zi(lt)},Xe=function(pt){ci(Ze,pt),di(nt,Ze)&&ht()},lt=function(){var pt,rt,xt;!je&&Xi.indexedDB&&(Ze={},pt={},_e&&_e.abort(),_e=new AbortController,xt=function(St){var _t=se();try{le&&br();var Ot=Wn(A,St);return Ot=le?Ot.finally(dr):Ot}finally{_t&&Be()}}(rt={subscr:pt,signal:_e.signal,requery:ht,querier:A,trans:null}),Promise.resolve(xt).then(function(St){B=!0,D=St,je||rt.signal.aborted||(Ze={},function(_t){for(var Ot in _t)if(g(_t,Ot))return;return 1}(nt=pt)||ze||(Ui(si,Xe),ze=!0),zi(function(){return!je&&Q.next&&Q.next(St)}))},function(St){B=!1,["DatabaseClosedError","AbortError"].includes(St==null?void 0:St.name)||je||zi(function(){je||Q.error&&Q.error(St)})}))};return setTimeout(ht,0),ct});return H.hasValue=function(){return B},H.getValue=function(){return D},H}var Yn=hi;function ls(A){var D=Ti;try{Ti=!0,Ui.storagemutated.fire(A),_n(A,!0)}finally{Ti=D}}y(Yn,i(i({},Ie),{delete:function(A){return new Yn(A,{addons:[]}).delete()},exists:function(A){return new Yn(A,{addons:[]}).open().then(function(D){return D.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(A){try{return D=Yn.dependencies,B=D.indexedDB,D=D.IDBKeyRange,(Zn(B)?Promise.resolve(B.databases()).then(function(H){return H.map(function(Q){return Q.name}).filter(function(Q){return Q!==ss})}):Jn(B,D).toCollection().primaryKeys()).then(A)}catch{return Pr(new Ae.MissingAPI)}var D,B},defineClass:function(){return function(A){f(this,A)}},ignoreTransaction:function(A){return te.trans?Fr(te.transless,A):A()},vip:er,async:function(A){return function(){try{var D=hn(A.apply(this,arguments));return D&&typeof D.then=="function"?D:Ee.resolve(D)}catch(B){return Pr(B)}}},spawn:function(A,D,B){try{var H=hn(A.apply(B,D||[]));return H&&typeof H.then=="function"?H:Ee.resolve(H)}catch(Q){return Pr(Q)}},currentTransaction:{get:function(){return te.trans||null}},waitFor:function(A,D){return D=Ee.resolve(typeof A=="function"?Yn.ignoreTransaction(A):A).timeout(D||6e4),te.trans?te.trans.waitFor(D):D},Promise:Ee,debug:{get:function(){return fe},set:function(A){xe(A)}},derive:w,extend:f,props:y,override:E,Events:ut,on:Ui,liveQuery:Gs,extendObservabilitySet:ci,getByKeyPath:L,setByKeyPath:F,delByKeyPath:function(A,D){typeof D=="string"?F(A,D,void 0):"length"in D&&[].map.call(D,function(B){F(A,B,void 0)})},shallowClone:C,deepClone:J,getObjectDiff:vn,cmp:jn,asap:T,minKey:-1/0,addons:[],connections:Jr,errnames:he,dependencies:Xi,cache:Cr,semVer:"4.0.11",version:"4.0.11".split(".").map(function(A){return parseInt(A)}).reduce(function(A,D,B){return A+D/Math.pow(10,2*B)})})),Yn.maxKey=$e(Yn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ui(si,function(A){Ti||(A=new CustomEvent(Hs,{detail:A}),Ti=!0,dispatchEvent(A),Ti=!1)}),addEventListener(Hs,function(A){A=A.detail,Ti||ls(A)}));var mi,Ti=!1,ao=function(){};return typeof BroadcastChannel<"u"&&((ao=function(){(mi=new BroadcastChannel(Hs)).onmessage=function(A){return A.data&&ls(A.data)}})(),typeof mi.unref=="function"&&mi.unref(),Ui(si,function(A){Ti||mi.postMessage(A)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(A){if(!hi.disableBfCache&&A.persisted){fe&&console.debug("Dexie: handling persisted pagehide"),mi!=null&&mi.close();for(var D=0,B=Jr;D<B.length;D++)B[D].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(A){!hi.disableBfCache&&A.persisted&&(fe&&console.debug("Dexie: handling persisted pageshow"),ao(),ls({all:new qn(-1/0,[[]])}))})),Ee.rejectionMapper=function(A,D){return!A||A instanceof U||A instanceof TypeError||A instanceof SyntaxError||!A.name||!ot[A.name]?A:(D=new ot[A.name](D||A.message,A),"stack"in A&&S(D,"stack",{get:function(){return this.inner.stack}}),D)},xe(fe),i(hi,Object.freeze({__proto__:null,Dexie:hi,liveQuery:Gs,Entity:xs,cmp:jn,PropModification:tr,replacePrefix:function(A,D){return new tr({replacePrefix:[A,D]})},add:function(A){return new tr({add:A})},remove:function(A){return new tr({remove:A})},default:hi,RangeSet:qn,mergeRanges:hr,rangesOverlap:Tr}),{default:hi}),hi})}(dexie_min$1)),dexie_min$1.exports}var dexie_minExports=requireDexie_min();const _Dexie=getDefaultExportFromCjs(dexie_minExports),DexieSymbol=Symbol.for("Dexie"),Dexie=globalThis[DexieSymbol]||(globalThis[DexieSymbol]=_Dexie);if(_Dexie.semVer!==Dexie.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);const db=new Dexie("BookStorageDB");db.version(1).stores({books:"++id, fileType, bookData, file"});class Fb2Data{constructor(e,n,i,s,o,l=Date.now()){this.title=e,this.author=n,this.currentPage=i,this.totalPages=s,this.image=o,this.lastOpenDate=l}}const Ro=class Ro{constructor(){if(Ro.instance)return Ro.instance;this.db=new Dexie("BookStorageDB"),this.db.version(1).stores({books:"++id, fileType, bookData, file"}),Ro.instance=this}async saveBook(e){try{const n=await this.db.books.add(e);return console.log("Book added with ID:",n),n}catch(n){throw console.error("Error adding book:",n),n}}async getBooks(){try{return(await this.db.books.toArray()).map(i=>{const{id:s,fileType:o,metadata:l}=i;return{id:s,fileType:o,metadata:l}})}catch(e){throw console.error("Error retrieving books:",e),e}}async getBookById(e){try{const n=await this.db.books.get(parseInt(e));return console.log("Book retrieved by ID:",n),n}catch(n){throw console.error("Error retrieving book by ID:",n),n}}async updateBookMetadataField(e,n,i){try{const s=await this.db.books.get(e);s?(s.metadata[n]=i,await this.db.books.put(s),console.log(`Book ${e} updated successfully`)):console.log(`Book with id ${e} not found`)}catch(s){throw console.error("Error updating book:",s),s}}async deleteBook(e){try{await this.db.books.delete(e),console.log(`Book with ID ${e} deleted successfully`)}catch(n){throw console.error("Error deleting book:",n),n}}};wr(Ro,"instance");let BookStorage=Ro;const bookStorage=new BookStorage,DeleteForeverIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");function BookListItem({book:t,handleDelete:e}){var c,f,h,p,g,y;const[n,i]=reactExports.useState(((c=t==null?void 0:t.metadata)==null?void 0:c.currentPage)/((f=t==null?void 0:t.metadata)==null?void 0:f.totalPages)||0),s=useNavigate(),o=x=>{const S=x<50?235:Math.round(235-(x-50)*4.6),w=x>50?235:Math.round(x*4.6);return`rgb(${S}, ${w}, 0)`},l=x=>{bookStorage.updateBookMetadataField(x,"lastOpenDate",Date.now()),s("/book/"+x)};return jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",flexDirection:"row",alignItems:"center",border:"1px solid #ccc",borderRadius:"8px",marginBottom:"12px",cursor:"pointer",position:"relative",transition:"background-color 0.3s ease","&:hover":{backgroundColor:"#f9f9f9"}},children:[jsxRuntimeExports.jsx(Box,{component:"img",src:((h=t==null?void 0:t.metadata)==null?void 0:h.image)||"default-image.jpg",alt:((p=t==null?void 0:t.metadata)==null?void 0:p.title)||"Book Image",sx:{width:80,height:120,borderStartStartRadius:"8px",borderEndStartRadius:"8px",marginRight:"16px",objectFit:"cover"}}),jsxRuntimeExports.jsxs(Box,{sx:{flexGrow:1},children:[jsxRuntimeExports.jsx(IconButton,{onClick:()=>e(t==null?void 0:t.id),sx:{position:"absolute",top:8,right:8,color:"red"},children:jsxRuntimeExports.jsx(DeleteForeverIcon,{})}),jsxRuntimeExports.jsxs("div",{onClick:()=>l(t==null?void 0:t.id),children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",component:"div",gutterBottom:!0,children:((g=t==null?void 0:t.metadata)==null?void 0:g.title)||"Untitled Book"}),jsxRuntimeExports.jsxs(Box,{display:"flex",justifyContent:"space-between",alignItems:"center",gutterBottom:!0,children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"text.secondary",children:((y=t==null?void 0:t.metadata)==null?void 0:y.author)||"Unknown"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"text.secondary",sx:{marginRight:"16px",fontStyle:"italic"},children:"*."+(t==null?void 0:t.fileType)||"N/A"})]}),jsxRuntimeExports.jsx(Box,{sx:{marginTop:"8px"},children:jsxRuntimeExports.jsx(LinearProgress,{variant:"determinate",value:n*100,sx:{height:8,borderRadius:"4px",backgroundColor:"#e0e0e0","& .MuiLinearProgress-bar":{backgroundColor:o(n*100)}}})})]})]})]})}const SQRT3=Math.sqrt(3),F2=.5*(SQRT3-1),G2=(3-SQRT3)/6,fastFloor=t=>Math.floor(t)|0,grad2=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function createNoise2D(t=Math.random){const e=buildPermutationTable(t),n=new Float64Array(e).map(s=>grad2[s%12*2]),i=new Float64Array(e).map(s=>grad2[s%12*2+1]);return function(o,l){let c=0,f=0,h=0;const p=(o+l)*F2,g=fastFloor(o+p),y=fastFloor(l+p),x=(g+y)*G2,S=g-x,w=y-x,v=o-S,b=l-w;let _,E;v>b?(_=1,E=0):(_=0,E=1);const k=v-_+G2,T=b-E+G2,L=v-1+2*G2,F=b-1+2*G2,C=g&255,O=y&255;let P=.5-v*v-b*b;if(P>=0){const J=C+e[O],ne=n[J],we=i[J];P*=P,c=P*P*(ne*v+we*b)}let G=.5-k*k-T*T;if(G>=0){const J=C+_+e[O+E],ne=n[J],we=i[J];G*=G,f=G*G*(ne*k+we*T)}let W=.5-L*L-F*F;if(W>=0){const J=C+1+e[O+1],ne=n[J],we=i[J];W*=W,h=W*W*(ne*L+we*F)}return 70*(c+f+h)}}function buildPermutationTable(t){const n=new Uint8Array(512);for(let i=0;i<512/2;i++)n[i]=i;for(let i=0;i<512/2-1;i++){const s=i+~~(t()*(256-i)),o=n[i];n[i]=n[s],n[s]=o}for(let i=256;i<512;i++)n[i]=n[i-256];return n}function parseMetaDataFb2(t,e){try{const i=new DOMParser().parseFromString(t,"application/xml"),s={};return e.forEach(o=>{switch(o){case"image":{try{let l=i.querySelector("binary");const c=l.getAttribute("content-type"),f=l.textContent.replace(/\s+/g,"");s[o]=`data:${c};base64,${f}`}catch(l){console.log(l),s.binary=null}break}case"title":{let l=i.querySelector("book-title");l&&(s[o]=l.textContent.replace(/\s+/g," ").trim());break}case"author":{let l=i.querySelector("author");l&&(s[o]=l.textContent.replace(/\s+/g," ").trim());break}default:break}}),console.log(s),s}catch(n){return console.log(n),null}}const generateSimplexNoise=(t,e)=>{const n=createNoise2D(),i=e.createImageData(t.width,t.height),s=i.data,o=[{color:"rgb(255, 182, 182)",darkShade:"rgb(153, 77, 77)"},{color:"rgb(255, 255, 153)",darkShade:"rgb(128, 128, 0)"},{color:"rgb(182, 255, 182)",darkShade:"rgb(77, 128, 77)"},{color:"rgb(182, 255, 255)",darkShade:"rgb(77, 128, 128)"},{color:"rgb(182, 182, 255)",darkShade:"rgb(77, 77, 128)"},{color:"rgb(255, 182, 255)",darkShade:"rgb(128, 77, 128)"}],l=()=>{const p=Math.floor(Math.random()*o.length);return o[p]},c=p=>{const g=p.match(/\d+/g);return g?g.map(Number):[0,0,0]},{color:f,darkShade:h}=l();for(let p=0;p<t.width;p++)for(let g=0;g<t.height;g++){const S=(n(p/100,g/100)+1)*128>128,w=(g*t.width+p)*4,v=c(S?f:h);s[w]=v[0],s[w+1]=v[1],s[w+2]=v[2],s[w+3]=255}e.putImageData(i,0,0)};function generateTextImage(t){const e=document.createElement("canvas"),n=e.getContext("2d");e.width=200,e.height=400,generateSimplexNoise(e,n);const i=t.split(" "),s=i.reduce((c,f)=>c.length>f.length?c:f,""),o=Math.min(40,Math.floor(e.width/s.length*1.5));return n.fillStyle="#000000",n.font=`${o}px Montserrat, sans-serif`,n.textAlign="center",n.textBaseline="middle",[{color:"#ffffff",blur:90},{color:"#ffffff",blur:80},{color:"#ffffff",blur:70},{color:"#ffffff",blur:60},{color:"#ffffff",blur:50},{color:"#ffffff",blur:40},{color:"#ffffff",blur:30},{color:"#ffffff",blur:20},{color:"#ffffff",blur:10}].forEach((c,f)=>{n.shadowColor=c.color,n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowBlur=c.blur;let h=(e.height-i.length*o)/2+o/2;i.forEach(p=>{n.fillText(p,e.width/2,h),h+=o})}),e.toDataURL("image/png")}const AddIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),SyncIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4z"}),"Sync"),BookLibrary=()=>{const[t,e]=reactExports.useState([]),n=useNavigate();reactExports.useEffect(()=>{(async()=>{const c=await bookStorage.getBooks();c.sort((f,h)=>new Date(h.metadata.lastOpenDate)-new Date(f.metadata.lastOpenDate)),e(c)})()},[]);const i=async l=>{const c=l.target.files[0];if(c){const f=new FileReader,h=c.name.split(".").pop().toLowerCase();f.onload=async p=>{try{const g=p.target.result;let y=parseMetaDataFb2(g,["image","title","author"]);y!=null&&y.title||(y.title=c.name),y!=null&&y.image||(y.image=generateTextImage(y.title)),y!=null&&y.author||(y.author="");const x={fileType:h,metadata:new Fb2Data(y.title,y.author,0,null,y.image),file:g};await bookStorage.saveBook(x),e(S=>[...S,x])}catch(g){console.error("   :",g)}},f.onerror=p=>console.error("  :",p.target.error),h==="fb2"?f.readAsText(c):h==="epub"||h==="pdf"?f.readAsArrayBuffer(c):console.error("  ")}},s=async l=>{await bookStorage.deleteBook(l),e(c=>c.filter(f=>f.id!==l))},o={border:"1px solid #aaa",borderRadius:"12px",color:"#666",mt:"10px",width:48,height:48,mr:1};return jsxRuntimeExports.jsxs(Container$1,{children:[jsxRuntimeExports.jsxs(Box,{display:"flex",justifyContent:"flex-end",alignItems:"center",mb:3,children:[jsxRuntimeExports.jsxs(IconButton,{component:"label",sx:o,children:[jsxRuntimeExports.jsx(AddIcon,{}),jsxRuntimeExports.jsx("input",{type:"file",hidden:!0,onChange:i})]}),jsxRuntimeExports.jsx(IconButton,{onClick:()=>n("/sync"),sx:{...o,mr:0},children:jsxRuntimeExports.jsx(SyncIcon,{})})]}),jsxRuntimeExports.jsx(List,{children:t.map((l,c)=>jsxRuntimeExports.jsx(BookListItem,{book:l,handleDelete:s},c))})]})};var eventEmitter={exports:{}},d={exports:{}},is$4,hasRequiredIs$4;function requireIs$4(){if(hasRequiredIs$4)return is$4;hasRequiredIs$4=1;var t=void 0;return is$4=function(e){return e!==t&&e!==null},is$4}var is$3,hasRequiredIs$3;function requireIs$3(){if(hasRequiredIs$3)return is$3;hasRequiredIs$3=1;var t=requireIs$4(),e={object:!0,function:!0,undefined:!0};return is$3=function(n){return t(n)?hasOwnProperty.call(e,typeof n):!1},is$3}var is$2,hasRequiredIs$2;function requireIs$2(){if(hasRequiredIs$2)return is$2;hasRequiredIs$2=1;var t=requireIs$3();return is$2=function(e){if(!t(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},is$2}var is$1,hasRequiredIs$1;function requireIs$1(){if(hasRequiredIs$1)return is$1;hasRequiredIs$1=1;var t=requireIs$2();return is$1=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!t(e)},is$1}var is,hasRequiredIs;function requireIs(){if(hasRequiredIs)return is;hasRequiredIs=1;var t=requireIs$1(),e=/^\s*class[\s{/}]/,n=Function.prototype.toString;return is=function(i){return!(!t(i)||e.test(n.call(i)))},is}var isImplemented$2,hasRequiredIsImplemented$2;function requireIsImplemented$2(){return hasRequiredIsImplemented$2||(hasRequiredIsImplemented$2=1,isImplemented$2=function(){var t=Object.assign,e;return typeof t!="function"?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}),isImplemented$2}var isImplemented$1,hasRequiredIsImplemented$1;function requireIsImplemented$1(){return hasRequiredIsImplemented$1||(hasRequiredIsImplemented$1=1,isImplemented$1=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),isImplemented$1}var noop$2,hasRequiredNoop;function requireNoop(){return hasRequiredNoop||(hasRequiredNoop=1,noop$2=function(){}),noop$2}var isValue,hasRequiredIsValue;function requireIsValue(){if(hasRequiredIsValue)return isValue;hasRequiredIsValue=1;var t=requireNoop()();return isValue=function(e){return e!==t&&e!==null},isValue}var shim$2,hasRequiredShim$2;function requireShim$2(){if(hasRequiredShim$2)return shim$2;hasRequiredShim$2=1;var t=requireIsValue(),e=Object.keys;return shim$2=function(n){return e(t(n)?Object(n):n)},shim$2}var keys,hasRequiredKeys;function requireKeys(){return hasRequiredKeys||(hasRequiredKeys=1,keys=requireIsImplemented$1()()?Object.keys:requireShim$2()),keys}var validValue,hasRequiredValidValue;function requireValidValue(){if(hasRequiredValidValue)return validValue;hasRequiredValidValue=1;var t=requireIsValue();return validValue=function(e){if(!t(e))throw new TypeError("Cannot use null or undefined");return e},validValue}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var t=requireKeys(),e=requireValidValue(),n=Math.max;return shim$1=function(i,s){var o,l,c=n(arguments.length,2),f;for(i=Object(e(i)),f=function(h){try{i[h]=s[h]}catch(p){o||(o=p)}},l=1;l<c;++l)s=arguments[l],t(s).forEach(f);if(o!==void 0)throw o;return i},shim$1}var assign,hasRequiredAssign;function requireAssign(){return hasRequiredAssign||(hasRequiredAssign=1,assign=requireIsImplemented$2()()?Object.assign:requireShim$1()),assign}var normalizeOptions,hasRequiredNormalizeOptions;function requireNormalizeOptions(){if(hasRequiredNormalizeOptions)return normalizeOptions;hasRequiredNormalizeOptions=1;var t=requireIsValue(),e=Array.prototype.forEach,n=Object.create,i=function(s,o){var l;for(l in s)o[l]=s[l]};return normalizeOptions=function(s){var o=n(null);return e.call(arguments,function(l){t(l)&&i(Object(l),o)}),o},normalizeOptions}var isImplemented,hasRequiredIsImplemented;function requireIsImplemented(){if(hasRequiredIsImplemented)return isImplemented;hasRequiredIsImplemented=1;var t="razdwatrzy";return isImplemented=function(){return typeof t.contains!="function"?!1:t.contains("dwa")===!0&&t.contains("foo")===!1},isImplemented}var shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var t=String.prototype.indexOf;return shim=function(e){return t.call(this,e,arguments[1])>-1},shim}var contains,hasRequiredContains;function requireContains(){return hasRequiredContains||(hasRequiredContains=1,contains=requireIsImplemented()()?String.prototype.contains:requireShim()),contains}var hasRequiredD;function requireD(){if(hasRequiredD)return d.exports;hasRequiredD=1;var t=requireIs$4(),e=requireIs(),n=requireAssign(),i=requireNormalizeOptions(),s=requireContains(),o=d.exports=function(l,c){var f,h,p,g,y;return arguments.length<2||typeof l!="string"?(g=c,c=l,l=null):g=arguments[2],t(l)?(f=s.call(l,"c"),h=s.call(l,"e"),p=s.call(l,"w")):(f=p=!0,h=!1),y={value:c,configurable:f,enumerable:h,writable:p},g?n(i(g),y):y};return o.gs=function(l,c,f){var h,p,g,y;return typeof l!="string"?(g=f,f=c,c=l,l=null):g=arguments[3],t(c)?e(c)?t(f)?e(f)||(g=f,f=void 0):f=void 0:(g=c,c=f=void 0):c=void 0,t(l)?(h=s.call(l,"c"),p=s.call(l,"e")):(h=!0,p=!1),y={get:c,set:f,configurable:h,enumerable:p},g?n(i(g),y):y},d.exports}var validCallable,hasRequiredValidCallable;function requireValidCallable(){return hasRequiredValidCallable||(hasRequiredValidCallable=1,validCallable=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t}),validCallable}var hasRequiredEventEmitter;function requireEventEmitter(){return hasRequiredEventEmitter||(hasRequiredEventEmitter=1,function(t,e){var n=requireD(),i=requireValidCallable(),s=Function.prototype.apply,o=Function.prototype.call,l=Object.create,c=Object.defineProperty,f=Object.defineProperties,h=Object.prototype.hasOwnProperty,p={configurable:!0,enumerable:!1,writable:!0},g,y,x,S,w,v,b;g=function(_,E){var k;return i(E),h.call(this,"__ee__")?k=this.__ee__:(k=p.value=l(null),c(this,"__ee__",p),p.value=null),k[_]?typeof k[_]=="object"?k[_].push(E):k[_]=[k[_],E]:k[_]=E,this},y=function(_,E){var k,T;return i(E),T=this,g.call(this,_,k=function(){x.call(T,_,k),s.call(E,this,arguments)}),k.__eeOnceListener__=E,this},x=function(_,E){var k,T,L,F;if(i(E),!h.call(this,"__ee__"))return this;if(k=this.__ee__,!k[_])return this;if(T=k[_],typeof T=="object")for(F=0;L=T[F];++F)(L===E||L.__eeOnceListener__===E)&&(T.length===2?k[_]=T[F?0:1]:T.splice(F,1));else(T===E||T.__eeOnceListener__===E)&&delete k[_];return this},S=function(_){var E,k,T,L,F;if(h.call(this,"__ee__")&&(L=this.__ee__[_],!!L))if(typeof L=="object"){for(k=arguments.length,F=new Array(k-1),E=1;E<k;++E)F[E-1]=arguments[E];for(L=L.slice(),E=0;T=L[E];++E)s.call(T,this,F)}else switch(arguments.length){case 1:o.call(L,this);break;case 2:o.call(L,this,arguments[1]);break;case 3:o.call(L,this,arguments[1],arguments[2]);break;default:for(k=arguments.length,F=new Array(k-1),E=1;E<k;++E)F[E-1]=arguments[E];s.call(L,this,F)}},w={on:g,once:y,off:x,emit:S},v={on:n(g),once:n(y),off:n(x),emit:n(S)},b=f({},v),t.exports=e=function(_){return _==null?l(b):f(Object(_),v)},e.methods=w}(eventEmitter,eventEmitter.exports)),eventEmitter.exports}var eventEmitterExports=requireEventEmitter();const EventEmitter=getDefaultExportFromCjs(eventEmitterExports);var lib$1={},dom={},conventions={},hasRequiredConventions;function requireConventions(){if(hasRequiredConventions)return conventions;hasRequiredConventions=1;function t(s,o,l){if(l===void 0&&(l=Array.prototype),s&&typeof l.find=="function")return l.find.call(s,o);for(var c=0;c<s.length;c++)if(Object.prototype.hasOwnProperty.call(s,c)){var f=s[c];if(o.call(void 0,f,c,s))return f}}function e(s,o){return o===void 0&&(o=Object),o&&typeof o.freeze=="function"?o.freeze(s):s}var n=e({HTML:"text/html",isHTML:function(s){return s===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return conventions.find=t,conventions.freeze=e,conventions.MIME_TYPE=n,conventions.NAMESPACE=i,conventions}var hasRequiredDom;function requireDom(){if(hasRequiredDom)return dom;hasRequiredDom=1;var t=requireConventions(),e=t.find,n=t.NAMESPACE;function i(I){return I!==""}function s(I){return I?I.split(/[\t\n\f\r ]+/).filter(i):[]}function o(I,X){return I.hasOwnProperty(X)||(I[X]=!0),I}function l(I){if(!I)return[];var X=s(I);return Object.keys(X.reduce(o,{}))}function c(I){return function(X){return I&&I.indexOf(X)!==-1}}function f(I,X){for(var Ce in I)Object.prototype.hasOwnProperty.call(I,Ce)&&(X[Ce]=I[Ce])}function h(I,X){var Ce=I.prototype;if(!(Ce instanceof X)){let Ne=function(){};var N=Ne;Ne.prototype=X.prototype,Ne=new Ne,f(Ce,Ne),I.prototype=Ce=Ne}Ce.constructor!=I&&(typeof I!="function"&&console.error("unknown Class:"+I),Ce.constructor=I)}var p={},g=p.ELEMENT_NODE=1,y=p.ATTRIBUTE_NODE=2,x=p.TEXT_NODE=3,S=p.CDATA_SECTION_NODE=4,w=p.ENTITY_REFERENCE_NODE=5,v=p.ENTITY_NODE=6,b=p.PROCESSING_INSTRUCTION_NODE=7,_=p.COMMENT_NODE=8,E=p.DOCUMENT_NODE=9,k=p.DOCUMENT_TYPE_NODE=10,T=p.DOCUMENT_FRAGMENT_NODE=11,L=p.NOTATION_NODE=12,F={},C={};F.INDEX_SIZE_ERR=(C[1]="Index size error",1),F.DOMSTRING_SIZE_ERR=(C[2]="DOMString size error",2);var O=F.HIERARCHY_REQUEST_ERR=(C[3]="Hierarchy request error",3);F.WRONG_DOCUMENT_ERR=(C[4]="Wrong document",4),F.INVALID_CHARACTER_ERR=(C[5]="Invalid character",5),F.NO_DATA_ALLOWED_ERR=(C[6]="No data allowed",6),F.NO_MODIFICATION_ALLOWED_ERR=(C[7]="No modification allowed",7);var P=F.NOT_FOUND_ERR=(C[8]="Not found",8);F.NOT_SUPPORTED_ERR=(C[9]="Not supported",9);var G=F.INUSE_ATTRIBUTE_ERR=(C[10]="Attribute in use",10);F.INVALID_STATE_ERR=(C[11]="Invalid state",11),F.SYNTAX_ERR=(C[12]="Syntax error",12),F.INVALID_MODIFICATION_ERR=(C[13]="Invalid modification",13),F.NAMESPACE_ERR=(C[14]="Invalid namespace",14),F.INVALID_ACCESS_ERR=(C[15]="Invalid access",15);function W(I,X){if(X instanceof Error)var Ce=X;else Ce=this,Error.call(this,C[I]),this.message=C[I],Error.captureStackTrace&&Error.captureStackTrace(this,W);return Ce.code=I,X&&(this.message=this.message+": "+X),Ce}W.prototype=Error.prototype,f(F,W);function J(){}J.prototype={length:0,item:function(I){return I>=0&&I<this.length?this[I]:null},toString:function(I,X){for(var Ce=[],N=0;N<this.length;N++)vt(this[N],Ce,I,X);return Ce.join("")},filter:function(I){return Array.prototype.filter.call(this,I)},indexOf:function(I){return Array.prototype.indexOf.call(this,I)}};function ne(I,X){this._node=I,this._refresh=X,we(this)}function we(I){var X=I._node._inc||I._node.ownerDocument._inc;if(I._inc!==X){var Ce=I._refresh(I._node);if(Ee(I,"length",Ce.length),!I.$$length||Ce.length<I.$$length)for(var N=Ce.length;N in I;N++)Object.prototype.hasOwnProperty.call(I,N)&&delete I[N];f(Ce,I),I._inc=X}}ne.prototype.item=function(I){return we(this),this[I]||null},h(ne,J);function me(){}function re(I,X){for(var Ce=I.length;Ce--;)if(I[Ce]===X)return Ce}function ee(I,X,Ce,N){if(N?X[re(X,N)]=Ce:X[X.length++]=Ce,I){Ce.ownerElement=I;var Ne=I.ownerDocument;Ne&&(N&&ge(Ne,I,N),ce(Ne,I,Ce))}}function be(I,X,Ce){var N=re(X,Ce);if(N>=0){for(var Ne=X.length-1;N<Ne;)X[N]=X[++N];if(X.length=Ne,I){var Je=I.ownerDocument;Je&&(ge(Je,I,Ce),Ce.ownerElement=null)}}else throw new W(P,new Error(I.tagName+"@"+Ce))}me.prototype={length:0,item:J.prototype.item,getNamedItem:function(I){for(var X=this.length;X--;){var Ce=this[X];if(Ce.nodeName==I)return Ce}},setNamedItem:function(I){var X=I.ownerElement;if(X&&X!=this._ownerElement)throw new W(G);var Ce=this.getNamedItem(I.nodeName);return ee(this._ownerElement,this,I,Ce),Ce},setNamedItemNS:function(I){var X=I.ownerElement,Ce;if(X&&X!=this._ownerElement)throw new W(G);return Ce=this.getNamedItemNS(I.namespaceURI,I.localName),ee(this._ownerElement,this,I,Ce),Ce},removeNamedItem:function(I){var X=this.getNamedItem(I);return be(this._ownerElement,this,X),X},removeNamedItemNS:function(I,X){var Ce=this.getNamedItemNS(I,X);return be(this._ownerElement,this,Ce),Ce},getNamedItemNS:function(I,X){for(var Ce=this.length;Ce--;){var N=this[Ce];if(N.localName==X&&N.namespaceURI==I)return N}return null}};function ke(){}ke.prototype={hasFeature:function(I,X){return!0},createDocument:function(I,X,Ce){var N=new Y;if(N.implementation=this,N.childNodes=new J,N.doctype=Ce||null,Ce&&N.appendChild(Ce),X){var Ne=N.createElementNS(I,X);N.appendChild(Ne)}return N},createDocumentType:function(I,X,Ce){var N=new yt;return N.name=I,N.nodeName=I,N.publicId=X||"",N.systemId=Ce||"",N}};function z(){}z.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(I,X){return Fe(this,I,X)},replaceChild:function(I,X){Fe(this,I,X,Pe),X&&this.removeChild(X)},removeChild:function(I){return ye(this,I)},appendChild:function(I){return this.insertBefore(I,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(I){return Dt(this.ownerDocument||this,this,I)},normalize:function(){for(var I=this.firstChild;I;){var X=I.nextSibling;X&&X.nodeType==x&&I.nodeType==x?(this.removeChild(X),I.appendData(X.data)):(I.normalize(),I=X)}},isSupported:function(I,X){return this.ownerDocument.implementation.hasFeature(I,X)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(I){for(var X=this;X;){var Ce=X._nsMap;if(Ce){for(var N in Ce)if(Object.prototype.hasOwnProperty.call(Ce,N)&&Ce[N]===I)return N}X=X.nodeType==y?X.ownerDocument:X.parentNode}return null},lookupNamespaceURI:function(I){for(var X=this;X;){var Ce=X._nsMap;if(Ce&&I in Ce&&Object.prototype.hasOwnProperty.call(Ce,I))return Ce[I];X=X.nodeType==y?X.ownerDocument:X.parentNode}return null},isDefaultNamespace:function(I){var X=this.lookupPrefix(I);return X==null}};function j(I){return I=="<"&&"&lt;"||I==">"&&"&gt;"||I=="&"&&"&amp;"||I=='"'&&"&quot;"||"&#"+I.charCodeAt()+";"}f(p,z),f(p,z.prototype);function U(I,X){if(X(I))return!0;if(I=I.firstChild)do if(U(I,X))return!0;while(I=I.nextSibling)}function Y(){this.ownerDocument=this}function ce(I,X,Ce){I&&I._inc++;var N=Ce.namespaceURI;N===n.XMLNS&&(X._nsMap[Ce.prefix?Ce.localName:""]=Ce.value)}function ge(I,X,Ce,N){I&&I._inc++;var Ne=Ce.namespaceURI;Ne===n.XMLNS&&delete X._nsMap[Ce.prefix?Ce.localName:""]}function he(I,X,Ce){if(I&&I._inc){I._inc++;var N=X.childNodes;if(Ce)N[N.length++]=Ce;else{for(var Ne=X.firstChild,Je=0;Ne;)N[Je++]=Ne,Ne=Ne.nextSibling;N.length=Je,delete N[N.length]}}}function ye(I,X){var Ce=X.previousSibling,N=X.nextSibling;return Ce?Ce.nextSibling=N:I.firstChild=N,N?N.previousSibling=Ce:I.lastChild=Ce,X.parentNode=null,X.previousSibling=null,X.nextSibling=null,he(I.ownerDocument,I),X}function Ae(I){return I&&(I.nodeType===z.DOCUMENT_NODE||I.nodeType===z.DOCUMENT_FRAGMENT_NODE||I.nodeType===z.ELEMENT_NODE)}function ot(I){return I&&(V(I)||K(I)||Ie(I)||I.nodeType===z.DOCUMENT_FRAGMENT_NODE||I.nodeType===z.COMMENT_NODE||I.nodeType===z.PROCESSING_INSTRUCTION_NODE)}function Ie(I){return I&&I.nodeType===z.DOCUMENT_TYPE_NODE}function V(I){return I&&I.nodeType===z.ELEMENT_NODE}function K(I){return I&&I.nodeType===z.TEXT_NODE}function ae(I,X){var Ce=I.childNodes||[];if(e(Ce,V)||Ie(X))return!1;var N=e(Ce,Ie);return!(X&&N&&Ce.indexOf(N)>Ce.indexOf(X))}function ue(I,X){var Ce=I.childNodes||[];function N(Je){return V(Je)&&Je!==X}if(e(Ce,N))return!1;var Ne=e(Ce,Ie);return!(X&&Ne&&Ce.indexOf(Ne)>Ce.indexOf(X))}function Z(I,X,Ce){if(!Ae(I))throw new W(O,"Unexpected parent node type "+I.nodeType);if(Ce&&Ce.parentNode!==I)throw new W(P,"child not in parent");if(!ot(X)||Ie(X)&&I.nodeType!==z.DOCUMENT_NODE)throw new W(O,"Unexpected node type "+X.nodeType+" for parent node type "+I.nodeType)}function ve(I,X,Ce){var N=I.childNodes||[],Ne=X.childNodes||[];if(X.nodeType===z.DOCUMENT_FRAGMENT_NODE){var Je=Ne.filter(V);if(Je.length>1||e(Ne,K))throw new W(O,"More than one element or text in fragment");if(Je.length===1&&!ae(I,Ce))throw new W(O,"Element in fragment can not be inserted before doctype")}if(V(X)&&!ae(I,Ce))throw new W(O,"Only one element can be added and only after doctype");if(Ie(X)){if(e(N,Ie))throw new W(O,"Only one doctype is allowed");var se=e(N,V);if(Ce&&N.indexOf(se)<N.indexOf(Ce))throw new W(O,"Doctype can only be inserted before an element");if(!Ce&&se)throw new W(O,"Doctype can not be appended since element is present")}}function Pe(I,X,Ce){var N=I.childNodes||[],Ne=X.childNodes||[];if(X.nodeType===z.DOCUMENT_FRAGMENT_NODE){var Je=Ne.filter(V);if(Je.length>1||e(Ne,K))throw new W(O,"More than one element or text in fragment");if(Je.length===1&&!ue(I,Ce))throw new W(O,"Element in fragment can not be inserted before doctype")}if(V(X)&&!ue(I,Ce))throw new W(O,"Only one element can be added and only after doctype");if(Ie(X)){let ft=function(Zt){return Ie(Zt)&&Zt!==Ce};var Be=ft;if(e(N,ft))throw new W(O,"Only one doctype is allowed");var se=e(N,V);if(Ce&&N.indexOf(se)<N.indexOf(Ce))throw new W(O,"Doctype can only be inserted before an element")}}function Fe(I,X,Ce,N){Z(I,X,Ce),I.nodeType===z.DOCUMENT_NODE&&(N||ve)(I,X,Ce);var Ne=X.parentNode;if(Ne&&Ne.removeChild(X),X.nodeType===T){var Je=X.firstChild;if(Je==null)return X;var se=X.lastChild}else Je=se=X;var Be=Ce?Ce.previousSibling:I.lastChild;Je.previousSibling=Be,se.nextSibling=Ce,Be?Be.nextSibling=Je:I.firstChild=Je,Ce==null?I.lastChild=se:Ce.previousSibling=se;do Je.parentNode=I;while(Je!==se&&(Je=Je.nextSibling));return he(I.ownerDocument||I,I),X.nodeType==T&&(X.firstChild=X.lastChild=null),X}function it(I,X){return X.parentNode&&X.parentNode.removeChild(X),X.parentNode=I,X.previousSibling=I.lastChild,X.nextSibling=null,X.previousSibling?X.previousSibling.nextSibling=X:I.firstChild=X,I.lastChild=X,he(I.ownerDocument,I,X),X}Y.prototype={nodeName:"#document",nodeType:E,doctype:null,documentElement:null,_inc:1,insertBefore:function(I,X){if(I.nodeType==T){for(var Ce=I.firstChild;Ce;){var N=Ce.nextSibling;this.insertBefore(Ce,X),Ce=N}return I}return Fe(this,I,X),I.ownerDocument=this,this.documentElement===null&&I.nodeType===g&&(this.documentElement=I),I},removeChild:function(I){return this.documentElement==I&&(this.documentElement=null),ye(this,I)},replaceChild:function(I,X){Fe(this,I,X,Pe),I.ownerDocument=this,X&&this.removeChild(X),V(I)&&(this.documentElement=I)},importNode:function(I,X){return It(this,I,X)},getElementById:function(I){var X=null;return U(this.documentElement,function(Ce){if(Ce.nodeType==g&&Ce.getAttribute("id")==I)return X=Ce,!0}),X},getElementsByClassName:function(I){var X=l(I);return new ne(this,function(Ce){var N=[];return X.length>0&&U(Ce.documentElement,function(Ne){if(Ne!==Ce&&Ne.nodeType===g){var Je=Ne.getAttribute("class");if(Je){var se=I===Je;if(!se){var Be=l(Je);se=X.every(c(Be))}se&&N.push(Ne)}}}),N})},createElement:function(I){var X=new fe;X.ownerDocument=this,X.nodeName=I,X.tagName=I,X.localName=I,X.childNodes=new J;var Ce=X.attributes=new me;return Ce._ownerElement=X,X},createDocumentFragment:function(){var I=new mt;return I.ownerDocument=this,I.childNodes=new J,I},createTextNode:function(I){var X=new gt;return X.ownerDocument=this,X.appendData(I),X},createComment:function(I){var X=new qe;return X.ownerDocument=this,X.appendData(I),X},createCDATASection:function(I){var X=new dt;return X.ownerDocument=this,X.appendData(I),X},createProcessingInstruction:function(I,X){var Ce=new Ue;return Ce.ownerDocument=this,Ce.tagName=Ce.nodeName=Ce.target=I,Ce.nodeValue=Ce.data=X,Ce},createAttribute:function(I){var X=new xe;return X.ownerDocument=this,X.name=I,X.nodeName=I,X.localName=I,X.specified=!0,X},createEntityReference:function(I){var X=new zt;return X.ownerDocument=this,X.nodeName=I,X},createElementNS:function(I,X){var Ce=new fe,N=X.split(":"),Ne=Ce.attributes=new me;return Ce.childNodes=new J,Ce.ownerDocument=this,Ce.nodeName=X,Ce.tagName=X,Ce.namespaceURI=I,N.length==2?(Ce.prefix=N[0],Ce.localName=N[1]):Ce.localName=X,Ne._ownerElement=Ce,Ce},createAttributeNS:function(I,X){var Ce=new xe,N=X.split(":");return Ce.ownerDocument=this,Ce.nodeName=X,Ce.name=X,Ce.namespaceURI=I,Ce.specified=!0,N.length==2?(Ce.prefix=N[0],Ce.localName=N[1]):Ce.localName=X,Ce}},h(Y,z);function fe(){this._nsMap={}}fe.prototype={nodeType:g,hasAttribute:function(I){return this.getAttributeNode(I)!=null},getAttribute:function(I){var X=this.getAttributeNode(I);return X&&X.value||""},getAttributeNode:function(I){return this.attributes.getNamedItem(I)},setAttribute:function(I,X){var Ce=this.ownerDocument.createAttribute(I);Ce.value=Ce.nodeValue=""+X,this.setAttributeNode(Ce)},removeAttribute:function(I){var X=this.getAttributeNode(I);X&&this.removeAttributeNode(X)},appendChild:function(I){return I.nodeType===T?this.insertBefore(I,null):it(this,I)},setAttributeNode:function(I){return this.attributes.setNamedItem(I)},setAttributeNodeNS:function(I){return this.attributes.setNamedItemNS(I)},removeAttributeNode:function(I){return this.attributes.removeNamedItem(I.nodeName)},removeAttributeNS:function(I,X){var Ce=this.getAttributeNodeNS(I,X);Ce&&this.removeAttributeNode(Ce)},hasAttributeNS:function(I,X){return this.getAttributeNodeNS(I,X)!=null},getAttributeNS:function(I,X){var Ce=this.getAttributeNodeNS(I,X);return Ce&&Ce.value||""},setAttributeNS:function(I,X,Ce){var N=this.ownerDocument.createAttributeNS(I,X);N.value=N.nodeValue=""+Ce,this.setAttributeNode(N)},getAttributeNodeNS:function(I,X){return this.attributes.getNamedItemNS(I,X)},getElementsByTagName:function(I){return new ne(this,function(X){var Ce=[];return U(X,function(N){N!==X&&N.nodeType==g&&(I==="*"||N.tagName==I)&&Ce.push(N)}),Ce})},getElementsByTagNameNS:function(I,X){return new ne(this,function(Ce){var N=[];return U(Ce,function(Ne){Ne!==Ce&&Ne.nodeType===g&&(I==="*"||Ne.namespaceURI===I)&&(X==="*"||Ne.localName==X)&&N.push(Ne)}),N})}},Y.prototype.getElementsByTagName=fe.prototype.getElementsByTagName,Y.prototype.getElementsByTagNameNS=fe.prototype.getElementsByTagNameNS,h(fe,z);function xe(){}xe.prototype.nodeType=y,h(xe,z);function Se(){}Se.prototype={data:"",substringData:function(I,X){return this.data.substring(I,I+X)},appendData:function(I){I=this.data+I,this.nodeValue=this.data=I,this.length=I.length},insertData:function(I,X){this.replaceData(I,0,X)},appendChild:function(I){throw new Error(C[O])},deleteData:function(I,X){this.replaceData(I,X,"")},replaceData:function(I,X,Ce){var N=this.data.substring(0,I),Ne=this.data.substring(I+X);Ce=N+Ce+Ne,this.nodeValue=this.data=Ce,this.length=Ce.length}},h(Se,z);function gt(){}gt.prototype={nodeName:"#text",nodeType:x,splitText:function(I){var X=this.data,Ce=X.substring(I);X=X.substring(0,I),this.data=this.nodeValue=X,this.length=X.length;var N=this.ownerDocument.createTextNode(Ce);return this.parentNode&&this.parentNode.insertBefore(N,this.nextSibling),N}},h(gt,Se);function qe(){}qe.prototype={nodeName:"#comment",nodeType:_},h(qe,Se);function dt(){}dt.prototype={nodeName:"#cdata-section",nodeType:S},h(dt,Se);function yt(){}yt.prototype.nodeType=k,h(yt,z);function Nt(){}Nt.prototype.nodeType=L,h(Nt,z);function nn(){}nn.prototype.nodeType=v,h(nn,z);function zt(){}zt.prototype.nodeType=w,h(zt,z);function mt(){}mt.prototype.nodeName="#document-fragment",mt.prototype.nodeType=T,h(mt,z);function Ue(){}Ue.prototype.nodeType=b,h(Ue,z);function Me(){}Me.prototype.serializeToString=function(I,X,Ce){return Mt.call(I,X,Ce)},z.prototype.toString=Mt;function Mt(I,X){var Ce=[],N=this.nodeType==9&&this.documentElement||this,Ne=N.prefix,Je=N.namespaceURI;if(Je&&Ne==null){var Ne=N.lookupPrefix(Je);if(Ne==null)var se=[{namespace:Je,prefix:null}]}return vt(this,Ce,I,X,se),Ce.join("")}function cn(I,X,Ce){var N=I.prefix||"",Ne=I.namespaceURI;if(!Ne||N==="xml"&&Ne===n.XML||Ne===n.XMLNS)return!1;for(var Je=Ce.length;Je--;){var se=Ce[Je];if(se.prefix===N)return se.namespace!==Ne}return!0}function te(I,X,Ce){I.push(" ",X,'="',Ce.replace(/[<&"]/g,j),'"')}function vt(I,X,Ce,N,Ne){if(Ne||(Ne=[]),N)if(I=N(I),I){if(typeof I=="string"){X.push(I);return}}else return;switch(I.nodeType){case g:var Je=I.attributes,se=Je.length,Wn=I.firstChild,Be=I.tagName;Ce=n.isHTML(I.namespaceURI)||Ce;var ft=Be;if(!Ce&&!I.prefix&&I.namespaceURI){for(var Zt,Lt=0;Lt<Je.length;Lt++)if(Je.item(Lt).name==="xmlns"){Zt=Je.item(Lt).value;break}if(!Zt)for(var Vt=Ne.length-1;Vt>=0;Vt--){var In=Ne[Vt];if(In.prefix===""&&In.namespace===I.namespaceURI){Zt=In.namespace;break}}if(Zt!==I.namespaceURI)for(var Vt=Ne.length-1;Vt>=0;Vt--){var In=Ne[Vt];if(In.namespace===I.namespaceURI){In.prefix&&(ft=In.prefix+":"+Be);break}}}X.push("<",ft);for(var vr=0;vr<se;vr++){var Kn=Je.item(vr);Kn.prefix=="xmlns"?Ne.push({prefix:Kn.localName,namespace:Kn.value}):Kn.nodeName=="xmlns"&&Ne.push({prefix:"",namespace:Kn.value})}for(var vr=0;vr<se;vr++){var Kn=Je.item(vr);if(cn(Kn,Ce,Ne)){var Mn=Kn.prefix||"",ur=Kn.namespaceURI;te(X,Mn?"xmlns:"+Mn:"xmlns",ur),Ne.push({prefix:Mn,namespace:ur})}vt(Kn,X,Ce,N,Ne)}if(Be===ft&&cn(I,Ce,Ne)){var Mn=I.prefix||"",ur=I.namespaceURI;te(X,Mn?"xmlns:"+Mn:"xmlns",ur),Ne.push({prefix:Mn,namespace:ur})}if(Wn||Ce&&!/^(?:meta|link|img|br|hr|input)$/i.test(Be)){if(X.push(">"),Ce&&/^script$/i.test(Be))for(;Wn;)Wn.data?X.push(Wn.data):vt(Wn,X,Ce,N,Ne.slice()),Wn=Wn.nextSibling;else for(;Wn;)vt(Wn,X,Ce,N,Ne.slice()),Wn=Wn.nextSibling;X.push("</",ft,">")}else X.push("/>");return;case E:case T:for(var Wn=I.firstChild;Wn;)vt(Wn,X,Ce,N,Ne.slice()),Wn=Wn.nextSibling;return;case y:return te(X,I.name,I.value);case x:return X.push(I.data.replace(/[<&]/g,j).replace(/]]>/g,"]]&gt;"));case S:return X.push("<![CDATA[",I.data,"]]>");case _:return X.push("<!--",I.data,"-->");case k:var br=I.publicId,dr=I.systemId;if(X.push("<!DOCTYPE ",I.name),br)X.push(" PUBLIC ",br),dr&&dr!="."&&X.push(" ",dr),X.push(">");else if(dr&&dr!=".")X.push(" SYSTEM ",dr,">");else{var Qr=I.internalSubset;Qr&&X.push(" [",Qr,"]"),X.push(">")}return;case b:return X.push("<?",I.target," ",I.data,"?>");case w:return X.push("&",I.nodeName,";");default:X.push("??",I.nodeName)}}function It(I,X,Ce){var N;switch(X.nodeType){case g:N=X.cloneNode(!1),N.ownerDocument=I;case T:break;case y:Ce=!0;break}if(N||(N=X.cloneNode(!1)),N.ownerDocument=I,N.parentNode=null,Ce)for(var Ne=X.firstChild;Ne;)N.appendChild(It(I,Ne,Ce)),Ne=Ne.nextSibling;return N}function Dt(I,X,Ce){var N=new X.constructor;for(var Ne in X)if(Object.prototype.hasOwnProperty.call(X,Ne)){var Je=X[Ne];typeof Je!="object"&&Je!=N[Ne]&&(N[Ne]=Je)}switch(X.childNodes&&(N.childNodes=new J),N.ownerDocument=I,N.nodeType){case g:var se=X.attributes,Be=N.attributes=new me,ft=se.length;Be._ownerElement=N;for(var Zt=0;Zt<ft;Zt++)N.setAttributeNode(Dt(I,se.item(Zt),!0));break;case y:Ce=!0}if(Ce)for(var Lt=X.firstChild;Lt;)N.appendChild(Dt(I,Lt,Ce)),Lt=Lt.nextSibling;return N}function Ee(I,X,Ce){I[X]=Ce}try{if(Object.defineProperty){let I=function(X){switch(X.nodeType){case g:case T:var Ce=[];for(X=X.firstChild;X;)X.nodeType!==7&&X.nodeType!==8&&Ce.push(I(X)),X=X.nextSibling;return Ce.join("");default:return X.nodeValue}};var Et=I;Object.defineProperty(ne.prototype,"length",{get:function(){return we(this),this.$$length}}),Object.defineProperty(z.prototype,"textContent",{get:function(){return I(this)},set:function(X){switch(this.nodeType){case g:case T:for(;this.firstChild;)this.removeChild(this.firstChild);(X||String(X))&&this.appendChild(this.ownerDocument.createTextNode(X));break;default:this.data=X,this.value=X,this.nodeValue=X}}}),Ee=function(X,Ce,N){X["$$"+Ce]=N}}}catch{}return dom.DocumentType=yt,dom.DOMException=W,dom.DOMImplementation=ke,dom.Element=fe,dom.Node=z,dom.NodeList=J,dom.XMLSerializer=Me,dom}var domParser={},entities={},hasRequiredEntities;function requireEntities(){return hasRequiredEntities||(hasRequiredEntities=1,function(t){var e=requireConventions().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES}(entities)),entities}var sax={},hasRequiredSax;function requireSax(){if(hasRequiredSax)return sax;hasRequiredSax=1;var t=requireConventions().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),s=0,o=1,l=2,c=3,f=4,h=5,p=6,g=7;function y(O,P){this.message=O,this.locator=P,Error.captureStackTrace&&Error.captureStackTrace(this,y)}y.prototype=new Error,y.prototype.name=y.name;function x(){}x.prototype={parse:function(O,P,G){var W=this.domBuilder;W.startDocument(),k(P,P={}),S(O,P,G,W,this.errorHandler),W.endDocument()}};function S(O,P,G,W,J){function ne(fe){if(fe>65535){fe-=65536;var xe=55296+(fe>>10),Se=56320+(fe&1023);return String.fromCharCode(xe,Se)}else return String.fromCharCode(fe)}function we(fe){var xe=fe.slice(1,-1);return xe in G?G[xe]:xe.charAt(0)==="#"?ne(parseInt(xe.substr(1).replace("x","0x"))):(J.error("entity not found:"+fe),fe)}function me(fe){if(fe>Y){var xe=O.substring(Y,fe).replace(/&#?\w+;/g,we);z&&re(Y),W.characters(xe,0,fe-Y),Y=fe}}function re(fe,xe){for(;fe>=be&&(xe=ke.exec(O));)ee=xe.index,be=ee+xe[0].length,z.lineNumber++;z.columnNumber=fe-ee+1}for(var ee=0,be=0,ke=/.*(?:\r\n?|\n)|.*$/g,z=W.locator,j=[{currentNSMap:P}],U={},Y=0;;){try{var ce=O.indexOf("<",Y);if(ce<0){if(!O.substr(Y).match(/^\s*$/)){var ge=W.doc,he=ge.createTextNode(O.substr(Y));ge.appendChild(he),W.currentElement=he}return}switch(ce>Y&&me(ce),O.charAt(ce+1)){case"/":var Z=O.indexOf(">",ce+3),ye=O.substring(ce+2,Z).replace(/[ \t\n\r]+$/g,""),Ae=j.pop();Z<0?(ye=O.substring(ce+2).replace(/[\s<].*/,""),J.error("end tag name: "+ye+" is not complete:"+Ae.tagName),Z=ce+1+ye.length):ye.match(/\s</)&&(ye=ye.replace(/[\s<].*/,""),J.error("end tag name: "+ye+" maybe not complete"),Z=ce+1+ye.length);var ot=Ae.localNSMap,Ie=Ae.tagName==ye,V=Ie||Ae.tagName&&Ae.tagName.toLowerCase()==ye.toLowerCase();if(V){if(W.endElement(Ae.uri,Ae.localName,ye),ot)for(var K in ot)Object.prototype.hasOwnProperty.call(ot,K)&&W.endPrefixMapping(K);Ie||J.fatalError("end tag name: "+ye+" is not match the current start tagName:"+Ae.tagName)}else j.push(Ae);Z++;break;case"?":z&&re(ce),Z=L(O,ce,W);break;case"!":z&&re(ce),Z=T(O,ce,W,J);break;default:z&&re(ce);var ae=new F,ue=j[j.length-1].currentNSMap,Z=v(O,ce,ae,ue,we,J),ve=ae.length;if(!ae.closed&&E(O,Z,ae.tagName,U)&&(ae.closed=!0,G.nbsp||J.warning("unclosed xml attribute")),z&&ve){for(var Pe=w(z,{}),Fe=0;Fe<ve;Fe++){var it=ae[Fe];re(it.offset),it.locator=w(z,{})}W.locator=Pe,b(ae,W,ue)&&j.push(ae),W.locator=z}else b(ae,W,ue)&&j.push(ae);t.isHTML(ae.uri)&&!ae.closed?Z=_(O,Z,ae.tagName,we,W):Z++}}catch(fe){if(fe instanceof y)throw fe;J.error("element parse error: "+fe),Z=-1}Z>Y?Y=Z:me(Math.max(ce,Y)+1)}}function w(O,P){return P.lineNumber=O.lineNumber,P.columnNumber=O.columnNumber,P}function v(O,P,G,W,J,ne){function we(z,j,U){G.attributeNames.hasOwnProperty(z)&&ne.fatalError("Attribute "+z+" redefined"),G.addValue(z,j,U)}for(var me,re,ee=++P,be=s;;){var ke=O.charAt(ee);switch(ke){case"=":if(be===o)me=O.slice(P,ee),be=c;else if(be===l)be=c;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(be===c||be===o)if(be===o&&(ne.warning('attribute value must after "="'),me=O.slice(P,ee)),P=ee+1,ee=O.indexOf(ke,P),ee>0)re=O.slice(P,ee).replace(/&#?\w+;/g,J),we(me,re,P-1),be=h;else throw new Error("attribute value no end '"+ke+"' match");else if(be==f)re=O.slice(P,ee).replace(/&#?\w+;/g,J),we(me,re,P),ne.warning('attribute "'+me+'" missed start quot('+ke+")!!"),P=ee+1,be=h;else throw new Error('attribute value must after "="');break;case"/":switch(be){case s:G.setTagName(O.slice(P,ee));case h:case p:case g:be=g,G.closed=!0;case f:case o:break;case l:G.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ne.error("unexpected end of input"),be==s&&G.setTagName(O.slice(P,ee)),ee;case">":switch(be){case s:G.setTagName(O.slice(P,ee));case h:case p:case g:break;case f:case o:re=O.slice(P,ee),re.slice(-1)==="/"&&(G.closed=!0,re=re.slice(0,-1));case l:be===l&&(re=me),be==f?(ne.warning('attribute "'+re+'" missed quot(")!'),we(me,re.replace(/&#?\w+;/g,J),P)):((!t.isHTML(W[""])||!re.match(/^(?:disabled|checked|selected)$/i))&&ne.warning('attribute "'+re+'" missed value!! "'+re+'" instead!!'),we(re,re,P));break;case c:throw new Error("attribute value missed!!")}return ee;case"":ke=" ";default:if(ke<=" ")switch(be){case s:G.setTagName(O.slice(P,ee)),be=p;break;case o:me=O.slice(P,ee),be=l;break;case f:var re=O.slice(P,ee).replace(/&#?\w+;/g,J);ne.warning('attribute "'+re+'" missed quot(")!!'),we(me,re,P);case h:be=p;break}else switch(be){case l:G.tagName,(!t.isHTML(W[""])||!me.match(/^(?:disabled|checked|selected)$/i))&&ne.warning('attribute "'+me+'" missed value!! "'+me+'" instead2!!'),we(me,me,P),P=ee,be=o;break;case h:ne.warning('attribute space is required"'+me+'"!!');case p:be=o,P=ee;break;case c:be=f,P=ee;break;case g:throw new Error("elements closed character '/' and '>' must be connected to")}}ee++}}function b(O,P,G){for(var W=O.tagName,J=null,ke=O.length;ke--;){var ne=O[ke],we=ne.qName,me=ne.value,z=we.indexOf(":");if(z>0)var re=ne.prefix=we.slice(0,z),ee=we.slice(z+1),be=re==="xmlns"&&ee;else ee=we,re=null,be=we==="xmlns"&&"";ne.localName=ee,be!==!1&&(J==null&&(J={},k(G,G={})),G[be]=J[be]=me,ne.uri=t.XMLNS,P.startPrefixMapping(be,me))}for(var ke=O.length;ke--;){ne=O[ke];var re=ne.prefix;re&&(re==="xml"&&(ne.uri=t.XML),re!=="xmlns"&&(ne.uri=G[re||""]))}var z=W.indexOf(":");z>0?(re=O.prefix=W.slice(0,z),ee=O.localName=W.slice(z+1)):(re=null,ee=O.localName=W);var j=O.uri=G[re||""];if(P.startElement(j,ee,W,O),O.closed){if(P.endElement(j,ee,W),J)for(re in J)Object.prototype.hasOwnProperty.call(J,re)&&P.endPrefixMapping(re)}else return O.currentNSMap=G,O.localNSMap=J,!0}function _(O,P,G,W,J){if(/^(?:script|textarea)$/i.test(G)){var ne=O.indexOf("</"+G+">",P),we=O.substring(P+1,ne);if(/[&<]/.test(we))return/^script$/i.test(G)?(J.characters(we,0,we.length),ne):(we=we.replace(/&#?\w+;/g,W),J.characters(we,0,we.length),ne)}return P+1}function E(O,P,G,W){var J=W[G];return J==null&&(J=O.lastIndexOf("</"+G+">"),J<P&&(J=O.lastIndexOf("</"+G)),W[G]=J),J<P}function k(O,P){for(var G in O)Object.prototype.hasOwnProperty.call(O,G)&&(P[G]=O[G])}function T(O,P,G,W){var J=O.charAt(P+2);switch(J){case"-":if(O.charAt(P+3)==="-"){var ne=O.indexOf("-->",P+4);return ne>P?(G.comment(O,P+4,ne-P-4),ne+3):(W.error("Unclosed comment"),-1)}else return-1;default:if(O.substr(P+3,6)=="CDATA["){var ne=O.indexOf("]]>",P+9);return G.startCDATA(),G.characters(O,P+9,ne-P-9),G.endCDATA(),ne+3}var we=C(O,P),me=we.length;if(me>1&&/!doctype/i.test(we[0][0])){var re=we[1][0],ee=!1,be=!1;me>3&&(/^public$/i.test(we[2][0])?(ee=we[3][0],be=me>4&&we[4][0]):/^system$/i.test(we[2][0])&&(be=we[3][0]));var ke=we[me-1];return G.startDTD(re,ee,be),G.endDTD(),ke.index+ke[0].length}}return-1}function L(O,P,G){var W=O.indexOf("?>",P);if(W){var J=O.substring(P,W).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return J?(J[0].length,G.processingInstruction(J[1],J[2]),W+2):-1}return-1}function F(){this.attributeNames={}}F.prototype={setTagName:function(O){if(!i.test(O))throw new Error("invalid tagName:"+O);this.tagName=O},addValue:function(O,P,G){if(!i.test(O))throw new Error("invalid attribute:"+O);this.attributeNames[O]=this.length,this[this.length++]={qName:O,value:P,offset:G}},length:0,getLocalName:function(O){return this[O].localName},getLocator:function(O){return this[O].locator},getQName:function(O){return this[O].qName},getURI:function(O){return this[O].uri},getValue:function(O){return this[O].value}};function C(O,P){var G,W=[],J=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(J.lastIndex=P,J.exec(O);G=J.exec(O);)if(W.push(G),G[1])return W}return sax.XMLReader=x,sax.ParseError=y,sax}var hasRequiredDomParser;function requireDomParser(){if(hasRequiredDomParser)return domParser;hasRequiredDomParser=1;var t=requireConventions(),e=requireDom(),n=requireEntities(),i=requireSax(),s=e.DOMImplementation,o=t.NAMESPACE,l=i.ParseError,c=i.XMLReader;function f(w){this.options=w||{locator:{}}}f.prototype.parseFromString=function(w,v){var b=this.options,_=new c,E=b.domBuilder||new p,k=b.errorHandler,T=b.locator,L=b.xmlns||{},F=/\/x?html?$/.test(v),C=F?n.HTML_ENTITIES:n.XML_ENTITIES;return T&&E.setDocumentLocator(T),_.errorHandler=h(k,E,T),_.domBuilder=b.domBuilder||E,F&&(L[""]=o.HTML),L.xml=L.xml||o.XML,w&&typeof w=="string"?_.parse(w,L,C):_.errorHandler.error("invalid doc source"),E.doc};function h(w,v,b){if(!w){if(v instanceof p)return v;w=v}var _={},E=w instanceof Function;b=b||{};function k(T){var L=w[T];!L&&E&&(L=w.length==2?function(F){w(T,F)}:w),_[T]=L&&function(F){L("[xmldom "+T+"]	"+F+y(b))}||function(){}}return k("warning"),k("error"),k("fatalError"),_}function p(){this.cdata=!1}function g(w,v){v.lineNumber=w.lineNumber,v.columnNumber=w.columnNumber}p.prototype={startDocument:function(){this.doc=new s().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(w,v,b,_){var E=this.doc,k=E.createElementNS(w,b||v),T=_.length;S(this,k),this.currentElement=k,this.locator&&g(this.locator,k);for(var L=0;L<T;L++){var w=_.getURI(L),F=_.getValue(L),b=_.getQName(L),C=E.createAttributeNS(w,b);this.locator&&g(_.getLocator(L),C),C.value=C.nodeValue=F,k.setAttributeNode(C)}},endElement:function(w,v,b){var _=this.currentElement;_.tagName,this.currentElement=_.parentNode},startPrefixMapping:function(w,v){},endPrefixMapping:function(w){},processingInstruction:function(w,v){var b=this.doc.createProcessingInstruction(w,v);this.locator&&g(this.locator,b),S(this,b)},ignorableWhitespace:function(w,v,b){},characters:function(w,v,b){if(w=x.apply(this,arguments),w){if(this.cdata)var _=this.doc.createCDATASection(w);else var _=this.doc.createTextNode(w);this.currentElement?this.currentElement.appendChild(_):/^\s*$/.test(w)&&this.doc.appendChild(_),this.locator&&g(this.locator,_)}},skippedEntity:function(w){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(w){(this.locator=w)&&(w.lineNumber=0)},comment:function(w,v,b){w=x.apply(this,arguments);var _=this.doc.createComment(w);this.locator&&g(this.locator,_),S(this,_)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(w,v,b){var _=this.doc.implementation;if(_&&_.createDocumentType){var E=_.createDocumentType(w,v,b);this.locator&&g(this.locator,E),S(this,E),this.doc.doctype=E}},warning:function(w){console.warn("[xmldom warning]	"+w,y(this.locator))},error:function(w){console.error("[xmldom error]	"+w,y(this.locator))},fatalError:function(w){throw new l(w,this.locator)}};function y(w){if(w)return`
@`+(w.systemId||"")+"#[line:"+w.lineNumber+",col:"+w.columnNumber+"]"}function x(w,v,b){return typeof w=="string"?w.substr(v,b):w.length>=v+b||v?new java.lang.String(w,v,b)+"":w}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(w){p.prototype[w]=function(){return null}});function S(w,v){w.currentElement?w.currentElement.appendChild(v):w.doc.appendChild(v)}return domParser.__DOMHandler=p,domParser.DOMParser=f,domParser.DOMImplementation=e.DOMImplementation,domParser.XMLSerializer=e.XMLSerializer,domParser}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$1;hasRequiredLib$1=1;var t=requireDom();return lib$1.DOMImplementation=t.DOMImplementation,lib$1.XMLSerializer=t.XMLSerializer,lib$1.DOMParser=requireDomParser().DOMParser,lib$1}var libExports$1=requireLib$1();const requestAnimationFrame$1=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,ELEMENT_NODE$2=1,TEXT_NODE$1=3,_URL=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function uuid(){var t=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var i=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(n=="x"?i:i&7|8).toString(16)});return e}function documentHeight(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function isElement(t){return!!(t&&t.nodeType==1)}function isNumber$1(t){return!isNaN(parseFloat(t))&&isFinite(t)}function isFloat$1(t){let e=parseFloat(t);return isNumber$1(t)===!1?!1:typeof t=="string"&&t.indexOf(".")>-1?!0:Math.floor(e)!==e}function prefixed(t){var e=["Webkit","webkit","Moz","O","ms"],n=["-webkit-","-webkit-","-moz-","-o-","-ms-"],i=t.toLowerCase(),s=e.length;if(typeof document>"u"||typeof document.body.style[i]<"u")return t;for(var o=0;o<s;o++)if(typeof document.body.style[n[o]+i]<"u")return n[o]+i;return t}function defaults$1(t){for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];for(var s in i)t[s]===void 0&&(t[s]=i[s])}return t}function extend$1(t){var e=[].slice.call(arguments,1);return e.forEach(function(n){n&&Object.getOwnPropertyNames(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}),t}function insert(t,e,n){var i=locationOf(t,e,n);return e.splice(i,0,t),i}function locationOf(t,e,n,i,s){var o=i||0,l=s||e.length,c=parseInt(o+(l-o)/2),f;return n||(n=function(h,p){if(h>p)return 1;if(h<p)return-1;if(h==p)return 0}),l-o<=0?c:(f=n(e[c],t),l-o===1?f>=0?c:c+1:f===0?c:f===-1?locationOf(t,e,n,c,l):locationOf(t,e,n,o,c))}function indexOfSorted(t,e,n,i,s){var o=i||0,l=s||e.length,c=parseInt(o+(l-o)/2),f;return n||(n=function(h,p){if(h>p)return 1;if(h<p)return-1;if(h==p)return 0}),l-o<=0?-1:(f=n(e[c],t),l-o===1?f===0?c:-1:f===0?c:f===-1?indexOfSorted(t,e,n,c,l):indexOfSorted(t,e,n,o,c))}function bounds(t){var e=window.getComputedStyle(t),n=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],s=0,o=0;return n.forEach(function(l){s+=parseFloat(e[l])||0}),i.forEach(function(l){o+=parseFloat(e[l])||0}),{height:o,width:s}}function borders$1(t){var e=window.getComputedStyle(t),n=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],s=0,o=0;return n.forEach(function(l){s+=parseFloat(e[l])||0}),i.forEach(function(l){o+=parseFloat(e[l])||0}),{height:o,width:s}}function nodeBounds(t){let e,n=t.ownerDocument;if(t.nodeType==Node.TEXT_NODE){let i=n.createRange();i.selectNodeContents(t),e=i.getBoundingClientRect()}else e=t.getBoundingClientRect();return e}function windowBounds(){var t=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function indexOfNode(t,e){for(var n=t.parentNode,i=n.childNodes,s,o=-1,l=0;l<i.length&&(s=i[l],s.nodeType===e&&o++,s!=t);l++);return o}function indexOfTextNode(t){return indexOfNode(t,TEXT_NODE$1)}function indexOfElementNode(t){return indexOfNode(t,ELEMENT_NODE$2)}function isXml(t){return["xml","opf","ncx"].indexOf(t)>-1}function createBlob(t,e){return new Blob([t],{type:e})}function createBlobUrl(t,e){var n,i=createBlob(t,e);return n=_URL.createObjectURL(i),n}function revokeBlobUrl(t){return _URL.revokeObjectURL(t)}function createBase64Url(t,e){var n,i;if(typeof t=="string")return n=btoa(t),i="data:"+e+";base64,"+n,i}function type(t){return Object.prototype.toString.call(t).slice(8,-1)}function parse(t,e,n){var i,s;return typeof DOMParser>"u"||n?s=libExports$1.DOMParser:s=DOMParser,t.charCodeAt(0)===65279&&(t=t.slice(1)),i=new s().parseFromString(t,e),i}function qs(t,e){var n;if(!t)throw new Error("No Element Provided");if(typeof t.querySelector<"u")return t.querySelector(e);if(n=t.getElementsByTagName(e),n.length)return n[0]}function qsa(t,e){return typeof t.querySelector<"u"?t.querySelectorAll(e):t.getElementsByTagName(e)}function qsp(t,e,n){var i,s;if(typeof t.querySelector<"u"){e+="[";for(var o in n)e+=o+"~='"+n[o]+"'";return e+="]",t.querySelector(e)}else if(i=t.getElementsByTagName(e),s=Array.prototype.slice.call(i,0).filter(function(l){for(var c in n)if(l.getAttribute(c)===n[c])return!0;return!1}),s)return s[0]}function sprint(t,e){var n=t.ownerDocument||t;typeof n.createTreeWalker<"u"?treeWalker(t,e,NodeFilter.SHOW_TEXT):walk(t,function(i){i&&i.nodeType===3&&e(i)})}function treeWalker(t,e,n){var i=document.createTreeWalker(t,n,null,!1);let s;for(;s=i.nextNode();)e(s)}function walk(t,e){if(e(t))return!0;if(t=t.firstChild,t)do{if(walk(t,e))return!0;t=t.nextSibling}while(t)}function blob2base64(t){return new Promise(function(e,n){var i=new FileReader;i.readAsDataURL(t),i.onloadend=function(){e(i.result)}})}function defer(){this.resolve=null,this.reject=null,this.id=uuid(),this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e}),Object.freeze(this)}function querySelectorByType(t,e,n){var i;if(typeof t.querySelector<"u"&&(i=t.querySelector(`${e}[*|type="${n}"]`)),!i||i.length===0){i=qsa(t,e);for(var s=0;s<i.length;s++)if(i[s].getAttributeNS("http://www.idpf.org/2007/ops","type")===n||i[s].getAttribute("epub:type")===n)return i[s]}else return i}function findChildren(t){for(var e=[],n=t.childNodes,i=0;i<n.length;i++){let s=n[i];s.nodeType===1&&e.push(s)}return e}function parents(t){for(var e=[t];t;t=t.parentNode)e.unshift(t);return e}function filterChildren(t,e,n){for(var i=[],s=t.childNodes,o=0;o<s.length;o++){let l=s[o];if(l.nodeType===1&&l.nodeName.toLowerCase()===e){if(n)return l;i.push(l)}}if(!n)return i}function getParentByTagName(t,e){let n;if(!(t===null||e===""))for(n=t.parentNode;n.nodeType===1;){if(n.tagName.toLowerCase()===e)return n;n=n.parentNode}}class RangeObject{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,n){this.startContainer=e,this.startOffset=n,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,n){this.endContainer=e,this.endOffset=n,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let n=e.parentNode,i=Array.prototype.indexOf.call(n.childNodes,e);this.setStart(n,i),this.setEnd(n,i+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let n=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,n)}_commonAncestorContainer(e,n){var i=parents(e||this.startContainer),s=parents(n||this.endContainer);if(i[0]==s[0]){for(var o=0;o<i.length;o++)if(i[o]!=s[o])return i[o-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const utils$2=Object.freeze(Object.defineProperty({__proto__:null,RangeObject,blob2base64,borders:borders$1,bounds,createBase64Url,createBlob,createBlobUrl,defaults:defaults$1,defer,documentHeight,extend:extend$1,filterChildren,findChildren,getParentByTagName,indexOfElementNode,indexOfNode,indexOfSorted,indexOfTextNode,insert,isElement,isFloat:isFloat$1,isNumber:isNumber$1,isXml,locationOf,nodeBounds,parents,parse,prefixed,qs,qsa,qsp,querySelectorByType,requestAnimationFrame:requestAnimationFrame$1,revokeBlobUrl,sprint,treeWalker,type,uuid,walk,windowBounds},Symbol.toStringTag,{value:"Module"}));var path$1,hasRequiredPath;function requirePath(){if(hasRequiredPath)return path$1;if(hasRequiredPath=1,!t)var t={cwd:function(){return"/"}};function e(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+o)}function n(o,l){for(var c="",f=-1,h=0,p,g=0;g<=o.length;++g){if(g<o.length)p=o.charCodeAt(g);else{if(p===47)break;p=47}if(p===47){if(!(f===g-1||h===1))if(f!==g-1&&h===2){if(c.length<2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){for(var y=c.length-1,x=y;x>=0&&c.charCodeAt(x)!==47;--x);if(x!==y){x===-1?c="":c=c.slice(0,x),f=g,h=0;continue}}else if(c.length===2||c.length===1){c="",f=g,h=0;continue}}l&&(c.length>0?c+="/..":c="..")}else c.length>0?c+="/"+o.slice(f+1,g):c=o.slice(f+1,g);f=g,h=0}else p===46&&h!==-1?++h:h=-1}return c}function i(o,l){var c=l.dir||l.root,f=l.base||(l.name||"")+(l.ext||"");return c?c===l.root?c+f:c+o+f:f}var s={resolve:function(){for(var l="",c=!1,f,h=arguments.length-1;h>=-1&&!c;h--){var p;h>=0?p=arguments[h]:(f===void 0&&(f=t.cwd()),p=f),e(p),p.length!==0&&(l=p+"/"+l,c=p.charCodeAt(0)===47)}return l=n(l,!c),c?l.length>0?"/"+l:"/":l.length>0?l:"."},normalize:function(l){if(e(l),l.length===0)return".";var c=l.charCodeAt(0)===47,f=l.charCodeAt(l.length-1)===47;return l=n(l,!c),l.length===0&&!c&&(l="."),l.length>0&&f&&(l+="/"),c?"/"+l:l},isAbsolute:function(l){return e(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,c=0;c<arguments.length;++c){var f=arguments[c];e(f),f.length>0&&(l===void 0?l=f:l+="/"+f)}return l===void 0?".":s.normalize(l)},relative:function(l,c){if(e(l),e(c),l===c||(l=s.resolve(l),c=s.resolve(c),l===c))return"";for(var f=1;f<l.length&&l.charCodeAt(f)===47;++f);for(var h=l.length,p=h-f,g=1;g<c.length&&c.charCodeAt(g)===47;++g);for(var y=c.length,x=y-g,S=p<x?p:x,w=-1,v=0;v<=S;++v){if(v===S){if(x>S){if(c.charCodeAt(g+v)===47)return c.slice(g+v+1);if(v===0)return c.slice(g+v)}else p>S&&(l.charCodeAt(f+v)===47?w=v:v===0&&(w=0));break}var b=l.charCodeAt(f+v),_=c.charCodeAt(g+v);if(b!==_)break;b===47&&(w=v)}var E="";for(v=f+w+1;v<=h;++v)(v===h||l.charCodeAt(v)===47)&&(E.length===0?E+="..":E+="/..");return E.length>0?E+c.slice(g+w):(g+=w,c.charCodeAt(g)===47&&++g,c.slice(g))},_makeLong:function(l){return l},dirname:function(l){if(e(l),l.length===0)return".";for(var c=l.charCodeAt(0),f=c===47,h=-1,p=!0,g=l.length-1;g>=1;--g)if(c=l.charCodeAt(g),c===47){if(!p){h=g;break}}else p=!1;return h===-1?f?"/":".":f&&h===1?"//":l.slice(0,h)},basename:function(l,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');e(l);var f=0,h=-1,p=!0,g;if(c!==void 0&&c.length>0&&c.length<=l.length){if(c.length===l.length&&c===l)return"";var y=c.length-1,x=-1;for(g=l.length-1;g>=0;--g){var S=l.charCodeAt(g);if(S===47){if(!p){f=g+1;break}}else x===-1&&(p=!1,x=g+1),y>=0&&(S===c.charCodeAt(y)?--y===-1&&(h=g):(y=-1,h=x))}return f===h?h=x:h===-1&&(h=l.length),l.slice(f,h)}else{for(g=l.length-1;g>=0;--g)if(l.charCodeAt(g)===47){if(!p){f=g+1;break}}else h===-1&&(p=!1,h=g+1);return h===-1?"":l.slice(f,h)}},extname:function(l){e(l);for(var c=-1,f=0,h=-1,p=!0,g=0,y=l.length-1;y>=0;--y){var x=l.charCodeAt(y);if(x===47){if(!p){f=y+1;break}continue}h===-1&&(p=!1,h=y+1),x===46?c===-1?c=y:g!==1&&(g=1):c!==-1&&(g=-1)}return c===-1||h===-1||g===0||g===1&&c===h-1&&c===f+1?"":l.slice(c,h)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof l);return i("/",l)},parse:function(l){e(l);var c={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return c;var f=l.charCodeAt(0),h=f===47,p;h?(c.root="/",p=1):p=0;for(var g=-1,y=0,x=-1,S=!0,w=l.length-1,v=0;w>=p;--w){if(f=l.charCodeAt(w),f===47){if(!S){y=w+1;break}continue}x===-1&&(S=!1,x=w+1),f===46?g===-1?g=w:v!==1&&(v=1):g!==-1&&(v=-1)}return g===-1||x===-1||v===0||v===1&&g===x-1&&g===y+1?x!==-1&&(y===0&&h?c.base=c.name=l.slice(1,x):c.base=c.name=l.slice(y,x)):(y===0&&h?(c.name=l.slice(1,g),c.base=l.slice(1,x)):(c.name=l.slice(y,g),c.base=l.slice(y,x)),c.ext=l.slice(g,x)),y>0?c.dir=l.slice(0,y-1):h&&(c.dir="/"),c},sep:"/",delimiter:":",posix:null};return path$1=s,path$1}var pathExports=requirePath();const path=getDefaultExportFromCjs(pathExports);class Path{constructor(e){var n,i;n=e.indexOf("://"),n>-1&&(e=new URL(e).pathname),i=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=i.dir+"/",this.filename=i.base,this.extension=i.ext.slice(1)}parse(e){return path.parse(e)}isAbsolute(e){return path.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return path.resolve(this.directory,e)}relative(e){var n=e&&e.indexOf("://")>-1;return n?e:path.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class Url{constructor(e,n){var i=e.indexOf("://")>-1,s=e,o;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=n,!i&&n!==!1&&typeof n!="string"&&window&&window.location&&(this.base=window.location.href),i||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,s=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(o=new Path(this.base),s=o.resolve(s))}this.Path=new Path(s),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var n=e.indexOf("://")>-1,i;return n?e:(i=path.resolve(this.directory,e),this.origin+i)}relative(e){return path.relative(e,this.directory)}toString(){return this.href}}const ELEMENT_NODE$1=1,TEXT_NODE=3,DOCUMENT_NODE=9;class EpubCFI{constructor(e,n,i){var s;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof EpubCFI))return new EpubCFI(e,n,i);if(typeof n=="string"?this.base=this.parseComponent(n):typeof n=="object"&&n.steps&&(this.base=n),s=this.checkType(e),s==="string")return this.str=e,extend$1(this,this.parse(e));if(s==="range")return extend$1(this,this.fromRange(e,this.base,i));if(s==="node")return extend$1(this,this.fromNode(e,this.base,i));if(s==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(type(e)==="Range"||typeof e.startContainer<"u")?"range":e&&typeof e=="object"&&typeof e.nodeType<"u"?"node":e&&typeof e=="object"&&e instanceof EpubCFI?"EpubCFI":!1}parse(e){var n={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},i,s,o;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),i=this.getChapterComponent(e),i?(n.base=this.parseComponent(i),s=this.getPathComponent(e),n.path=this.parseComponent(s),o=this.getRange(e),o&&(n.range=!0,n.start=this.parseComponent(o[0]),n.end=this.parseComponent(o[1])),n.spinePos=n.base.steps[1].index,n):{spinePos:-1})}parseComponent(e){var n={steps:[],terminal:{offset:null,assertion:null}},i=e.split(":"),s=i[0].split("/"),o;return i.length>1&&(o=i[1],n.terminal=this.parseTerminal(o)),s[0]===""&&s.shift(),n.steps=s.map((function(l){return this.parseStep(l)}).bind(this)),n}parseStep(e){var n,i,s,o,l;if(o=e.match(/\[(.*)\]/),o&&o[1]&&(l=o[1]),i=parseInt(e),!isNaN(i))return i%2===0?(n="element",s=i/2-1):(n="text",s=(i-1)/2),{type:n,index:s,id:l||null}}parseTerminal(e){var n,i,s=e.match(/\[(.*)\]/);return s&&s[1]?(n=parseInt(e.split("[")[0]),i=s[1]):n=parseInt(e),isNumber$1(n)||(n=null),{offset:n,assertion:i}}getChapterComponent(e){var n=e.split("!");return n[0]}getPathComponent(e){var n=e.split("!");if(n[1])return n[1].split(",")[0]}getRange(e){var n=e.split(",");return n.length===3?[n[1],n[2]]:!1}getCharecterOffsetComponent(e){var n=e.split(":");return n[1]||""}joinSteps(e){return e?e.map(function(n){var i="";return n.type==="element"&&(i+=(n.index+1)*2),n.type==="text"&&(i+=1+2*n.index),n.id&&(i+="["+n.id+"]"),i}).join("/"):""}segmentString(e){var n="/";return n+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(n+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(n+="["+e.terminal.assertion+"]"),n}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,n){var i,s,o,l;if(typeof e=="string"&&(e=new EpubCFI(e)),typeof n=="string"&&(n=new EpubCFI(n)),e.spinePos>n.spinePos)return 1;if(e.spinePos<n.spinePos)return-1;e.range?(i=e.path.steps.concat(e.start.steps),o=e.start.terminal):(i=e.path.steps,o=e.path.terminal),n.range?(s=n.path.steps.concat(n.start.steps),l=n.start.terminal):(s=n.path.steps,l=n.path.terminal);for(var c=0;c<i.length;c++){if(!i[c])return-1;if(!s[c]||i[c].index>s[c].index)return 1;if(i[c].index<s[c].index)return-1}return i.length<s.length?-1:o.offset>l.offset?1:o.offset<l.offset?-1:0}step(e){var n=e.nodeType===TEXT_NODE?"text":"element";return{id:e.id,tagName:e.tagName,type:n,index:this.position(e)}}filteredStep(e,n){var i=this.filter(e,n),s;if(i)return s=i.nodeType===TEXT_NODE?"text":"element",{id:i.id,tagName:i.tagName,type:s,index:this.filteredPosition(i,n)}}pathTo(e,n,i){for(var s={steps:[],terminal:{offset:null,assertion:null}},o=e,l;o&&o.parentNode&&o.parentNode.nodeType!=DOCUMENT_NODE;)i?l=this.filteredStep(o,i):l=this.step(o),l&&s.steps.unshift(l),o=o.parentNode;return n!=null&&n>=0&&(s.terminal.offset=n,s.steps[s.steps.length-1].type!="text"&&s.steps.push({type:"text",index:0})),s}equalStep(e,n){return!e||!n?!1:e.index===n.index&&e.id===n.id&&e.type===n.type}fromRange(e,n,i){var s={range:!1,base:{},path:{},start:null,end:null},o=e.startContainer,l=e.endContainer,c=e.startOffset,f=e.endOffset,h=!1;if(i&&(h=o.ownerDocument.querySelector("."+i)!=null),typeof n=="string"?(s.base=this.parseComponent(n),s.spinePos=s.base.steps[1].index):typeof n=="object"&&(s.base=n),e.collapsed)h&&(c=this.patchOffset(o,c,i)),s.path=this.pathTo(o,c,i);else{s.range=!0,h&&(c=this.patchOffset(o,c,i)),s.start=this.pathTo(o,c,i),h&&(f=this.patchOffset(l,f,i)),s.end=this.pathTo(l,f,i),s.path={steps:[],terminal:null};var p=s.start.steps.length,g;for(g=0;g<p&&this.equalStep(s.start.steps[g],s.end.steps[g]);g++)g===p-1?s.start.terminal===s.end.terminal&&(s.path.steps.push(s.start.steps[g]),s.range=!1):s.path.steps.push(s.start.steps[g]);s.start.steps=s.start.steps.slice(s.path.steps.length),s.end.steps=s.end.steps.slice(s.path.steps.length)}return s}fromNode(e,n,i){var s={range:!1,base:{},path:{},start:null,end:null};return typeof n=="string"?(s.base=this.parseComponent(n),s.spinePos=s.base.steps[1].index):typeof n=="object"&&(s.base=n),s.path=this.pathTo(e,null,i),s}filter(e,n){var i,s,o,l,c,f=!1;return e.nodeType===TEXT_NODE?(f=!0,o=e.parentNode,i=e.parentNode.classList.contains(n)):(f=!1,i=e.classList.contains(n)),i&&f?(l=o.previousSibling,c=o.nextSibling,l&&l.nodeType===TEXT_NODE?s=l:c&&c.nodeType===TEXT_NODE&&(s=c),s||e):i&&!f?!1:e}patchOffset(e,n,i){if(e.nodeType!=TEXT_NODE)throw new Error("Anchor must be a text node");var s=e,o=n;for(e.parentNode.classList.contains(i)&&(s=e.parentNode);s.previousSibling;){if(s.previousSibling.nodeType===ELEMENT_NODE$1)if(s.previousSibling.classList.contains(i))o+=s.previousSibling.textContent.length;else break;else o+=s.previousSibling.textContent.length;s=s.previousSibling}return o}normalizedMap(e,n,i){var s={},o=-1,l,c=e.length,f,h;for(l=0;l<c;l++)f=e[l].nodeType,f===ELEMENT_NODE$1&&e[l].classList.contains(i)&&(f=TEXT_NODE),l>0&&f===TEXT_NODE&&h===TEXT_NODE?s[l]=o:n===f&&(o=o+1,s[l]=o),h=f;return s}position(e){var n,i;return e.nodeType===ELEMENT_NODE$1?(n=e.parentNode.children,n||(n=findChildren(e.parentNode)),i=Array.prototype.indexOf.call(n,e)):(n=this.textNodes(e.parentNode),i=n.indexOf(e)),i}filteredPosition(e,n){var i,s,o;return e.nodeType===ELEMENT_NODE$1?(i=e.parentNode.children,o=this.normalizedMap(i,ELEMENT_NODE$1,n)):(i=e.parentNode.childNodes,e.parentNode.classList.contains(n)&&(e=e.parentNode,i=e.parentNode.childNodes),o=this.normalizedMap(i,TEXT_NODE,n)),s=Array.prototype.indexOf.call(i,e),o[s]}stepsToXpath(e){var n=[".","*"];return e.forEach(function(i){var s=i.index+1;i.id?n.push("*[position()="+s+" and @id='"+i.id+"']"):i.type==="text"?n.push("text()["+s+"]"):n.push("*["+s+"]")}),n.join("/")}stepsToQuerySelector(e){var n=["html"];return e.forEach(function(i){var s=i.index+1;i.id?n.push("#"+i.id):i.type==="text"||n.push("*:nth-child("+s+")")}),n.join(">")}textNodes(e,n){return Array.prototype.slice.call(e.childNodes).filter(function(i){return i.nodeType===TEXT_NODE?!0:!!(n&&i.classList.contains(n))})}walkToNode(e,n,i){var s=n||document,o=s.documentElement,l,c,f=e.length,h;for(h=0;h<f&&(c=e[h],c.type==="element"?c.id?o=s.getElementById(c.id):(l=o.children||findChildren(o),o=l[c.index]):c.type==="text"&&(o=this.textNodes(o,i)[c.index]),!!o);h++);return o}findNode(e,n,i){var s=n||document,o,l;return!i&&typeof s.evaluate<"u"?(l=this.stepsToXpath(e),o=s.evaluate(l,s,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):i?o=this.walkToNode(e,s,i):o=this.walkToNode(e,s),o}fixMiss(e,n,i,s){var o=this.findNode(e.slice(0,-1),i,s),l=o.childNodes,c=this.normalizedMap(l,TEXT_NODE,s),f,h,p=e[e.length-1].index;for(let g in c){if(!c.hasOwnProperty(g))return;if(c[g]===p)if(f=l[g],h=f.textContent.length,n>h)n=n-h;else{f.nodeType===ELEMENT_NODE$1?o=f.childNodes[0]:o=f;break}}return{container:o,offset:n}}toRange(e,n){var i=e||document,s,o,l,c,f,h=this,p,g,y=n?i.querySelector("."+n)!=null:!1,x;if(typeof i.createRange<"u"?s=i.createRange():s=new RangeObject,h.range?(o=h.start,p=h.path.steps.concat(o.steps),c=this.findNode(p,i,y?n:null),l=h.end,g=h.path.steps.concat(l.steps),f=this.findNode(g,i,y?n:null)):(o=h.path,p=h.path.steps,c=this.findNode(h.path.steps,i,y?n:null)),c)try{o.terminal.offset!=null?s.setStart(c,o.terminal.offset):s.setStart(c,0)}catch{x=this.fixMiss(p,o.terminal.offset,i,y?n:null),s.setStart(x.container,x.offset)}else return console.log("No startContainer found for",this.toString()),null;if(f)try{l.terminal.offset!=null?s.setEnd(f,l.terminal.offset):s.setEnd(f,0)}catch{x=this.fixMiss(g,h.end.terminal.offset,i,y?n:null),s.setEnd(x.container,x.offset)}return s}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,n,i){var s=parseInt(n),o=(e+1)*2,l="/"+o+"/";return l+=(s+1)*2,i&&(l+="["+i+"]"),l}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class Hook{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var n=0;n<arguments[e].length;++n)this.hooks.push(arguments[e][n])}deregister(e){let n;for(let i=0;i<this.hooks.length;i++)if(n=this.hooks[i],n===e){this.hooks.splice(i,1);break}}trigger(){var e=arguments,n=this.context,i=[];return this.hooks.forEach(function(s){try{var o=s.apply(n,e)}catch(l){console.log(l)}o&&typeof o.then=="function"&&i.push(o)}),Promise.all(i)}list(){return this.hooks}clear(){return this.hooks=[]}}function replaceBase(t,e){var n,i,s=e.url,o=s.indexOf("://")>-1;t&&(i=qs(t,"head"),n=qs(i,"base"),n||(n=t.createElement("base"),i.insertBefore(n,i.firstChild)),!o&&window&&window.location&&(s=window.location.origin+s),n.setAttribute("href",s))}function replaceCanonical(t,e){var n,i,s=e.canonical;t&&(n=qs(t,"head"),i=qs(n,"link[rel='canonical']"),i?i.setAttribute("href",s):(i=t.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",s),n.appendChild(i)))}function replaceMeta(t,e){var n,i,s=e.idref;t&&(n=qs(t,"head"),i=qs(n,"link[property='dc.identifier']"),i?i.setAttribute("content",s):(i=t.createElement("meta"),i.setAttribute("name","dc.identifier"),i.setAttribute("content",s),n.appendChild(i)))}function replaceLinks(t,e){var n=t.querySelectorAll("a[href]");if(n.length)for(var i=qs(t.ownerDocument,"base"),s=i?i.getAttribute("href"):void 0,o=(function(c){var f=c.getAttribute("href");if(f.indexOf("mailto:")!==0){var h=f.indexOf("://")>-1;if(h)c.setAttribute("target","_blank");else{var p;try{p=new Url(f,s)}catch{}c.onclick=function(){return p&&p.hash?e(p.Path.path+p.hash):e(p?p.Path.path:f),!1}}}}).bind(this),l=0;l<n.length;l++)o(n[l])}function substitute(t,e,n){return e.forEach(function(i,s){i&&n[s]&&(i=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t=t.replace(new RegExp(i,"g"),n[s]))}),t}function request(t,e,n,i){var s=typeof window<"u"?window.URL:!1,o=s?"blob":"arraybuffer",l=new defer,c=new XMLHttpRequest,f=XMLHttpRequest.prototype,h;"overrideMimeType"in f||Object.defineProperty(f,"overrideMimeType",{value:function(){}}),n&&(c.withCredentials=!0),c.onreadystatechange=g,c.onerror=p,c.open("GET",t,!0);for(h in i)c.setRequestHeader(h,i[h]);e=="json"&&c.setRequestHeader("Accept","application/json"),e||(e=new Path(t).extension),e=="blob"&&(c.responseType=o),isXml(e)&&c.overrideMimeType("text/xml"),e=="binary"&&(c.responseType="arraybuffer"),c.send();function p(y){l.reject(y)}function g(){if(this.readyState===XMLHttpRequest.DONE){var y=!1;if((this.responseType===""||this.responseType==="document")&&(y=this.responseXML),this.status===200||this.status===0||y){var x;if(!this.response&&!y)return l.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),l.promise;if(this.status===403)return l.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),l.promise;y?x=this.responseXML:isXml(e)?x=parse(this.response,"text/xml"):e=="xhtml"?x=parse(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?x=parse(this.response,"text/html"):e=="json"?x=JSON.parse(this.response):e=="blob"?s?x=this.response:x=new Blob([this.response]):x=this.response,l.resolve(x)}else l.reject({status:this.status,message:this.response,stack:new Error().stack})}}return l.promise}class Section{constructor(e,n){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,n?this.hooks=n:(this.hooks={},this.hooks.serialize=new Hook(this),this.hooks.content=new Hook(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var n=e||this.request||request,i=new defer,s=i.promise;return this.contents?i.resolve(this.contents):n(this.url).then((function(o){return this.document=o,this.contents=o.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){i.resolve(this.contents)}).bind(this)).catch(function(o){i.reject(o)}),s}base(){return replaceBase(this.document,this)}render(e){var n=new defer,i=n.promise;return this.output,this.load(e).then((function(s){var o=typeof navigator<"u"&&navigator.userAgent||"",l=o.indexOf("Trident")>=0,c;typeof XMLSerializer>"u"||l?c=libExports$1.DOMParser:c=XMLSerializer;var f=new c;return this.output=f.serializeToString(s),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){n.resolve(this.output)}).bind(this)).catch(function(s){n.reject(s)}),i}find(e){var n=this,i=[],s=e.toLowerCase(),o=function(l){for(var c=l.textContent.toLowerCase(),f=n.document.createRange(),h,p,g=-1,y,x=150;p!=-1;)p=c.indexOf(s,g+1),p!=-1&&(f=n.document.createRange(),f.setStart(l,p),f.setEnd(l,p+s.length),h=n.cfiFromRange(f),l.textContent.length<x?y=l.textContent:(y=l.textContent.substring(p-x/2,p+x/2),y="..."+y+"..."),i.push({cfi:h,excerpt:y})),g=p};return sprint(n.document,function(l){o(l)}),i}search(e,n=5){if(typeof document.createTreeWalker>"u")return this.find(e);let i=[];const s=150,o=this,l=e.toLowerCase(),c=function(g){const S=g.reduce((w,v)=>w+v.textContent,"").toLowerCase().indexOf(l);if(S!=-1){const v=S+l.length;let b=0,_=0;if(S<g[0].length){let E;for(;b<g.length-1&&(_+=g[b].length,!(v<=_));)b+=1;let k=g[0],T=g[b],L=o.document.createRange();L.setStart(k,S);let F=g.slice(0,b).reduce((O,P)=>O+P.textContent.length,0);L.setEnd(T,F>v?v:v-F),E=o.cfiFromRange(L);let C=g.slice(0,b+1).reduce((O,P)=>O+P.textContent,"");C.length>s&&(C=C.substring(S-s/2,S+s/2),C="..."+C+"..."),i.push({cfi:E,excerpt:C})}}},f=document.createTreeWalker(o.document,NodeFilter.SHOW_TEXT,null,!1);let h,p=[];for(;h=f.nextNode();)p.push(h),p.length==n&&(c(p.slice(0,n)),p=p.slice(1,n));return p.length>0&&c(p),i}reconcileLayoutSettings(e){var n={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(i){var s=i.replace("rendition:",""),o=s.indexOf("-"),l,c;o!=-1&&(l=s.slice(0,o),c=s.slice(o+1),n[l]=c)}),n}cfiFromRange(e){return new EpubCFI(e,this.cfiBase).toString()}cfiFromElement(e){return new EpubCFI(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class Spine{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new Hook,this.hooks.content=new Hook,this.hooks.content.register(replaceBase),this.hooks.content.register(replaceCanonical),this.hooks.content.register(replaceMeta),this.epubcfi=new EpubCFI,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,n,i){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((s,o)=>{var l=this.manifest[s.idref],c;s.index=o,s.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,s.index,s.id),s.href&&(s.url=n(s.href,!0),s.canonical=i(s.href)),l&&(s.href=l.href,s.url=n(s.href,!0),s.canonical=i(s.href),l.properties.length&&s.properties.push.apply(s.properties,l.properties)),s.linear==="yes"?(s.prev=(function(){let f=s.index;for(;f>0;){let h=this.get(f-1);if(h&&h.linear)return h;f-=1}}).bind(this),s.next=(function(){let f=s.index;for(;f<this.spineItems.length-1;){let h=this.get(f+1);if(h&&h.linear)return h;f+=1}}).bind(this)):(s.prev=function(){},s.next=function(){}),c=new Section(s,this.hooks),this.append(c)}),this.loaded=!0}get(e){var n=0;if(typeof e>"u")for(;n<this.spineItems.length;){let i=this.spineItems[n];if(i&&i.linear)break;n+=1}else this.epubcfi.isCfiString(e)?n=new EpubCFI(e).spinePos:typeof e=="number"||isNaN(e)===!1?n=e:typeof e=="string"&&e.indexOf("#")===0?n=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],n=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[n]||null}append(e){var n=this.spineItems.length;return e.index=n,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=n,this.spineByHref[encodeURI(e.href)]=n,this.spineByHref[e.href]=n,this.spineById[e.idref]=n,n}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(n,i){n.index=i}),0}remove(e){var n=this.spineItems.indexOf(e);if(n>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(n,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let n=this.get(e);if(n&&n.linear)return n;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let n=this.get(e);if(n&&n.linear)return n;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class Queue{constructor(e){this._q=[],this.context=e,this.tick=requestAnimationFrame$1,this.running=!1,this.paused=!1}enqueue(){var e,n,i,s=[].shift.call(arguments),o=arguments;if(!s)throw new Error("No Task Provided");return typeof s=="function"?(e=new defer,n=e.promise,i={task:s,args:o,deferred:e,promise:n}):i={promise:s},this._q.push(i),this.paused==!1&&!this.running&&this.run(),i.promise}dequeue(){var e,n,i;if(this._q.length&&!this.paused){if(e=this._q.shift(),n=e.task,n)return i=n.apply(this.context,e.args),i&&typeof i.then=="function"?i.then((function(){e.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){e.deferred.reject.apply(this.context,arguments)}).bind(this)):(e.deferred.resolve.apply(this.context,i),e.promise);if(e.promise)return e.promise}else return e=new defer,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new defer),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const EPUBJS_VERSION="0.3",DOM_EVENTS=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],EVENTS={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class Locations{constructor(e,n,i){this.spine=e,this.request=n,this.pause=i||100,this.q=new Queue(this),this.epubcfi=new EpubCFI,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each((function(n){n.linear&&this.q.enqueue(this.process.bind(this),n)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then((function(n){var i=new defer,s=this.parse(n,e.cfiBase);return this._locations=this._locations.concat(s),e.unload(),this.processingTimeout=setTimeout(()=>i.resolve(s),this.pause),i.promise}).bind(this))}parse(e,n,i){var s=[],o,l=e.ownerDocument,c=qs(l,"body"),f=0,h,p=i||this.break,g=function(y){var x=y.length,S,w=0;if(y.textContent.trim().length===0)return!1;for(f==0&&(o=this.createRange(),o.startContainer=y,o.startOffset=0),S=p-f,S>x&&(f+=x,w=x);w<x;)if(S=p-f,f===0&&(w+=1,o=this.createRange(),o.startContainer=y,o.startOffset=w),w+S>=x)f+=x-w,w=x;else{w+=S,o.endContainer=y,o.endOffset=w;let v=new EpubCFI(o,n).toString();s.push(v),f=0}h=y};if(sprint(c,g.bind(this)),o&&o.startContainer&&h){o.endContainer=h,o.endOffset=h.length;let y=new EpubCFI(o,n).toString();s.push(y),f=0}return s}generateFromWords(e,n,i){var s=e?new EpubCFI(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(o){o.linear&&(s?o.index>=s.spinePos&&this.q.enqueue(this.processWords.bind(this),o,n,s,i):this.q.enqueue(this.processWords.bind(this),o,n,s,i))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(e,n,i,s){return s&&this._locationsWords.length>=s?Promise.resolve():e.load(this.request).then((function(o){var l=new defer,c=this.parseWords(o,e,n,i),f=s-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(c.length>=s?c.slice(0,f):c),e.unload(),this.processingTimeout=setTimeout(()=>l.resolve(c),this.pause),l.promise}).bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,n,i,s){var o=n.cfiBase,l=[],c=e.ownerDocument,f=qs(c,"body"),h=i,p=s?s.spinePos!==n.index:!0,g;s&&n.index===s.spinePos&&(g=s.findNode(s.range?s.path.steps.concat(s.start.steps):s.path.steps,e.ownerDocument));var y=function(x){if(!p)if(x===g)p=!0;else return!1;if(x.textContent.length<10&&x.textContent.trim().length===0)return!1;var S=this.countWords(x.textContent),w,v=0;if(S===0)return!1;for(w=h-this._wordCounter,w>S&&(this._wordCounter+=S,v=S);v<S;)if(w=h-this._wordCounter,v+w>=S)this._wordCounter+=S-v,v=S;else{v+=w;let b=new EpubCFI(x,o);l.push({cfi:b.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return sprint(f,y.bind(this)),l}locationFromCfi(e){let n;return EpubCFI.prototype.isCfiString(e)&&(e=new EpubCFI(e)),this._locations.length===0?-1:(n=locationOf(e,this._locations,this.epubcfi.compare),n>this.total?this.total:n)}percentageFromCfi(e){if(this._locations.length===0)return null;var n=this.locationFromCfi(e);return this.percentageFromLocation(n)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var n=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(n=this._locations[e]),n}cfiFromPercentage(e){let n;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let i=new EpubCFI(this._locations[this.total]);return i.collapse(),i.toString()}return n=Math.ceil(this.total*e),this.cfiFromLocation(n)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var n;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(n=this.locationFromCfi(e),this._current=n):n=e,this.emit(EVENTS.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(n)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}EventEmitter(Locations.prototype);class Container{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var n;if(!e)throw new Error("Container File Not Found");if(n=qs(e,"rootfile"),!n)throw new Error("No RootFile Found");this.packagePath=n.getAttribute("full-path"),this.directory=path.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class Packaging{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var n,i,s;if(!e)throw new Error("Package File Not Found");if(n=qs(e,"metadata"),!n)throw new Error("No Metadata Found");if(i=qs(e,"manifest"),!i)throw new Error("No Manifest Found");if(s=qs(e,"spine"),!s)throw new Error("No Spine Found");return this.manifest=this.parseManifest(i),this.navPath=this.findNavPath(i),this.ncxPath=this.findNcxPath(i,s),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=indexOfElementNode(s),this.spine=this.parseSpine(s,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(n),this.metadata.direction=s.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var n={};return n.title=this.getElementText(e,"title"),n.creator=this.getElementText(e,"creator"),n.description=this.getElementText(e,"description"),n.pubdate=this.getElementText(e,"date"),n.publisher=this.getElementText(e,"publisher"),n.identifier=this.getElementText(e,"identifier"),n.language=this.getElementText(e,"language"),n.rights=this.getElementText(e,"rights"),n.modified_date=this.getPropertyText(e,"dcterms:modified"),n.layout=this.getPropertyText(e,"rendition:layout"),n.orientation=this.getPropertyText(e,"rendition:orientation"),n.flow=this.getPropertyText(e,"rendition:flow"),n.viewport=this.getPropertyText(e,"rendition:viewport"),n.media_active_class=this.getPropertyText(e,"media:active-class"),n.spread=this.getPropertyText(e,"rendition:spread"),n}parseManifest(e){var n={},i=qsa(e,"item"),s=Array.prototype.slice.call(i);return s.forEach(function(o){var l=o.getAttribute("id"),c=o.getAttribute("href")||"",f=o.getAttribute("media-type")||"",h=o.getAttribute("media-overlay")||"",p=o.getAttribute("properties")||"";n[l]={href:c,type:f,overlay:h,properties:p.length?p.split(" "):[]}}),n}parseSpine(e,n){var i=[],s=qsa(e,"itemref"),o=Array.prototype.slice.call(s);return o.forEach(function(l,c){var f=l.getAttribute("idref"),h=l.getAttribute("properties")||"",p=h.length?h.split(" "):[],g={id:l.getAttribute("id"),idref:f,linear:l.getAttribute("linear")||"yes",properties:p,index:c};i.push(g)}),i}findUniqueIdentifier(e){var n=e.documentElement.getAttribute("unique-identifier");if(!n)return"";var i=e.getElementById(n);return i&&i.localName==="identifier"&&i.namespaceURI==="http://purl.org/dc/elements/1.1/"&&i.childNodes.length>0?i.childNodes[0].nodeValue.trim():""}findNavPath(e){var n=qsp(e,"item",{properties:"nav"});return n?n.getAttribute("href"):!1}findNcxPath(e,n){var i=qsp(e,"item",{"media-type":"application/x-dtbncx+xml"}),s;return i||(s=n.getAttribute("toc"),s&&(i=e.querySelector(`#${s}`))),i?i.getAttribute("href"):!1}findCoverPath(e){var n=qs(e,"package");n.getAttribute("version");var i=qsp(e,"item",{properties:"cover-image"});if(i)return i.getAttribute("href");var s=qsp(e,"meta",{name:"cover"});if(s){var o=s.getAttribute("content"),l=e.getElementById(o);return l?l.getAttribute("href"):""}else return!1}getElementText(e,n){var i=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",n),s;return!i||i.length===0?"":(s=i[0],s.childNodes.length?s.childNodes[0].nodeValue:"")}getPropertyText(e,n){var i=qsp(e,"meta",{property:n});return i&&i.childNodes.length?i.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let n=e.readingOrder||e.spine;return this.spine=n.map((i,s)=>(i.index=s,i.linear=i.linear||"yes",i)),e.resources.forEach((i,s)=>{this.manifest[s]=i,i.rel&&i.rel[0]==="cover"&&(this.coverPath=i.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((i,s)=>(i.label=i.title,i)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class Navigation{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let n=e.nodeType,i,s;n&&(i=qs(e,"html"),s=qs(e,"ncx")),n?i?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):s&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var n,i=0;i<e.length;i++)n=e[i],n.href&&(this.tocByHref[n.href]=i),n.id&&(this.tocById[n.id]=i),this.length++,n.subitems.length&&this.unpack(n.subitems)}get(e){var n;return e?(e.indexOf("#")===0?n=this.tocById[e.substring(1)]:e in this.tocByHref&&(n=this.tocByHref[e]),this.getByIndex(e,n,this.toc)):this.toc}getByIndex(e,n,i){if(i.length===0)return;const s=i[n];if(s&&(e===s.id||e===s.href))return s;{let o;for(let l=0;l<i.length&&(o=this.getByIndex(e,n,i[l].subitems),!o);++l);return o}}landmark(e){var n;return e?(n=this.landmarksByType[e],this.landmarks[n]):this.landmarks}parseNav(e){var n=querySelectorByType(e,"nav","toc"),i=[];if(!n)return i;let s=filterChildren(n,"ol",!0);return s&&(i=this.parseNavList(s)),i}parseNavList(e,n){const i=[];if(!e||!e.children)return i;for(let s=0;s<e.children.length;s++){const o=this.navItem(e.children[s],n);o&&i.push(o)}return i}navItem(e,n){let i=e.getAttribute("id")||void 0,s=filterChildren(e,"a",!0)||filterChildren(e,"span",!0);if(!s)return;let o=s.getAttribute("href")||"";i||(i=o);let l=s.textContent||"",c=[],f=filterChildren(e,"ol",!0);return f&&(c=this.parseNavList(f,i)),{id:i,href:o,label:l,subitems:c,parent:n}}parseLandmarks(e){var n=querySelectorByType(e,"nav","landmarks"),i=n?qsa(n,"li"):[],s=i.length,o,l=[],c;if(!i||s===0)return l;for(o=0;o<s;++o)c=this.landmarkItem(i[o]),c&&(l.push(c),this.landmarksByType[c.type]=o);return l}landmarkItem(e){let n=filterChildren(e,"a",!0);if(!n)return;let i=n.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,s=n.getAttribute("href")||"",o=n.textContent||"";return{href:s,label:o,type:i}}parseNcx(e){var n=qsa(e,"navPoint"),i=n.length,s,o={},l=[],c,f;if(!n||i===0)return l;for(s=0;s<i;++s)c=this.ncxItem(n[s]),o[c.id]=c,c.parent?(f=o[c.parent],f.subitems.push(c)):l.push(c);return l}ncxItem(e){var n=e.getAttribute("id")||!1,i=qs(e,"content"),s=i.getAttribute("src"),o=qs(e,"navLabel"),l=o.textContent?o.textContent:"",c=[],f=e.parentNode,h;return f&&(f.nodeName==="navPoint"||f.nodeName.split(":").slice(-1)[0]==="navPoint")&&(h=f.getAttribute("id")),{id:n,href:s,label:l,subitems:c,parent:h}}load(e){return e.map(n=>(n.label=n.title,n.subitems=n.children?this.load(n.children):[],n))}forEach(e){return this.toc.forEach(e)}}var table={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},mimeTypes=function(){var t,e,n,i,s={};for(t in table)if(table.hasOwnProperty(t)){for(e in table[t])if(table[t].hasOwnProperty(e))if(n=table[t][e],typeof n=="string")s[n]=t+"/"+e;else for(i=0;i<n.length;i++)s[n[i]]=t+"/"+e}return s}(),defaultValue="text/plain";function lookup(t){return t&&mimeTypes[t.split(".").pop().toLowerCase()]||defaultValue}const mime={lookup};class Resources{constructor(e,n){this.settings={replacements:n&&n.replacements||"base64",archive:n&&n.archive,resolver:n&&n.resolver,request:n&&n.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(n){return e[n]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(e){return e.href}).bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var n=new Url(e),i=mime.lookup(n.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(s=>blob2base64(s)).then(s=>createBase64Url(s,i)):this.settings.request(e,"blob").then(s=>createBlobUrl(s,i))}replacements(){if(this.settings.replacements==="none")return new Promise((function(n){n(this.urls)}).bind(this));var e=this.urls.map(n=>{var i=this.settings.resolver(n);return this.createUrl(i).catch(s=>(console.error(s),null))});return Promise.all(e).then(n=>(this.replacementUrls=n.filter(i=>typeof i=="string"),n))}replaceCss(e,n){var i=[];return e=e||this.settings.archive,n=n||this.settings.resolver,this.cssUrls.forEach((function(s){var o=this.createCssFile(s,e,n).then((function(l){var c=this.urls.indexOf(s);c>-1&&(this.replacementUrls[c]=l)}).bind(this));i.push(o)}).bind(this)),Promise.all(i)}createCssFile(e){var n;if(path.isAbsolute(e))return new Promise(function(l){l()});var i=this.settings.resolver(e),s;this.settings.archive?s=this.settings.archive.getText(i):s=this.settings.request(i,"text");var o=this.urls.map(l=>{var c=this.settings.resolver(l),f=new Path(i).relative(c);return f});return s?s.then(l=>(l=substitute(l,o,this.replacementUrls),this.settings.replacements==="base64"?n=createBase64Url(l,"text/css"):n=createBlobUrl(l,"text/css"),n),l=>new Promise(function(c){c()})):new Promise(function(l){l()})}relativeTo(e,n){return n=n||this.settings.resolver,this.urls.map((function(i){var s=n(i),o=new Path(e).relative(s);return o}).bind(this))}get(e){var n=this.urls.indexOf(e);if(n!==-1)return this.replacementUrls.length?new Promise((function(i,s){i(this.replacementUrls[n])}).bind(this)):this.createUrl(e)}substitute(e,n){var i;return n?i=this.relativeTo(n):i=this.urls,substitute(e,i,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class PageList{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new EpubCFI,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var n=qs(e,"html"),i=qs(e,"ncx");if(n)return this.parseNav(e);if(i)return this.parseNcx(e)}parseNav(e){var n=querySelectorByType(e,"nav","page-list"),i=n?qsa(n,"li"):[],s=i.length,o,l=[],c;if(!i||s===0)return l;for(o=0;o<s;++o)c=this.item(i[o]),l.push(c);return l}parseNcx(e){var n=[],i=0,s,o,l,c=0;if(o=qs(e,"pageList"),!o||(l=qsa(o,"pageTarget"),c=l.length,!l||l.length===0))return n;for(i=0;i<c;++i)s=this.ncxItem(l[i]),n.push(s);return n}ncxItem(e){var n=qs(e,"navLabel"),i=qs(n,"text"),s=i.textContent,o=qs(e,"content"),l=o.getAttribute("src"),c=parseInt(s,10);return{href:l,page:c}}item(e){var n=qs(e,"a"),i=n.getAttribute("href")||"",s=n.textContent||"",o=parseInt(s),l=i.indexOf("epubcfi"),c,f,h;return l!=-1?(c=i.split("#"),f=c[0],h=c.length>1?c[1]:!1,{cfi:h,href:i,packageUrl:f,page:o}):{href:i,page:o}}process(e){e.forEach(function(n){this.pages.push(n.page),n.cfi&&this.locations.push(n.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var n=-1;if(this.locations.length===0)return-1;var i=indexOfSorted(e,this.locations,this.epubcfi.compare);return i!=-1?n=this.pages[i]:(i=locationOf(e,this.locations,this.epubcfi.compare),n=i-1>=0?this.pages[i-1]:this.pages[0],n!==void 0||(n=-1)),n}cfiFromPage(e){var n=-1;typeof e!="number"&&(e=parseInt(e));var i=this.pages.indexOf(e);return i!=-1&&(n=this.locations[i]),n}pageFromPercentage(e){var n=Math.round(this.totalPages*e);return n}percentageFromPage(e){var n=(e-this.firstPage)/this.totalPages;return Math.round(n*1e3)/1e3}percentageFromCfi(e){var n=this.pageFromCfi(e),i=this.percentageFromPage(n);return i}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class Layout{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e<"u"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,n){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),n>=0&&(this._minSpreadWidth=n),this._spread}calculate(e,n,i){var s=1,o=i||0,l=e,c=n,f=Math.floor(l/12),h,p,g,y;this._spread&&l>=this._minSpreadWidth?s=2:s=1,this.name==="reflowable"&&this._flow==="paginated"&&!(i>=0)&&(o=f%2===0?f:f-1),this.name==="pre-paginated"&&(o=0),s>1?(h=l/s-o,g=h+o):(h=l,g=l),this.name==="pre-paginated"&&s>1&&(l=h),p=h*s+o,y=l,this.width=l,this.height=c,this.spreadWidth=p,this.pageWidth=g,this.delta=y,this.columnWidth=h,this.gap=o,this.divisor=s,this.update({width:l,height:c,spreadWidth:p,pageWidth:g,delta:y,columnWidth:h,gap:o,divisor:s})}format(e,n,i){var s;return this.name==="pre-paginated"?s=e.fit(this.columnWidth,this.height,n):this._flow==="paginated"?s=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):i&&i==="horizontal"?s=e.size(null,this.height):s=e.size(this.width,null),s}count(e,n){let i,s;return this.name==="pre-paginated"?(i=1,s=1):this._flow==="paginated"?(n=n||this.delta,i=Math.ceil(e/n),s=i*this.divisor):(n=n||this.height,i=Math.ceil(e/n),s=i),{spreads:i,pages:s}}update(e){if(Object.keys(e).forEach(n=>{this.props[n]===e[n]&&delete e[n]}),Object.keys(e).length>0){let n=extend$1(this.props,e);this.emit(EVENTS.LAYOUT.UPDATED,n,e)}}}EventEmitter(Layout.prototype);class Themes{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var n in e)e.hasOwnProperty(n)&&(typeof e[n]=="string"?this.registerUrl(n,e[n]):this.registerRules(n,e[n]))}registerCss(e,n){this._themes[e]={serialized:n},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,n){var i=new Url(n);this._themes[e]={url:i.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,n){this._themes[e]={rules:n},(this._injected[e]||e=="default")&&this.update(e)}select(e){var n=this._current,i;this._current=e,this.update(e),i=this.rendition.getContents(),i.forEach(s=>{s.removeClass(n),s.addClass(e)})}update(e){var n=this.rendition.getContents();n.forEach(i=>{this.add(e,i)})}inject(e){var n=[],i=this._themes,s;for(var o in i)i.hasOwnProperty(o)&&(o===this._current||o==="default")&&(s=i[o],(s.rules&&Object.keys(s.rules).length>0||s.url&&n.indexOf(s.url)===-1)&&this.add(o,e),this._injected.push(o));this._current!="default"&&e.addClass(this._current)}add(e,n){var i=this._themes[e];!i||!n||(i.url?n.addStylesheet(i.url):i.serialized?(n.addStylesheetCss(i.serialized,e),i.injected=!0):i.rules&&(n.addStylesheetRules(i.rules,e),i.injected=!0))}override(e,n,i){var s=this.rendition.getContents();this._overrides[e]={value:n,priority:i===!0},s.forEach(o=>{o.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var n=this.rendition.getContents();delete this._overrides[e],n.forEach(i=>{i.css(e)})}overrides(e){var n=this._overrides;for(var i in n)n.hasOwnProperty(i)&&e.css(i,n[i].value,n[i].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class Mapping{constructor(e,n,i,s=!1){this.layout=e,this.horizontal=i==="horizontal",this.direction=n||"ltr",this._dev=s}section(e){var n=this.findRanges(e),i=this.rangeListToCfiList(e.section.cfiBase,n);return i}page(e,n,i,s){var o=e&&e.document?e.document.body:!1,l;if(o){if(l=this.rangePairToCfiPair(n,{start:this.findStart(o,i,s),end:this.findEnd(o,i,s)}),this._dev===!0){let c=e.document,f=new EpubCFI(l.start).toRange(c),h=new EpubCFI(l.end).toRange(c),p=c.defaultView.getSelection(),g=c.createRange();p.removeAllRanges(),g.setStart(f.startContainer,f.startOffset),g.setEnd(h.endContainer,h.endOffset),p.addRange(g)}return l}}walk(e,n){if(!(e&&e.nodeType===Node.TEXT_NODE)){var i={acceptNode:function(f){return f.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},s=i.acceptNode;s.acceptNode=i.acceptNode;for(var o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,s,!1),l,c;(l=o.nextNode())&&(c=n(l),!c););return c}}findRanges(e){for(var n=[],i=e.contents.scrollWidth(),s=Math.ceil(i/this.layout.spreadWidth),o=s*this.layout.divisor,l=this.layout.columnWidth,c=this.layout.gap,f,h,p=0;p<o.pages;p++)f=(l+c)*p,h=l*(p+1)+c*p,n.push({start:this.findStart(e.document.body,f,h),end:this.findEnd(e.document.body,f,h)});return n}findStart(e,n,i){for(var s=[e],o,l,c=e;s.length;)if(o=s.shift(),l=this.walk(o,f=>{var h,p,g,y,x;if(x=nodeBounds(f),this.horizontal&&this.direction==="ltr"){if(h=this.horizontal?x.left:x.top,p=this.horizontal?x.right:x.bottom,h>=n&&h<=i)return f;if(p>n)return f;c=f,s.push(f)}else if(this.horizontal&&this.direction==="rtl"){if(h=x.left,p=x.right,p<=i&&p>=n)return f;if(h<i)return f;c=f,s.push(f)}else{if(g=x.top,y=x.bottom,g>=n&&g<=i)return f;if(y>n)return f;c=f,s.push(f)}}),l)return this.findTextStartRange(l,n,i);return this.findTextStartRange(c,n,i)}findEnd(e,n,i){for(var s=[e],o,l=e,c;s.length;)if(o=s.shift(),c=this.walk(o,f=>{var h,p,g,y,x;if(x=nodeBounds(f),this.horizontal&&this.direction==="ltr"){if(h=Math.round(x.left),p=Math.round(x.right),h>i&&l)return l;if(p>i)return f;l=f,s.push(f)}else if(this.horizontal&&this.direction==="rtl"){if(h=Math.round(this.horizontal?x.left:x.top),p=Math.round(this.horizontal?x.right:x.bottom),p<n&&l)return l;if(h<n)return f;l=f,s.push(f)}else{if(g=Math.round(x.top),y=Math.round(x.bottom),g>i&&l)return l;if(y>i)return f;l=f,s.push(f)}}),c)return this.findTextEndRange(c,n,i);return this.findTextEndRange(l,n,i)}findTextStartRange(e,n,i){for(var s=this.splitTextNodeIntoRanges(e),o,l,c,f,h,p=0;p<s.length;p++)if(o=s[p],l=o.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(c=l.left,c>=n)return o}else if(this.horizontal&&this.direction==="rtl"){if(h=l.right,h<=i)return o}else if(f=l.top,f>=n)return o;return s[0]}findTextEndRange(e,n,i){for(var s=this.splitTextNodeIntoRanges(e),o,l,c,f,h,p,g,y=0;y<s.length;y++){if(l=s[y],c=l.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(f=c.left,h=c.right,f>i&&o)return o;if(h>i)return l}else if(this.horizontal&&this.direction==="rtl"){if(f=c.left,h=c.right,h<n&&o)return o;if(f<n)return l}else{if(p=c.top,g=c.bottom,p>i&&o)return o;if(g>i)return l}o=l}return s[s.length-1]}splitTextNodeIntoRanges(e,n){var i=[],s=e.textContent||"",o=s.trim(),l,c=e.ownerDocument,f=n||" ",h=o.indexOf(f);if(h===-1||e.nodeType!=Node.TEXT_NODE)return l=c.createRange(),l.selectNodeContents(e),[l];for(l=c.createRange(),l.setStart(e,0),l.setEnd(e,h),i.push(l),l=!1;h!=-1;)h=o.indexOf(f,h+1),h>0&&(l&&(l.setEnd(e,h),i.push(l)),l=c.createRange(),l.setStart(e,h+1));return l&&(l.setEnd(e,o.length),i.push(l)),i}rangePairToCfiPair(e,n){var i=n.start,s=n.end;i.collapse(!0),s.collapse(!1);let o=new EpubCFI(i,e).toString(),l=new EpubCFI(s,e).toString();return{start:o,end:l}}rangeListToCfiList(e,n){for(var i=[],s,o=0;o<n.length;o++)s=this.rangePairToCfiPair(e,n[o]),i.push(s);return i}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const hasNavigator=typeof navigator<"u",isChrome=hasNavigator&&/Chrome/.test(navigator.userAgent),isWebkit=hasNavigator&&!isChrome&&/AppleWebKit/.test(navigator.userAgent),ELEMENT_NODE=1;class Contents{constructor(e,n,i,s){this.epubcfi=new EpubCFI,this.document=e,this.documentElement=this.document.documentElement,this.content=n||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=s||0,this.cfiBase=i||"",this.epubReadingSystem("epub.js",EPUBJS_VERSION),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return DOM_EVENTS}width(e){var n=this.content;return e&&isNumber$1(e)&&(e=e+"px"),e&&(n.style.width=e),parseInt(this.window.getComputedStyle(n).width)}height(e){var n=this.content;return e&&isNumber$1(e)&&(e=e+"px"),e&&(n.style.height=e),parseInt(this.window.getComputedStyle(n).height)}contentWidth(e){var n=this.content||this.document.body;return e&&isNumber$1(e)&&(e=e+"px"),e&&(n.style.width=e),parseInt(this.window.getComputedStyle(n).width)}contentHeight(e){var n=this.content||this.document.body;return e&&isNumber$1(e)&&(e=e+"px"),e&&(n.style.height=e),parseInt(this.window.getComputedStyle(n).height)}textWidth(){let e,n,i=this.document.createRange(),s=this.content||this.document.body,o=borders$1(s);return i.selectNodeContents(s),e=i.getBoundingClientRect(),n=e.width,o.width&&(n+=o.width),Math.round(n)}textHeight(){let e,n,i=this.document.createRange(),s=this.content||this.document.body;return i.selectNodeContents(s),e=i.getBoundingClientRect(),n=e.bottom,Math.round(n)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,n,i){var s=this.content||this.document.body;return n?s.style.setProperty(e,n,i?"important":""):s.style.removeProperty(e),this.window.getComputedStyle(s)[e]}viewport(e){var n=this.document.querySelector("meta[name='viewport']"),i={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},s=[],o={};if(n&&n.hasAttribute("content")){let l=n.getAttribute("content"),c=l.match(/width\s*=\s*([^,]*)/),f=l.match(/height\s*=\s*([^,]*)/),h=l.match(/initial-scale\s*=\s*([^,]*)/),p=l.match(/minimum-scale\s*=\s*([^,]*)/),g=l.match(/maximum-scale\s*=\s*([^,]*)/),y=l.match(/user-scalable\s*=\s*([^,]*)/);c&&c.length&&typeof c[1]<"u"&&(i.width=c[1]),f&&f.length&&typeof f[1]<"u"&&(i.height=f[1]),h&&h.length&&typeof h[1]<"u"&&(i.scale=h[1]),p&&p.length&&typeof p[1]<"u"&&(i.minimum=p[1]),g&&g.length&&typeof g[1]<"u"&&(i.maximum=g[1]),y&&y.length&&typeof y[1]<"u"&&(i.scalable=y[1])}return o=defaults$1(e||{},i),e&&(o.width&&s.push("width="+o.width),o.height&&s.push("height="+o.height),o.scale&&s.push("initial-scale="+o.scale),o.scalable==="no"?(s.push("minimum-scale="+o.scale),s.push("maximum-scale="+o.scale),s.push("user-scalable="+o.scalable)):(o.scalable&&s.push("user-scalable="+o.scalable),o.minimum&&s.push("minimum-scale="+o.minimum),o.maximum&&s.push("minimum-scale="+o.maximum)),n||(n=this.document.createElement("meta"),n.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(n)),n.setAttribute("content",s.join(", ")),this.window.scrollTo(0,0)),o}expand(){this.emit(EVENTS.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),n=this.textHeight();(e!=this._size.width||n!=this._size.height)&&(this._size={width:e,height:n},this.onResize&&this.onResize(this._size),this.emit(EVENTS.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,n=(function(c){c.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),i=0;i<e.length;i+=1){var s;try{s=e[i].cssRules}catch{return}if(!s)return;for(var o=0;o<s.length;o+=1)if(s[o].media){var l=this.window.matchMedia(s[o].media.mediaText);l.addListener(n)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(n=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),n,i=0;i<e.length;i++)n=e[i],typeof n.naturalWidth<"u"&&n.naturalWidth===0&&(n.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,n){var i,s={left:0,top:0};if(!this.document)return s;if(this.epubcfi.isCfiString(e)){let o=new EpubCFI(e).toRange(this.document,n);if(o){try{if(!o.endContainer||o.startContainer==o.endContainer&&o.startOffset==o.endOffset){let l=o.startContainer.textContent.indexOf(" ",o.startOffset);l==-1&&(l=o.startContainer.textContent.length),o.setEnd(o.startContainer,l)}}catch(l){console.error("setting end offset to start container length failed",l)}if(o.startContainer.nodeType===Node.ELEMENT_NODE)i=o.startContainer.getBoundingClientRect(),s.left=i.left,s.top=i.top;else if(isWebkit){let l=o.startContainer,c=new Range;try{l.nodeType===ELEMENT_NODE?i=l.getBoundingClientRect():o.startOffset+2<l.length?(c.setStart(l,o.startOffset),c.setEnd(l,o.startOffset+2),i=c.getBoundingClientRect()):o.startOffset-2>0?(c.setStart(l,o.startOffset-2),c.setEnd(l,o.startOffset),i=c.getBoundingClientRect()):i=l.parentNode.getBoundingClientRect()}catch(f){console.error(f,f.stack)}}else i=o.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let o=e.substring(e.indexOf("#")+1),l=this.document.getElementById(o);if(l)if(isWebkit){let c=new Range;c.selectNode(l),i=c.getBoundingClientRect()}else i=l.getBoundingClientRect()}return i&&(s.left=i.left,s.top=i.top),s}addStylesheet(e){return new Promise((function(n,i){var s,o=!1;if(!this.document){n(!1);return}if(s=this.document.querySelector("link[href='"+e+"']"),s){n(!0);return}s=this.document.createElement("link"),s.type="text/css",s.rel="stylesheet",s.href=e,s.onload=s.onreadystatechange=function(){!o&&(!this.readyState||this.readyState=="complete")&&(o=!0,setTimeout(()=>{n(!0)},1))},this.document.head.appendChild(s)}).bind(this))}_getStylesheetNode(e){var n;return e="epubjs-inserted-css-"+(e||""),this.document?(n=this.document.getElementById(e),n||(n=this.document.createElement("style"),n.id=e,this.document.head.appendChild(n)),n):!1}addStylesheetCss(e,n){if(!this.document||!e)return!1;var i;return i=this._getStylesheetNode(n),i.innerHTML=e,!0}addStylesheetRules(e,n){var i;if(!(!this.document||!e||e.length===0))if(i=this._getStylesheetNode(n).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var s=0,o=e.length;s<o;s++){var l=1,c=e[s],f=e[s][0],h="";Object.prototype.toString.call(c[1][0])==="[object Array]"&&(c=c[1],l=0);for(var p=c.length;l<p;l++){var g=c[l];h+=g[0]+":"+g[1]+(g[2]?" !important":"")+`;
`}i.insertRule(f+"{"+h+"}",i.cssRules.length)}else Object.keys(e).forEach(x=>{const S=e[x];if(Array.isArray(S))S.forEach(w=>{const b=Object.keys(w).map(_=>`${_}:${w[_]}`).join(";");i.insertRule(`${x}{${b}}`,i.cssRules.length)});else{const v=Object.keys(S).map(b=>`${b}:${S[b]}`).join(";");i.insertRule(`${x}{${v}}`,i.cssRules.length)}})}addScript(e){return new Promise((function(n,i){var s,o=!1;if(!this.document){n(!1);return}s=this.document.createElement("script"),s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){!o&&(!this.readyState||this.readyState=="complete")&&(o=!0,setTimeout(function(){n(!0)},1))},this.document.head.appendChild(s)}).bind(this))}addClass(e){var n;this.document&&(n=this.content||this.document.body,n&&n.classList.add(e))}removeClass(e){var n;this.document&&(n=this.content||this.document.body,n&&n.classList.remove(e))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),DOM_EVENTS.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(DOM_EVENTS.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var n=this.window.getSelection();this.triggerSelectedEvent(n)}).bind(this),250)}triggerSelectedEvent(e){var n,i;e&&e.rangeCount>0&&(n=e.getRangeAt(0),n.collapsed||(i=new EpubCFI(n,this.cfiBase).toString(),this.emit(EVENTS.CONTENTS.SELECTED,i),this.emit(EVENTS.CONTENTS.SELECTED_RANGE,n)))}range(e,n){var i=new EpubCFI(e);return i.toRange(this.document,n)}cfiFromRange(e,n){return new EpubCFI(e,this.cfiBase,n).toString()}cfiFromNode(e,n){return new EpubCFI(e,this.cfiBase,n).toString()}map(e){var n=new Mapping(e);return n.section()}size(e,n){var i={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),i.width=e,this.css("padding","0 "+e/12+"px")),n>=0&&(this.height(n),i.height=n),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(i)}columns(e,n,i,s,o){let l=prefixed("column-axis"),c=prefixed("column-gap"),f=prefixed("column-width"),h=prefixed("column-fill"),g=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),o==="rtl"&&g==="horizontal"&&this.direction(o),this.width(e),this.height(n),this.viewport({width:e,height:n,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),g==="vertical"?(this.css("padding-top",s/2+"px",!0),this.css("padding-bottom",s/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(l,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",s/2+"px",!0),this.css("padding-right",s/2+"px",!0),this.css(l,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(h,"auto"),this.css(c,s+"px"),this.css(f,i+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,n,i){var s="scale("+e+")",o="";this.css("transform-origin","top left"),(n>=0||i>=0)&&(o=" translate("+(n||0)+"px, "+(i||0)+"px )"),this.css("transform",s+o)}fit(e,n,i){var s=this.viewport(),o=parseInt(s.width),l=parseInt(s.height),c=e/o,f=n/l,h=c<f?c:f;if(this.layoutStyle("paginated"),this.width(o),this.height(l),this.overflow("hidden"),this.scaler(h,0,0),this.css("background-size",o*h+"px "+l*h+"px"),this.css("background-color","transparent"),i&&i.properties.includes("page-spread-left")){var p=e-o*h;this.css("margin-left",p+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,n,i,s,o){var l=new Mapping(n,o);return l.page(this,e,i,s)}linksHandler(){replaceLinks(this.content,e=>{this.emit(EVENTS.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let n=prefixed("writing-mode");return e&&this.documentElement&&(this.documentElement.style[n]=e),this.window.getComputedStyle(this.documentElement)[n]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,n){return navigator.epubReadingSystem={name:e,version:n,layoutStyle:this.layoutStyle(),hasFeature:function(i){switch(i){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}EventEmitter(Contents.prototype);class Annotations{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,n,i,s,o,l){let c=encodeURI(n+e),h=new EpubCFI(n).spinePos,p=new Annotation({type:e,cfiRange:n,data:i,sectionIndex:h,cb:s,className:o,styles:l});return this._annotations[c]=p,h in this._annotationsBySectionIndex?this._annotationsBySectionIndex[h].push(c):this._annotationsBySectionIndex[h]=[c],this.rendition.views().forEach(y=>{p.sectionIndex===y.index&&p.attach(y)}),p}remove(e,n){let i=encodeURI(e+n);if(i in this._annotations){let s=this._annotations[i];if(n&&s.type!==n)return;this.rendition.views().forEach(l=>{this._removeFromAnnotationBySectionIndex(s.sectionIndex,i),s.sectionIndex===l.index&&s.detach(l)}),delete this._annotations[i]}}_removeFromAnnotationBySectionIndex(e,n){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(i=>i!==n)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,n,i,s,o){return this.add("highlight",e,n,i,s,o)}underline(e,n,i,s,o){return this.add("underline",e,n,i,s,o)}mark(e,n,i){return this.add("mark",e,n,i)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(s=>{this._annotations[s].attach(e)})}clear(e){let n=e.index;n in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[n].forEach(s=>{this._annotations[s].detach(e)})}show(){}hide(){}}class Annotation{constructor({type:e,cfiRange:n,data:i,sectionIndex:s,cb:o,className:l,styles:c}){this.type=e,this.cfiRange=n,this.data=i,this.sectionIndex=s,this.mark=void 0,this.cb=o,this.className=l,this.styles=c}update(e){this.data=e}attach(e){let{cfiRange:n,data:i,type:s,mark:o,cb:l,className:c,styles:f}=this,h;return s==="highlight"?h=e.highlight(n,i,l,c,f):s==="underline"?h=e.underline(n,i,l,c,f):s==="mark"&&(h=e.mark(n,i,l)),this.mark=h,this.emit(EVENTS.ANNOTATION.ATTACH,h),h}detach(e){let{cfiRange:n,type:i}=this,s;return e&&(i==="highlight"?s=e.unhighlight(n):i==="underline"?s=e.ununderline(n):i==="mark"&&(s=e.unmark(n))),this.mark=void 0,this.emit(EVENTS.ANNOTATION.DETACH,s),s}text(){}}EventEmitter(Annotation.prototype);var marks={},svg={},hasRequiredSvg;function requireSvg(){if(hasRequiredSvg)return svg;hasRequiredSvg=1,Object.defineProperty(svg,"__esModule",{value:!0}),svg.createElement=t;function t(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}return svg.default={createElement:t},svg}var events={},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events;hasRequiredEvents=1,Object.defineProperty(events,"__esModule",{value:!0}),events.proxyMouse=t,events.clone=e,events.default={proxyMouse:t};function t(i,s){function o(h){for(var p=s.length-1;p>=0;p--){var g=s[p],y=h.clientX,x=h.clientY;if(h.touches&&h.touches.length&&(y=h.touches[0].clientX,x=h.touches[0].clientY),!!n(g,i,y,x)){g.dispatchEvent(e(h));break}}}if(i.nodeName==="iframe"||i.nodeName==="IFRAME")try{this.target=i.contentDocument}catch{this.target=i}else this.target=i;for(var l=["mouseup","mousedown","click","touchstart"],c=0;c<l.length;c++){var f=l[c];this.target.addEventListener(f,function(h){return o(h)},!1)}}function e(i){var s=Object.assign({},i,{bubbles:!1});try{return new MouseEvent(i.type,s)}catch{var o=document.createEvent("MouseEvents");return o.initMouseEvent(i.type,!1,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget),o}}function n(i,s,o,l){var c=s.getBoundingClientRect();function f(x,S,w){var v=x.top-c.top,b=x.left-c.left,_=v+x.height,E=b+x.width;return v<=w&&b<=S&&_>w&&E>S}var h=i.getBoundingClientRect();if(!f(h,o,l))return!1;for(var p=i.getClientRects(),g=0,y=p.length;g<y;g++)if(f(p[g],o,l))return!0;return!1}return events}var hasRequiredMarks;function requireMarks(){if(hasRequiredMarks)return marks;hasRequiredMarks=1,Object.defineProperty(marks,"__esModule",{value:!0}),marks.Underline=marks.Highlight=marks.Mark=marks.Pane=void 0;var t=function w(v,b,_){v===null&&(v=Function.prototype);var E=Object.getOwnPropertyDescriptor(v,b);if(E===void 0){var k=Object.getPrototypeOf(v);return k===null?void 0:w(k,b,_)}else{if("value"in E)return E.value;var T=E.get;return T===void 0?void 0:T.call(_)}},e=function(){function w(v,b){for(var _=0;_<b.length;_++){var E=b[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}return function(v,b,_){return b&&w(v.prototype,b),_&&w(v,_),v}}(),n=requireSvg(),i=l(n),s=requireEvents(),o=l(s);function l(w){return w&&w.__esModule?w:{default:w}}function c(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function f(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}function h(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}marks.Pane=function(){function w(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;h(this,w),this.target=v,this.element=i.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),o.default.proxyMouse(this.target,this.marks),this.container=b,this.container.appendChild(this.element),this.render()}return e(w,[{key:"addMark",value:function(b){var _=i.default.createElement("g");return this.element.appendChild(_),b.bind(_,this.container),this.marks.push(b),b.render(),b}},{key:"removeMark",value:function(b){var _=this.marks.indexOf(b);if(_!==-1){var E=b.unbind();this.element.removeChild(E),this.marks.splice(_,1)}}},{key:"render",value:function(){x(this.element,y(this.target,this.container));var b=!0,_=!1,E=void 0;try{for(var k=this.marks[Symbol.iterator](),T;!(b=(T=k.next()).done);b=!0){var L=T.value;L.render()}}catch(F){_=!0,E=F}finally{try{!b&&k.return&&k.return()}finally{if(_)throw E}}}}]),w}();var p=marks.Mark=function(){function w(){h(this,w),this.element=null}return e(w,[{key:"bind",value:function(b,_){this.element=b,this.container=_}},{key:"unbind",value:function(){var b=this.element;return this.element=null,b}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(b){this.element&&this.element.dispatchEvent(b)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var b=[],_=this.element.firstChild;_;)b.push(_.getBoundingClientRect()),_=_.nextSibling;return b}},{key:"filteredRanges",value:function(){var b=Array.from(this.range.getClientRects());return b.filter(function(_){for(var E=0;E<b.length;E++){if(b[E]===_)return!0;var k=S(b[E],_);if(k)return!1}return!0})}}]),w}(),g=marks.Highlight=function(w){f(v,w);function v(b,_,E,k){h(this,v);var T=c(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return T.range=b,T.className=_,T.data=E||{},T.attributes=k||{},T}return e(v,[{key:"bind",value:function(_,E){t(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"bind",this).call(this,_,E);for(var k in this.data)this.data.hasOwnProperty(k)&&(this.element.dataset[k]=this.data[k]);for(var k in this.attributes)this.attributes.hasOwnProperty(k)&&this.element.setAttribute(k,this.attributes[k]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var _=this.element.ownerDocument.createDocumentFragment(),E=this.filteredRanges(),k=this.element.getBoundingClientRect(),T=this.container.getBoundingClientRect(),L=0,F=E.length;L<F;L++){var C=E[L],O=i.default.createElement("rect");O.setAttribute("x",C.left-k.left+T.left),O.setAttribute("y",C.top-k.top+T.top),O.setAttribute("height",C.height),O.setAttribute("width",C.width),_.appendChild(O)}this.element.appendChild(_)}}]),v}(p);marks.Underline=function(w){f(v,w);function v(b,_,E,k){return h(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b,_,E,k))}return e(v,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var _=this.element.ownerDocument.createDocumentFragment(),E=this.filteredRanges(),k=this.element.getBoundingClientRect(),T=this.container.getBoundingClientRect(),L=0,F=E.length;L<F;L++){var C=E[L],O=i.default.createElement("rect");O.setAttribute("x",C.left-k.left+T.left),O.setAttribute("y",C.top-k.top+T.top),O.setAttribute("height",C.height),O.setAttribute("width",C.width),O.setAttribute("fill","none");var P=i.default.createElement("line");P.setAttribute("x1",C.left-k.left+T.left),P.setAttribute("x2",C.left-k.left+T.left+C.width),P.setAttribute("y1",C.top-k.top+T.top+C.height-1),P.setAttribute("y2",C.top-k.top+T.top+C.height-1),P.setAttribute("stroke-width",1),P.setAttribute("stroke","black"),P.setAttribute("stroke-linecap","square"),_.appendChild(O),_.appendChild(P)}this.element.appendChild(_)}}]),v}(g);function y(w,v){var b=v.getBoundingClientRect(),_=w.getBoundingClientRect();return{top:_.top-b.top,left:_.left-b.left,height:w.scrollHeight,width:w.scrollWidth}}function x(w,v){w.style.setProperty("top",v.top+"px","important"),w.style.setProperty("left",v.left+"px","important"),w.style.setProperty("height",v.height+"px","important"),w.style.setProperty("width",v.width+"px","important")}function S(w,v){return v.right<=w.right&&v.left>=w.left&&v.top>=w.top&&v.bottom<=w.bottom}return marks}var marksExports=requireMarks();class IframeView{constructor(e,n){this.settings=extend$1({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},n||{}),this.id="epubjs-view-"+uuid(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new EpubCFI,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var n=document.createElement("div");return n.classList.add("epub-view"),n.style.height="0px",n.style.width="0px",n.style.overflow="hidden",n.style.position="relative",n.style.display="block",e&&e=="horizontal"?n.style.flex="none":n.style.flex="initial",n}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=bounds(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,n){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then((function(i){return this.load(i)}).bind(this)).then((function(){let i=this.contents.writingMode(),s;return this.settings.flow==="scrolled"?s=i.indexOf("vertical")===0?"horizontal":"vertical":s=i.indexOf("vertical")===0?"vertical":"horizontal",i.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(s),this.emit(EVENTS.VIEWS.AXIS,s),this.setWritingMode(i),this.emit(EVENTS.VIEWS.WRITING_MODE,i),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((o,l)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),o()})}).bind(this),(function(i){return this.emit(EVENTS.VIEWS.LOAD_ERROR,i),new Promise((s,o)=>{o(i)})}).bind(this)).then((function(){this.emit(EVENTS.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,n){var i=e||this.settings.width,s=n||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",i,s):this.settings.axis==="horizontal"?this.lock("height",i,s):this.lock("width",i,s),this.settings.width=i,this.settings.height=s}lock(e,n,i){var s=borders$1(this.element),o;this.iframe?o=borders$1(this.iframe):o={width:0,height:0},e=="width"&&isNumber$1(n)&&(this.lockedWidth=n-s.width-o.width),e=="height"&&isNumber$1(i)&&(this.lockedHeight=i-s.height-o.height),e==="both"&&isNumber$1(n)&&isNumber$1(i)&&(this.lockedWidth=n-s.width-o.width,this.lockedHeight=i-s.height-o.height),this.displayed&&this.iframe&&this.expand()}expand(e){var n=this.lockedWidth,i=this.lockedHeight,s;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(n=this.layout.columnWidth,i=this.layout.height):this.settings.axis==="horizontal"?(n=this.contents.textWidth(),n%this.layout.pageWidth>0&&(n=Math.ceil(n/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(s=n/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&s%2>0&&(n+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(i=this.contents.textHeight(),this.settings.flow==="paginated"&&i%this.layout.height>0&&(i=Math.ceil(i/this.layout.height)*this.layout.height)),(this._needsReframe||n!=this._width||i!=this._height)&&this.reframe(n,i),this._expanding=!1)}reframe(e,n){var i;isNumber$1(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),isNumber$1(n)&&(this.element.style.height=n+"px",this.iframe.style.height=n+"px",this._height=n);let s=this.prevBounds?e-this.prevBounds.width:e,o=this.prevBounds?n-this.prevBounds.height:n;i={width:e,height:n,widthDelta:s,heightDelta:o},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let l;for(let c in this.marks)this.marks.hasOwnProperty(c)&&(l=this.marks[c],this.placeMark(l.element,l.range))}),this.onResize(this,i),this.emit(EVENTS.VIEWS.RESIZED,i),this.prevBounds=i,this.elementBounds=bounds(this.element)}load(e){var n=new defer,i=n.promise;if(!this.iframe)return n.reject(new Error("No Iframe Available")),i;if(this.iframe.onload=(function(o){this.onLoad(o,n)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=createBlobUrl(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return n.reject(new Error("No Document Available")),i;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var s=this;MSApp.execUnsafeLocalFunction(function(){s.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return i}onLoad(e,n){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new Contents(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var i=this.document.querySelector("link[rel='canonical']");i?i.setAttribute("href",this.section.canonical):(i=this.document.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(i)),this.contents.on(EVENTS.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(EVENTS.CONTENTS.RESIZE,s=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),n.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var n=new defer;return this.displayed?n.resolve(this):this.render(e).then((function(){this.emit(EVENTS.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,n.resolve(this)}).bind(this),function(i){n.reject(i,this)}),n.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(EVENTS.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(EVENTS.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var n=this.contents.locationOf(e,this.settings.ignoreClass);return{left:n.left,top:n.top}}onDisplayed(e){}onResize(e,n){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=bounds(this.element)),this.elementBounds}highlight(e,n={},i,s="epubjs-hl",o={}){if(!this.contents)return;const l=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},o);let c=this.contents.range(e),f=()=>{this.emit(EVENTS.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new marksExports.Pane(this.iframe,this.element));let h=new marksExports.Highlight(c,s,n,l),p=this.pane.addMark(h);return this.highlights[e]={mark:p,element:p.element,listeners:[f,i]},p.element.setAttribute("ref",s),p.element.addEventListener("click",f),p.element.addEventListener("touchstart",f),i&&(p.element.addEventListener("click",i),p.element.addEventListener("touchstart",i)),p}underline(e,n={},i,s="epubjs-ul",o={}){if(!this.contents)return;const l=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},o);let c=this.contents.range(e),f=()=>{this.emit(EVENTS.VIEWS.MARK_CLICKED,e,n)};n.epubcfi=e,this.pane||(this.pane=new marksExports.Pane(this.iframe,this.element));let h=new marksExports.Underline(c,s,n,l),p=this.pane.addMark(h);return this.underlines[e]={mark:p,element:p.element,listeners:[f,i]},p.element.setAttribute("ref",s),p.element.addEventListener("click",f),p.element.addEventListener("touchstart",f),i&&(p.element.addEventListener("click",i),p.element.addEventListener("touchstart",i)),p}mark(e,n={},i){if(!this.contents)return;if(e in this.marks)return this.marks[e];let s=this.contents.range(e);if(!s)return;let o=s.commonAncestorContainer,l=o.nodeType===1?o:o.parentNode,c=h=>{this.emit(EVENTS.VIEWS.MARK_CLICKED,e,n)};s.collapsed&&o.nodeType===1?(s=new Range,s.selectNodeContents(o)):s.collapsed&&(s=new Range,s.selectNodeContents(l));let f=this.document.createElement("a");return f.setAttribute("ref","epubjs-mk"),f.style.position="absolute",f.dataset.epubcfi=e,n&&Object.keys(n).forEach(h=>{f.dataset[h]=n[h]}),i&&(f.addEventListener("click",i),f.addEventListener("touchstart",i)),f.addEventListener("click",c),f.addEventListener("touchstart",c),this.placeMark(f,s),this.element.appendChild(f),this.marks[e]={element:f,range:s,listeners:[c,i]},l}placeMark(e,n){let i,s,o;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let c=n.getBoundingClientRect();i=c.top,s=c.right}else{let c=n.getClientRects(),f;for(var l=0;l!=c.length;l++)f=c[l],(!o||f.left<o)&&(o=f.left,s=Math.ceil(o/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,i=f.top)}e.style.top=`${i}px`,e.style.left=`${s}px`}unhighlight(e){let n;e in this.highlights&&(n=this.highlights[e],this.pane.removeMark(n.mark),n.listeners.forEach(i=>{i&&(n.element.removeEventListener("click",i),n.element.removeEventListener("touchstart",i))}),delete this.highlights[e])}ununderline(e){let n;e in this.underlines&&(n=this.underlines[e],this.pane.removeMark(n.mark),n.listeners.forEach(i=>{i&&(n.element.removeEventListener("click",i),n.element.removeEventListener("touchstart",i))}),delete this.underlines[e])}unmark(e){let n;e in this.marks&&(n=this.marks[e],this.element.removeChild(n.element),n.listeners.forEach(i=>{i&&(n.element.removeEventListener("click",i),n.element.removeEventListener("touchstart",i))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&revokeBlobUrl(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}EventEmitter(IframeView.prototype);function scrollType(){var t="reverse",e=createDefiner();return document.body.appendChild(e),e.scrollLeft>0?t="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(t="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(t="negative")),document.body.removeChild(e),t}function createDefiner(){var t=document.createElement("div");t.dir="rtl",t.style.position="fixed",t.style.width="1px",t.style.height="1px",t.style.top="0px",t.style.left="0px",t.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var n=document.createElement("span");n.style.width="1px",n.style.display="inline-block";var i=document.createElement("span");return i.style.width="1px",i.style.display="inline-block",e.appendChild(n),e.appendChild(i),t.appendChild(e),t}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return isObject_1=t,isObject_1}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var t=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=t,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var t=require_freeGlobal(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return _root=n,_root}var now_1,hasRequiredNow;function requireNow(){if(hasRequiredNow)return now_1;hasRequiredNow=1;var t=require_root(),e=function(){return t.Date.now()};return now_1=e,now_1}var _trimmedEndIndex,hasRequired_trimmedEndIndex;function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var t=/\s/;function e(n){for(var i=n.length;i--&&t.test(n.charAt(i)););return i}return _trimmedEndIndex=e,_trimmedEndIndex}var _baseTrim,hasRequired_baseTrim;function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var t=require_trimmedEndIndex(),e=/^\s+/;function n(i){return i&&i.slice(0,t(i)+1).replace(e,"")}return _baseTrim=n,_baseTrim}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var t=require_root(),e=t.Symbol;return _Symbol=e,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var t=require_Symbol(),e=Object.prototype,n=e.hasOwnProperty,i=e.toString,s=t?t.toStringTag:void 0;function o(l){var c=n.call(l,s),f=l[s];try{l[s]=void 0;var h=!0}catch{}var p=i.call(l);return h&&(c?l[s]=f:delete l[s]),p}return _getRawTag=o,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var t=Object.prototype,e=t.toString;function n(i){return e.call(i)}return _objectToString=n,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var t=require_Symbol(),e=require_getRawTag(),n=require_objectToString(),i="[object Null]",s="[object Undefined]",o=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?s:i:o&&o in Object(c)?e(c):n(c)}return _baseGetTag=l,_baseGetTag}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function t(e){return e!=null&&typeof e=="object"}return isObjectLike_1=t,isObjectLike_1}var isSymbol_1,hasRequiredIsSymbol;function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Symbol]";function i(s){return typeof s=="symbol"||e(s)&&t(s)==n}return isSymbol_1=i,isSymbol_1}var toNumber_1,hasRequiredToNumber;function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var t=require_baseTrim(),e=requireIsObject(),n=requireIsSymbol(),i=NaN,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function f(h){if(typeof h=="number")return h;if(n(h))return i;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var g=o.test(h);return g||l.test(h)?c(h.slice(2),g?2:8):s.test(h)?i:+h}return toNumber_1=f,toNumber_1}var debounce_1,hasRequiredDebounce;function requireDebounce(){if(hasRequiredDebounce)return debounce_1;hasRequiredDebounce=1;var t=requireIsObject(),e=requireNow(),n=requireToNumber(),i="Expected a function",s=Math.max,o=Math.min;function l(c,f,h){var p,g,y,x,S,w,v=0,b=!1,_=!1,E=!0;if(typeof c!="function")throw new TypeError(i);f=n(f)||0,t(h)&&(b=!!h.leading,_="maxWait"in h,y=_?s(n(h.maxWait)||0,f):y,E="trailing"in h?!!h.trailing:E);function k(J){var ne=p,we=g;return p=g=void 0,v=J,x=c.apply(we,ne),x}function T(J){return v=J,S=setTimeout(C,f),b?k(J):x}function L(J){var ne=J-w,we=J-v,me=f-ne;return _?o(me,y-we):me}function F(J){var ne=J-w,we=J-v;return w===void 0||ne>=f||ne<0||_&&we>=y}function C(){var J=e();if(F(J))return O(J);S=setTimeout(C,L(J))}function O(J){return S=void 0,E&&p?k(J):(p=g=void 0,x)}function P(){S!==void 0&&clearTimeout(S),v=0,p=w=g=S=void 0}function G(){return S===void 0?x:O(e())}function W(){var J=e(),ne=F(J);if(p=arguments,g=this,w=J,ne){if(S===void 0)return T(w);if(_)return clearTimeout(S),S=setTimeout(C,f),k(w)}return S===void 0&&(S=setTimeout(C,f)),x}return W.cancel=P,W.flush=G,W}return debounce_1=l,debounce_1}var throttle_1,hasRequiredThrottle;function requireThrottle(){if(hasRequiredThrottle)return throttle_1;hasRequiredThrottle=1;var t=requireDebounce(),e=requireIsObject(),n="Expected a function";function i(s,o,l){var c=!0,f=!0;if(typeof s!="function")throw new TypeError(n);return e(l)&&(c="leading"in l?!!l.leading:c,f="trailing"in l?!!l.trailing:f),t(s,o,{leading:c,maxWait:o,trailing:f})}return throttle_1=i,throttle_1}var throttleExports=requireThrottle();const throttle$1=getDefaultExportFromCjs(throttleExports);class Stage{constructor(e){this.settings=e||{},this.id="epubjs-container-"+uuid(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let n=e.height,i=e.width,s=e.overflow||!1,o=e.axis||"vertical",l=e.direction;extend$1(this.settings,e),e.height&&isNumber$1(e.height)&&(n=e.height+"px"),e.width&&isNumber$1(e.width)&&(i=e.width+"px");let c=document.createElement("div");return c.id=this.id,c.classList.add("epub-container"),c.style.wordSpacing="0",c.style.lineHeight="0",c.style.verticalAlign="top",c.style.position="relative",o==="horizontal"&&(c.style.display="flex",c.style.flexDirection="row",c.style.flexWrap="nowrap"),i&&(c.style.width=i),n&&(c.style.height=n),s&&(s==="scroll"&&o==="vertical"?(c.style["overflow-y"]=s,c.style["overflow-x"]="hidden"):s==="scroll"&&o==="horizontal"?(c.style["overflow-y"]="hidden",c.style["overflow-x"]=s):c.style.overflow=s),l&&(c.dir=l,c.style.direction=l),l&&this.settings.fullsize&&(document.body.style.direction=l),c}wrap(e){var n=document.createElement("div");return n.style.visibility="hidden",n.style.overflow="hidden",n.style.width="0",n.style.height="0",n.appendChild(e),n}getElement(e){var n;if(isElement(e)?n=e:typeof e=="string"&&(n=document.getElementById(e)),!n)throw new Error("Not an Element");return n}attachTo(e){var n=this.getElement(e),i;if(n)return this.settings.hidden?i=this.wrapper:i=this.container,n.appendChild(i),this.element=n,n}getContainer(){return this.container}onResize(e){(!isNumber$1(this.settings.width)||!isNumber$1(this.settings.height))&&(this.resizeFunc=throttle$1(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,n){var i;let s=e||this.settings.width,o=n||this.settings.height;e===null?(i=this.element.getBoundingClientRect(),i.width&&(e=Math.floor(i.width),this.container.style.width=e+"px")):isNumber$1(e)?this.container.style.width=e+"px":this.container.style.width=e,n===null?(i=i||this.element.getBoundingClientRect(),i.height&&(n=i.height,this.container.style.height=n+"px")):isNumber$1(n)?this.container.style.height=n+"px":this.container.style.height=n,isNumber$1(e)||(e=this.container.clientWidth),isNumber$1(n)||(n=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let l=windowBounds(),c=window.getComputedStyle(document.body),f={left:parseFloat(c["padding-left"])||0,right:parseFloat(c["padding-right"])||0,top:parseFloat(c["padding-top"])||0,bottom:parseFloat(c["padding-bottom"])||0};return s||(e=l.width-f.left-f.right),(this.settings.fullsize&&!o||!o)&&(n=l.height-f.top-f.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:n-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?windowBounds():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,n){var i="#"+this.id+" ",s="";this.sheet||(this.sheet=this.getSheet()),n.forEach(function(o){for(var l in o)o.hasOwnProperty(l)&&(s+=l+":"+o[l]+";")}),this.sheet.insertRule(i+e+" {"+s+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class Views{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,n){return this._views.splice(n,0,e),this.container&&(n<this.container.children.length?this.container.insertBefore(e.element,this.container.children[n]):this.container.appendChild(e.element)),this.length++,e}remove(e){var n=this._views.indexOf(e);n>-1&&this._views.splice(n,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,n=this.length;if(this.length){for(var i=0;i<n;i++)e=this._views[i],this.destroy(e);this._views=[],this.length=0}}find(e){for(var n,i=this.length,s=0;s<i;s++)if(n=this._views[s],n.displayed&&n.section.index==e.index)return n}displayed(){for(var e=[],n,i=this.length,s=0;s<i;s++)n=this._views[s],n.displayed&&e.push(n);return e}show(){for(var e,n=this.length,i=0;i<n;i++)e=this._views[i],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,n=this.length,i=0;i<n;i++)e=this._views[i],e.displayed&&e.hide();this.hidden=!0}}class DefaultViewManager{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new Queue(this),this.settings=extend$1(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),extend$1(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,n){let i=e.tagName;typeof this.settings.fullsize>"u"&&i&&(i.toLowerCase()=="body"||i.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=n,this.settings.rtlScrollType=scrollType(),this.stage=new Stage({width:n.width,height:n.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new Views(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",(function(n){this.destroy()}).bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:n}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(EVENTS.MANAGERS.ORIENTATION_CHANGE,n)}).bind(this),500)}onResized(e){this.resize()}resize(e,n,i){let s=this.stage.size(e,n);if(this.winBounds=windowBounds(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===s.width&&this._stageSize.height===s.height||(this._stageSize=s,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(EVENTS.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},i))}createView(e,n){return new this.View(e,extend$1(this.viewSettings,{forceRight:n}))}handleNextPrePaginated(e,n,i){let s;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||n.index===0)return;if(s=n.next(),s&&!s.properties.includes("page-spread-left"))return i.call(this,s)}}display(e,n){var i=new defer,s=i.promise;(n===e.href||isNumber$1(n))&&(n=void 0);var o=this.views.find(e);if(o&&e&&this.layout.name!=="pre-paginated"){let c=o.offset();if(this.settings.direction==="ltr")this.scrollTo(c.left,c.top,!0);else{let f=o.width();this.scrollTo(c.left+f,c.top,!0)}if(n){let f=o.locationOf(n),h=o.width();this.moveTo(f,h)}return i.resolve(),s}this.clear();let l=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(l=!0),this.add(e,l).then((function(c){if(n){let f=c.locationOf(n),h=c.width();this.moveTo(f,h)}}).bind(this),c=>{i.reject(c)}).then((function(){return this.handleNextPrePaginated(l,e,this.add)}).bind(this)).then((function(){this.views.show(),i.resolve()}).bind(this)),s}afterDisplayed(e){this.emit(EVENTS.MANAGERS.ADDED,e)}afterResized(e){this.emit(EVENTS.MANAGERS.RESIZE,e.section)}moveTo(e,n){var i=0,s=0;this.isPaginated?(i=Math.floor(e.left/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollWidth&&(i=this.container.scrollWidth-this.layout.delta),s=Math.floor(e.top/this.layout.delta)*this.layout.delta,s+this.layout.delta>this.container.scrollHeight&&(s=this.container.scrollHeight-this.layout.delta)):s=e.top,this.settings.direction==="rtl"&&(i=i+this.layout.delta,i=i-n),this.scrollTo(i,s,!0)}add(e,n){var i=this.createView(e,n);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(EVENTS.VIEWS.AXIS,s=>{this.updateAxis(s)}),i.on(EVENTS.VIEWS.WRITING_MODE,s=>{this.updateWritingMode(s)}),i.display(this.request)}append(e,n){var i=this.createView(e,n);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(EVENTS.VIEWS.AXIS,s=>{this.updateAxis(s)}),i.on(EVENTS.VIEWS.WRITING_MODE,s=>{this.updateWritingMode(s)}),i.display(this.request)}prepend(e,n){var i=this.createView(e,n);return i.on(EVENTS.VIEWS.RESIZED,s=>{this.counter(s)}),this.views.prepend(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(EVENTS.VIEWS.AXIS,s=>{this.updateAxis(s)}),i.on(EVENTS.VIEWS.WRITING_MODE,s=>{this.updateWritingMode(s)}),i.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,n;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,n<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft,n>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(n=this.container.scrollLeft+this.layout.delta*-1,n>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let s=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(s=!0),this.append(e,s).then((function(){return this.handleNextPrePaginated(s,e,this.append)}).bind(this),o=>o).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var e,n;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,n=this.container.scrollLeft,n>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(n=this.container.scrollLeft+this.container.offsetWidth,n<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(n=this.container.scrollLeft,n<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let s=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(s=!0),this.prepend(e,s).then((function(){var o;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(o=e.prev(),o))return this.prepend(o)}).bind(this),o=>o).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),n=this.container.getBoundingClientRect(),i=n.height<window.innerHeight?n.height:window.innerHeight,s=n.width<window.innerWidth?n.width:window.innerWidth,o=this.settings.axis==="vertical";this.settings.direction;let l=0,c=0;return this.settings.fullsize&&(l=o?window.scrollY:window.scrollX),e.map(h=>{let{index:p,href:g}=h.section,y=h.position(),x=h.width(),S=h.height(),w,v,b,_;o?(w=l+n.top-y.top+c,v=w+i-c,_=this.layout.count(S,i).pages,b=i):(w=l+n.left-y.left+c,v=w+s-c,_=this.layout.count(x,s).pages,b=s);let E=Math.ceil(w/b),k=[],T=Math.ceil(v/b);if(this.settings.direction==="rtl"&&!o){let C=E;E=_-T,T=_-C}k=[];for(var L=E;L<=T;L++){let C=L+1;k.push(C)}let F=this.mapping.page(h.contents,h.section.cfiBase,w,v);return{index:p,href:g,pages:k,totalPages:_,mapping:F}})}paginatedLocation(){let e=this.visible(),n=this.container.getBoundingClientRect(),i=0,s=0;return this.settings.fullsize&&(i=window.scrollX),e.map(l=>{let{index:c,href:f}=l.section,h,p=l.position(),g=l.width(),y,x,S;this.settings.direction==="rtl"?(h=n.right-i,S=Math.min(Math.abs(h-p.left),this.layout.width)-s,x=p.width-(p.right-h)-s,y=x-S):(h=n.left+i,S=Math.min(p.right-h,this.layout.width)-s,y=h-p.left+s,x=y+S),s+=S;let w=this.mapping.page(l.contents,l.section.cfiBase,y,x),v=this.layout.count(g).pages,b=Math.floor(y/this.layout.pageWidth),_=[],E=Math.floor(x/this.layout.pageWidth);if(b<0&&(b=0,E=E+1),this.settings.direction==="rtl"){let T=b;b=v-E,E=v-T}for(var k=b+1;k<=E;k++){let T=k;_.push(T)}return{index:c,href:f,pages:_,totalPages:v,mapping:w}})}isVisible(e,n,i,s){var o=e.position(),l=s||this.bounds();return this.settings.axis==="horizontal"&&o.right>l.left-n&&o.left<l.right+i?!0:this.settings.axis==="vertical"&&o.bottom>l.top-n&&o.top<l.bottom+i}visible(){for(var e=this.bounds(),n=this.views.displayed(),i=n.length,s=[],o,l,c=0;c<i;c++)l=n[c],o=this.isVisible(l,0,0,e),o===!0&&s.push(l);return s}scrollBy(e,n,i){let s=this.settings.direction==="rtl"?-1:1;i&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*s,n*s):(e&&(this.container.scrollLeft+=e*s),n&&(this.container.scrollTop+=n)),this.scrolled=!0}scrollTo(e,n,i){i&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,n):(this.container.scrollLeft=e,this.container.scrollTop=n),this.scrolled=!0}onScroll(){let e,n;this.settings.fullsize?(e=window.scrollY,n=window.scrollX):(e=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=n,this.ignore?this.ignore=!1:(this.emit(EVENTS.MANAGERS.SCROLL,{top:e,left:n}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(EVENTS.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new Mapping(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(n){n&&n.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,n){!n&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new Mapping(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,n="auto"){let i=e==="paginated"||e==="auto";this.isPaginated=i,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=i?"hidden":n,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(n){const i=n&&n.contents;i&&e.push(i)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}EventEmitter(DefaultViewManager.prototype);const PI_D2=Math.PI/2,EASING_EQUATIONS={easeOutSine:function(t){return Math.sin(t*PI_D2)},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInCubic:function(t){return Math.pow(t,3)}};class Snap{constructor(e,n){this.settings=extend$1({duration:80,minVelocity:.2,minDistance:10,easing:EASING_EQUATIONS.easeInCubic},n||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(EVENTS.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(EVENTS.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let n=e.contents;["touchstart","touchmove","touchend"].forEach(i=>{n.on(i,s=>this.triggerViewEvent(s,n))})}triggerViewEvent(e,n){this.emit(e.type,e,n)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:n,screenY:i}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=n,this.startTouchY=i,this.startTime=this.now()),this.endTouchX=n,this.endTouchY=i,this.endTime=this.now()}onTouchMove(e){let{screenX:n,screenY:i}=e.touches[0],s=Math.abs(i-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&s<10&&(this.element.scrollLeft-=n-this.endTouchX),this.endTouchX=n,this.endTouchY=i,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let n=this.wasSwiped();n!==0?this.snap(n):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,n=this.endTouchX-this.startTouchX,i=Math.abs(n),s=this.endTime-this.startTime,o=n/s,l=this.settings.minVelocity;if(i<=this.settings.minDistance||i>=e)return 0;if(o>l)return-1;if(o<-l)return 1}needsSnap(){let e=this.scrollLeft,n=this.layout.pageWidth*this.layout.divisor;return e%n!==0}snap(e=0){let n=this.scrollLeft,i=this.layout.pageWidth*this.layout.divisor,s=Math.round(n/i)*i;return e&&(s+=e*i),this.smoothScrollTo(s)}smoothScrollTo(e){const n=new defer,i=this.scrollLeft,s=this.now(),o=this.settings.duration,l=this.settings.easing;this.snapping=!0;function c(){const f=this.now(),h=Math.min(1,(f-s)/o);if(l(h),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,n.resolve();return}h<1?(window.requestAnimationFrame(c.bind(this)),this.scrollTo(i+(e-i)*h,0)):(this.scrollTo(e,0),this.snapping=!1,n.resolve())}return c.call(this),n.promise}scrollTo(e=0,n=0){this.fullsize?window.scroll(e,n):(this.scroller.scrollLeft=e,this.scroller.scrollTop=n)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}EventEmitter(Snap.prototype);var debounceExports=requireDebounce();const debounce=getDefaultExportFromCjs(debounceExports);class ContinuousViewManager extends DefaultViewManager{constructor(e){super(e),this.name="continuous",this.settings=extend$1(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),extend$1(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,n){return DefaultViewManager.prototype.display.call(this,e,n).then((function(){return this.fill()}).bind(this))}fill(e){var n=e||new defer;return this.q.enqueue(()=>this.check()).then(i=>{i?this.fill(n):n.resolve()}),n.promise}moveTo(e){var n=0,i=0;this.isPaginated?(n=Math.floor(e.left/this.layout.delta)*this.layout.delta,n+this.settings.offsetDelta):(i=e.top,e.top+this.settings.offsetDelta),(n>0||i>0)&&this.scrollBy(n,i,!0)}afterResized(e){this.emit(EVENTS.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var n=this.createView(e);return this.views.append(n),n.on(EVENTS.VIEWS.RESIZED,i=>{n.expanded=!0}),n.on(EVENTS.VIEWS.AXIS,i=>{this.updateAxis(i)}),n.on(EVENTS.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.display(this.request)}append(e){var n=this.createView(e);return n.on(EVENTS.VIEWS.RESIZED,i=>{n.expanded=!0}),n.on(EVENTS.VIEWS.AXIS,i=>{this.updateAxis(i)}),n.on(EVENTS.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n}prepend(e){var n=this.createView(e);return n.on(EVENTS.VIEWS.RESIZED,i=>{this.counter(i),n.expanded=!0}),n.on(EVENTS.VIEWS.AXIS,i=>{this.updateAxis(i)}),n.on(EVENTS.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.prepend(n),n.onDisplayed=this.afterDisplayed.bind(this),n}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var n=this.bounds(),i=this.views.all(),s=i.length,o=typeof e<"u"?e:this.settings.offset||0,l,c,f=new defer,h=[],p=0;p<s;p++)if(c=i[p],l=this.isVisible(c,o,o,n),l===!0)if(c.displayed)c.show();else{let g=c.display(this.request).then(function(y){y.show()},y=>{c.hide()});h.push(g)}else this.q.enqueue(c.destroy.bind(c)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return h.length?Promise.all(h).catch(g=>{f.reject(g)}):(f.resolve(),f.promise)}check(e,n){var i=new defer,s=[],o=this.settings.axis==="horizontal",l=this.settings.offset||0;e&&o&&(l=e),n&&!o&&(l=n);var c=this._bounds;let f=o?this.scrollLeft:this.scrollTop,h=o?Math.floor(c.width):c.height,p=o?this.container.scrollWidth:this.container.scrollHeight,g=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",y=this.settings.rtlScrollType,x=this.settings.direction==="rtl";this.settings.fullsize?(o&&x&&y==="negative"||!o&&x&&y==="default")&&(f=f*-1):(x&&y==="default"&&g==="horizontal"&&(f=p-h-f),x&&y==="negative"&&g==="horizontal"&&(f=f*-1));let S=()=>{let E=this.views.first(),k=E&&E.section.prev();k&&s.push(this.prepend(k))},w=()=>{let E=this.views.last(),k=E&&E.section.next();k&&s.push(this.append(k))},v=f+h+l,b=f-l;v>=p&&w(),b<0&&S();let _=s.map(E=>E.display(this.request));return s.length?Promise.all(_).then(()=>this.check()).then(()=>this.update(l),E=>E):(this.q.enqueue((function(){this.update()}).bind(this)),i.resolve(!1),i.promise)}trim(){for(var e=new defer,n=this.views.displayed(),i=n[0],s=n[n.length-1],o=this.views.indexOf(i),l=this.views.indexOf(s),c=this.views.slice(0,o),f=this.views.slice(l+1),h=0;h<c.length-1;h++)this.erase(c[h],c);for(var p=1;p<f.length;p++)this.erase(f[p]);return e.resolve(),e.promise}erase(e,n){var i,s;this.settings.fullsize?(i=window.scrollY,s=window.scrollX):(i=this.container.scrollTop,s=this.container.scrollLeft);var o=e.bounds();this.views.remove(e),n&&(this.settings.axis==="vertical"?this.scrollTo(0,i-o.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(s+Math.floor(o.width),0,!0):this.scrollTo(s,0,!0):this.scrollTo(s-Math.floor(o.width),0,!0))}addEventListeners(e){window.addEventListener("unload",(function(n){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new Snap(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=requestAnimationFrame$1;let n=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*n,this.scrollLeft=window.scrollX*n):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=debounce(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,n,i=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*i,n=window.scrollX*i):(e=this.container.scrollTop,n=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=n,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(n-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=n,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(EVENTS.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(EVENTS.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new Snap(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class Rendition{constructor(e,n){this.settings=extend$1(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),extend$1(this.settings,n),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new Hook(this),this.hooks.serialize=new Hook(this),this.hooks.content=new Hook(this),this.hooks.unloaded=new Hook(this),this.hooks.layout=new Hook(this),this.hooks.render=new Hook(this),this.hooks.show=new Hook(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new Themes(this),this.annotations=new Annotations(this),this.epubcfi=new EpubCFI,this.q=new Queue(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new defer,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var n;return typeof e=="string"&&e==="default"?n=DefaultViewManager:typeof e=="string"&&e==="continuous"?n=ContinuousViewManager:n=e,n}requireView(e){var n;return typeof e=="string"&&e==="iframe"?n=IframeView:n=e,n}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(EVENTS.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(EVENTS.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(EVENTS.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(EVENTS.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(EVENTS.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(EVENTS.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue((function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(EVENTS.RENDITION.ATTACHED)}).bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var n=new defer,i=n.promise,s;return this.displaying=n,this.book.locations.length()&&isFloat$1(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),s=this.book.spine.get(e),s?(this.manager.display(s,e).then(()=>{n.resolve(s),this.displaying=void 0,this.emit(EVENTS.RENDITION.DISPLAYED,s),this.reportLocation()},o=>{this.emit(EVENTS.RENDITION.DISPLAY_ERROR,o)}),i):(n.reject(new Error("No Section Found")),i)}}afterDisplayed(e){e.on(EVENTS.VIEWS.MARK_CLICKED,(n,i)=>this.triggerMarkEvent(n,i,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(EVENTS.RENDITION.RENDERED,e.section,e)}):this.emit(EVENTS.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(EVENTS.RENDITION.REMOVED,e.section,e)})}onResized(e,n){this.emit(EVENTS.RENDITION.RESIZED,{width:e.width,height:e.height},n),this.location&&this.location.start&&this.display(n||this.location.start.cfi)}onOrientationChange(e){this.emit(EVENTS.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,n,i){e&&(this.settings.width=e),n&&(this.settings.height=n),this.manager.resize(e,n,i)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var n,i=this.settings.layout||e.layout||"reflowable",s=this.settings.spread||e.spread||"auto",o=this.settings.orientation||e.orientation||"auto",l=this.settings.flow||e.flow||"auto",c=e.viewport||"",f=this.settings.minSpreadWidth||e.minSpreadWidth||800,h=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),n={layout:i,spread:s,orientation:o,flow:l,viewport:c,minSpreadWidth:f,direction:h},n}flow(e){var n=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(n="scrolled"),(e==="auto"||e==="paginated")&&(n="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(n),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(n),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new Layout(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(EVENTS.LAYOUT.UPDATED,(n,i)=>{this.emit(EVENTS.RENDITION.LAYOUT,n,i)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,n){this.settings.spread=e,n&&(this.settings.minSpreadWidth=n),this._layout&&this._layout.spread(e,n),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var i=this.manager.currentLocation();if(i&&i.then&&typeof i.then=="function")i.then((function(s){let o=this.located(s);!o||!o.start||!o.end||(this.location=o,this.emit(EVENTS.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(EVENTS.RENDITION.RELOCATED,this.location))}).bind(this));else if(i){let s=this.located(i);if(!s||!s.start||!s.end)return;this.location=s,this.emit(EVENTS.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(EVENTS.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then((function(n){return this.located(n)}).bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let n=e[0],i=e[e.length-1],s={start:{index:n.index,href:n.href,cfi:n.mapping.start,displayed:{page:n.pages[0]||1,total:n.totalPages}},end:{index:i.index,href:i.href,cfi:i.mapping.end,displayed:{page:i.pages[i.pages.length-1]||1,total:i.totalPages}}},o=this.book.locations.locationFromCfi(n.mapping.start),l=this.book.locations.locationFromCfi(i.mapping.end);o!=null&&(s.start.location=o,s.start.percentage=this.book.locations.percentageFromLocation(o)),l!=null&&(s.end.location=l,s.end.percentage=this.book.locations.percentageFromLocation(l));let c=this.book.pageList.pageFromCfi(n.mapping.start),f=this.book.pageList.pageFromCfi(i.mapping.end);return c!=-1&&(s.start.page=c),f!=-1&&(s.end.page=f),i.index===this.book.spine.last().index&&s.end.displayed.page>=s.end.displayed.total&&(s.atEnd=!0),n.index===this.book.spine.first().index&&s.start.displayed.page===1&&(s.atStart=!0),s}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){DOM_EVENTS.forEach(n=>{e.on(n,i=>this.triggerViewEvent(i,e))}),e.on(EVENTS.CONTENTS.SELECTED,n=>this.triggerSelectedEvent(n,e))}triggerViewEvent(e,n){this.emit(e.type,e,n)}triggerSelectedEvent(e,n){this.emit(EVENTS.RENDITION.SELECTED,e,n)}triggerMarkEvent(e,n,i){this.emit(EVENTS.RENDITION.MARK_CLICKED,e,n,i)}getRange(e,n){var i=new EpubCFI(e),s=this.manager.visible().filter(function(o){if(i.spinePos===o.index)return!0});if(s.length)return s[0].contents.range(i,n)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(o){o()});let n=e.window.getComputedStyle(e.content,null),i=(e.content.offsetHeight-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)))*.95,s=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-s+"px":"100%")+"!important","max-height":i+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-s+"px":"100%")+"!important","max-height":i+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(o,l){setTimeout(function(){o()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(EVENTS.CONTENTS.LINK_CLICKED,n=>{let i=this.book.path.relative(n);this.display(i)})}injectStylesheet(e,n){let i=e.createElement("link");i.setAttribute("type","text/css"),i.setAttribute("rel","stylesheet"),i.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(i)}injectScript(e,n){let i=e.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",this.settings.script),i.textContent=" ",e.getElementsByTagName("head")[0].appendChild(i)}injectIdentifier(e,n){let i=this.book.packaging.metadata.identifier,s=e.createElement("meta");s.setAttribute("name","dc.relation.ispartof"),i&&s.setAttribute("content",i),e.getElementsByTagName("head")[0].appendChild(s)}}EventEmitter(Rendition.prototype);function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var hasRequiredJszip;function requireJszip(){return hasRequiredJszip||(hasRequiredJszip=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(i,s,o){function l(h,p){if(!s[h]){if(!i[h]){var g=typeof commonjsRequire=="function"&&commonjsRequire;if(!p&&g)return g(h,!0);if(c)return c(h,!0);var y=new Error("Cannot find module '"+h+"'");throw y.code="MODULE_NOT_FOUND",y}var x=s[h]={exports:{}};i[h][0].call(x.exports,function(S){var w=i[h][1][S];return l(w||S)},x,x.exports,n,i,s,o)}return s[h].exports}for(var c=typeof commonjsRequire=="function"&&commonjsRequire,f=0;f<o.length;f++)l(o[f]);return l}({1:[function(n,i,s){var o=n("./utils"),l=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(f){for(var h=[],p,g,y,x,S,w,v,b=0,_=f.length,E=_,k=o.getTypeOf(f)!=="string";b<f.length;)E=_-b,k?(p=f[b++],g=b<_?f[b++]:0,y=b<_?f[b++]:0):(p=f.charCodeAt(b++),g=b<_?f.charCodeAt(b++):0,y=b<_?f.charCodeAt(b++):0),x=p>>2,S=(p&3)<<4|g>>4,w=E>1?(g&15)<<2|y>>6:64,v=E>2?y&63:64,h.push(c.charAt(x)+c.charAt(S)+c.charAt(w)+c.charAt(v));return h.join("")},s.decode=function(f){var h,p,g,y,x,S,w,v=0,b=0,_="data:";if(f.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");f=f.replace(/[^A-Za-z0-9+/=]/g,"");var E=f.length*3/4;if(f.charAt(f.length-1)===c.charAt(64)&&E--,f.charAt(f.length-2)===c.charAt(64)&&E--,E%1!==0)throw new Error("Invalid base64 input, bad content length.");var k;for(l.uint8array?k=new Uint8Array(E|0):k=new Array(E|0);v<f.length;)y=c.indexOf(f.charAt(v++)),x=c.indexOf(f.charAt(v++)),S=c.indexOf(f.charAt(v++)),w=c.indexOf(f.charAt(v++)),h=y<<2|x>>4,p=(x&15)<<4|S>>2,g=(S&3)<<6|w,k[b++]=h,S!==64&&(k[b++]=p),w!==64&&(k[b++]=g);return k}},{"./support":30,"./utils":32}],2:[function(n,i,s){var o=n("./external"),l=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),f=n("./stream/DataLengthProbe");function h(p,g,y,x,S){this.compressedSize=p,this.uncompressedSize=g,this.crc32=y,this.compression=x,this.compressedContent=S}h.prototype={getContentWorker:function(){var p=new l(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),g=this;return p.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new l(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(p,g,y){return p.pipe(new c).pipe(new f("uncompressedSize")).pipe(g.compressWorker(y)).pipe(new f("compressedSize")).withStreamInfo("compression",g)},i.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,s){var o=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,s){var o=n("./utils");function l(){for(var p,g=[],y=0;y<256;y++){p=y;for(var x=0;x<8;x++)p=p&1?3988292384^p>>>1:p>>>1;g[y]=p}return g}var c=l();function f(p,g,y,x){var S=c,w=x+y;p=p^-1;for(var v=x;v<w;v++)p=p>>>8^S[(p^g[v])&255];return p^-1}function h(p,g,y,x){var S=c,w=x+y;p=p^-1;for(var v=x;v<w;v++)p=p>>>8^S[(p^g.charCodeAt(v))&255];return p^-1}i.exports=function(g,y){if(typeof g>"u"||!g.length)return 0;var x=o.getTypeOf(g)!=="string";return x?f(y|0,g,g.length,0):h(y|0,g,g.length,0)}},{"./utils":32}],5:[function(n,i,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,i,s){var o=null;typeof Promise<"u"?o=Promise:o=n("lie"),i.exports={Promise:o}},{lie:37}],7:[function(n,i,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),c=n("./utils"),f=n("./stream/GenericWorker"),h=o?"uint8array":"array";s.magic="\b\0";function p(g,y){f.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=y,this.meta={}}c.inherits(p,f),p.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,g.data),!1)},p.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(y){g.push({data:y,meta:g.meta})}},s.compressWorker=function(g){return new p("Deflate",g)},s.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,s){var o=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),f=n("../crc32"),h=n("../signature"),p=function(b,_){var E="",k;for(k=0;k<_;k++)E+=String.fromCharCode(b&255),b=b>>>8;return E},g=function(b,_){var E=b;return b||(E=_?16893:33204),(E&65535)<<16},y=function(b){return(b||0)&63},x=function(b,_,E,k,T,L){var F=b.file,C=b.compression,O=L!==c.utf8encode,P=o.transformTo("string",L(F.name)),G=o.transformTo("string",c.utf8encode(F.name)),W=F.comment,J=o.transformTo("string",L(W)),ne=o.transformTo("string",c.utf8encode(W)),we=G.length!==F.name.length,me=ne.length!==W.length,re,ee,be="",ke="",z="",j=F.dir,U=F.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};(!_||E)&&(Y.crc32=b.crc32,Y.compressedSize=b.compressedSize,Y.uncompressedSize=b.uncompressedSize);var ce=0;_&&(ce|=8),!O&&(we||me)&&(ce|=2048);var ge=0,he=0;j&&(ge|=16),T==="UNIX"?(he=798,ge|=g(F.unixPermissions,j)):(he=20,ge|=y(F.dosPermissions)),re=U.getUTCHours(),re=re<<6,re=re|U.getUTCMinutes(),re=re<<5,re=re|U.getUTCSeconds()/2,ee=U.getUTCFullYear()-1980,ee=ee<<4,ee=ee|U.getUTCMonth()+1,ee=ee<<5,ee=ee|U.getUTCDate(),we&&(ke=p(1,1)+p(f(P),4)+G,be+="up"+p(ke.length,2)+ke),me&&(z=p(1,1)+p(f(J),4)+ne,be+="uc"+p(z.length,2)+z);var ye="";ye+=`
\0`,ye+=p(ce,2),ye+=C.magic,ye+=p(re,2),ye+=p(ee,2),ye+=p(Y.crc32,4),ye+=p(Y.compressedSize,4),ye+=p(Y.uncompressedSize,4),ye+=p(P.length,2),ye+=p(be.length,2);var Ae=h.LOCAL_FILE_HEADER+ye+P+be,ot=h.CENTRAL_FILE_HEADER+p(he,2)+ye+p(J.length,2)+"\0\0\0\0"+p(ge,4)+p(k,4)+P+be+J;return{fileRecord:Ae,dirRecord:ot}},S=function(b,_,E,k,T){var L="",F=o.transformTo("string",T(k));return L=h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(b,2)+p(b,2)+p(_,4)+p(E,4)+p(F.length,2)+F,L},w=function(b){var _="";return _=h.DATA_DESCRIPTOR+p(b.crc32,4)+p(b.compressedSize,4)+p(b.uncompressedSize,4),_};function v(b,_,E,k){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=E,this.encodeFileName=k,this.streamFiles=b,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(v,l),v.prototype.push=function(b){var _=b.meta.percent||0,E=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,l.prototype.push.call(this,{data:b.data,meta:{currentFile:this.currentFile,percent:E?(_+100*(E-k-1))/E:100}}))},v.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten,this.currentFile=b.file.name;var _=this.streamFiles&&!b.file.dir;if(_){var E=x(b,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:E.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(b){this.accumulate=!1;var _=this.streamFiles&&!b.file.dir,E=x(b,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(E.dirRecord),_)this.push({data:w(b),meta:{percent:100}});else for(this.push({data:E.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var b=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var E=this.bytesWritten-b,k=S(this.dirRecords.length,E,b,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(b){this._sources.push(b);var _=this;return b.on("data",function(E){_.processChunk(E)}),b.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),b.on("error",function(E){_.error(E)}),this},v.prototype.resume=function(){if(!l.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},v.prototype.error=function(b){var _=this._sources;if(!l.prototype.error.call(this,b))return!1;for(var E=0;E<_.length;E++)try{_[E].error(b)}catch{}return!0},v.prototype.lock=function(){l.prototype.lock.call(this);for(var b=this._sources,_=0;_<b.length;_++)b[_].lock()},i.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,s){var o=n("../compressions"),l=n("./ZipFileWorker"),c=function(f,h){var p=f||h,g=o[p];if(!g)throw new Error(p+" is not a valid compression method !");return g};s.generateWorker=function(f,h,p){var g=new l(h.streamFiles,p,h.platform,h.encodeFileName),y=0;try{f.forEach(function(x,S){y++;var w=c(S.options.compression,h.compression),v=S.options.compressionOptions||h.compressionOptions||{},b=S.dir,_=S.date;S._compressWorker(w,v).withStreamInfo("file",{name:x,dir:b,date:_,comment:S.comment||"",unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions}).pipe(g)}),g.entriesCount=y}catch(x){g.error(x)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,s){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new o;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}o.prototype=n("./object"),o.prototype.loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(l,c){return new o().loadAsync(l,c)},o.external=n("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,s){var o=n("./utils"),l=n("./external"),c=n("./utf8"),f=n("./zipEntries"),h=n("./stream/Crc32Probe"),p=n("./nodejsUtils");function g(y){return new l.Promise(function(x,S){var w=y.decompressed.getContentWorker().pipe(new h);w.on("error",function(v){S(v)}).on("end",function(){w.streamInfo.crc32!==y.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}i.exports=function(y,x){var S=this;return x=o.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),p.isNode&&p.isStream(y)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",y,!0,x.optimizedBinaryString,x.base64).then(function(w){var v=new f(x);return v.load(w),v}).then(function(v){var b=[l.Promise.resolve(v)],_=v.files;if(x.checkCRC32)for(var E=0;E<_.length;E++)b.push(g(_[E]));return l.Promise.all(b)}).then(function(v){for(var b=v.shift(),_=b.files,E=0;E<_.length;E++){var k=_[E],T=k.fileNameStr,L=o.resolve(k.fileNameStr);S.file(L,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:x.createFolders}),k.dir||(S.file(L).unsafeOriginalName=T)}return b.zipComment.length&&(S.comment=b.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,s){var o=n("../utils"),l=n("../stream/GenericWorker");function c(f,h){l.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(h)}o.inherits(c,l),c.prototype._bindStream=function(f){var h=this;this._stream=f,f.pause(),f.on("data",function(p){h.push({data:p,meta:{percent:0}})}).on("error",function(p){h.isPaused?this.generatedError=p:h.error(p)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return l.prototype.pause.call(this)?(this._stream.pause(),!0):!1},c.prototype.resume=function(){return l.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},i.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,s){var o=n("readable-stream").Readable,l=n("../utils");l.inherits(c,o);function c(f,h,p){o.call(this,h),this._helper=f;var g=this;f.on("data",function(y,x){g.push(y)||g._helper.pause(),p&&p(x)}).on("error",function(y){g.emit("error",y)}).on("end",function(){g.push(null)})}c.prototype._read=function(){this._helper.resume()},i.exports=c},{"../utils":32,"readable-stream":16}],14:[function(n,i,s){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,l);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,l)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var l=new Buffer(o);return l.fill(0),l},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,i,s){var o=n("./utf8"),l=n("./utils"),c=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),h=n("./defaults"),p=n("./compressedObject"),g=n("./zipObject"),y=n("./generate"),x=n("./nodejsUtils"),S=n("./nodejs/NodejsStreamInputAdapter"),w=function(T,L,F){var C=l.getTypeOf(L),O,P=l.extend(F||{},h);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&P.unixPermissions&16384&&(P.dir=!0),P.dosPermissions&&P.dosPermissions&16&&(P.dir=!0),P.dir&&(T=b(T)),P.createFolders&&(O=v(T))&&_.call(this,O,!0);var G=C==="string"&&P.binary===!1&&P.base64===!1;(!F||typeof F.binary>"u")&&(P.binary=!G);var W=L instanceof p&&L.uncompressedSize===0;(W||P.dir||!L||L.length===0)&&(P.base64=!1,P.binary=!0,L="",P.compression="STORE",C="string");var J=null;L instanceof p||L instanceof c?J=L:x.isNode&&x.isStream(L)?J=new S(T,L):J=l.prepareContent(T,L,P.binary,P.optimizedBinaryString,P.base64);var ne=new g(T,J,P);this.files[T]=ne},v=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var L=T.lastIndexOf("/");return L>0?T.substring(0,L):""},b=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},_=function(T,L){return L=typeof L<"u"?L:h.createFolders,T=b(T),this.files[T]||w.call(this,T,null,{dir:!0,createFolders:L}),this.files[T]};function E(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var L,F,C;for(L in this.files)C=this.files[L],F=L.slice(this.root.length,L.length),F&&L.slice(0,this.root.length)===this.root&&T(F,C)},filter:function(T){var L=[];return this.forEach(function(F,C){T(F,C)&&L.push(C)}),L},file:function(T,L,F){if(arguments.length===1)if(E(T)){var C=T;return this.filter(function(P,G){return!G.dir&&C.test(P)})}else{var O=this.files[this.root+T];return O&&!O.dir?O:null}else T=this.root+T,w.call(this,T,L,F);return this},folder:function(T){if(!T)return this;if(E(T))return this.filter(function(O,P){return P.dir&&T.test(O)});var L=this.root+T,F=_.call(this,L),C=this.clone();return C.root=F.name,C},remove:function(T){T=this.root+T;var L=this.files[T];if(L||(T.slice(-1)!=="/"&&(T+="/"),L=this.files[T]),L&&!L.dir)delete this.files[T];else for(var F=this.filter(function(O,P){return P.name.slice(0,T.length)===T}),C=0;C<F.length;C++)delete this.files[F[C].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var L,F={};try{if(F=l.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode}),F.type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");l.checkSupport(F.type),(F.platform==="darwin"||F.platform==="freebsd"||F.platform==="linux"||F.platform==="sunos")&&(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var C=F.comment||this.comment||"";L=y.generateWorker(this,F,C)}catch(O){L=new c("error"),L.error(O)}return new f(L,F.type||"string",F.mimeType)},generateAsync:function(T,L){return this.generateInternalStream(T).accumulate(L)},generateNodeStream:function(T,L){return T=T||{},T.type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(L)}};i.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,s){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,s){var o=n("./DataReader"),l=n("../utils");function c(f){o.call(this,f);for(var h=0;h<this.data.length;h++)f[h]=f[h]&255}l.inherits(c,o),c.prototype.byteAt=function(f){return this.data[this.zero+f]},c.prototype.lastIndexOfSignature=function(f){for(var h=f.charCodeAt(0),p=f.charCodeAt(1),g=f.charCodeAt(2),y=f.charCodeAt(3),x=this.length-4;x>=0;--x)if(this.data[x]===h&&this.data[x+1]===p&&this.data[x+2]===g&&this.data[x+3]===y)return x-this.zero;return-1},c.prototype.readAndCheckSignature=function(f){var h=f.charCodeAt(0),p=f.charCodeAt(1),g=f.charCodeAt(2),y=f.charCodeAt(3),x=this.readData(4);return h===x[0]&&p===x[1]&&g===x[2]&&y===x[3]},c.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,h},i.exports=c},{"../utils":32,"./DataReader":18}],18:[function(n,i,s){var o=n("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var f=0,h;for(this.checkOffset(c),h=this.index+c-1;h>=this.index;h--)f=(f<<8)+this.byteAt(h);return this.index+=c,f},readString:function(c){return o.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC((c>>25&127)+1980,(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(c&31)<<1))}},i.exports=l},{"../utils":32}],19:[function(n,i,s){var o=n("./Uint8ArrayReader"),l=n("../utils");function c(f){o.call(this,f)}l.inherits(c,o),c.prototype.readData=function(f){this.checkOffset(f);var h=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,h},i.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,s){var o=n("./DataReader"),l=n("../utils");function c(f){o.call(this,f)}l.inherits(c,o),c.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},c.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},c.prototype.readAndCheckSignature=function(f){var h=this.readData(4);return f===h},c.prototype.readData=function(f){this.checkOffset(f);var h=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,h},i.exports=c},{"../utils":32,"./DataReader":18}],21:[function(n,i,s){var o=n("./ArrayReader"),l=n("../utils");function c(f){o.call(this,f)}l.inherits(c,o),c.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,h},i.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,s){var o=n("../utils"),l=n("../support"),c=n("./ArrayReader"),f=n("./StringReader"),h=n("./NodeBufferReader"),p=n("./Uint8ArrayReader");i.exports=function(g){var y=o.getTypeOf(g);return o.checkSupport(y),y==="string"&&!l.uint8array?new f(g):y==="nodebuffer"?new h(g):l.uint8array?new p(o.transformTo("uint8array",g)):new c(o.transformTo("array",g))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,s){var o=n("./GenericWorker"),l=n("../utils");function c(f){o.call(this,"ConvertWorker to "+f),this.destType=f}l.inherits(c,o),c.prototype.processChunk=function(f){this.push({data:l.transformTo(this.destType,f.data),meta:f.meta})},i.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,s){var o=n("./GenericWorker"),l=n("../crc32"),c=n("../utils");function f(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}c.inherits(f,o),f.prototype.processChunk=function(h){this.streamInfo.crc32=l(h.data,this.streamInfo.crc32||0),this.push(h)},i.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,s){var o=n("../utils"),l=n("./GenericWorker");function c(f){l.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}o.inherits(c,l),c.prototype.processChunk=function(f){if(f){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+f.data.length}l.prototype.processChunk.call(this,f)},i.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,s){var o=n("../utils"),l=n("./GenericWorker"),c=16*1024;function f(h){l.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(g){p.dataIsReady=!0,p.data=g,p.max=g&&g.length||0,p.type=o.getTypeOf(g),p.isPaused||p._tickAndRepeat()},function(g){p.error(g)})}o.inherits(f,l),f.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return l.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0):!1},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=c,p=null,g=Math.min(this.max,this.index+h);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,g);break;case"uint8array":p=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":p=this.data.slice(this.index,g);break}return this.index=g,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,s){function o(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return this.isFinished?!1:(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var f=0;f<this._listeners[l].length;f++)this._listeners[l][f].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(f){c.processChunk(f)}),l.on("end",function(){c.end()}),l.on("error",function(f){c.error(f)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var l=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},i.exports=o},{}],29:[function(n,i,s){var o=n("../utils"),l=n("./ConvertWorker"),c=n("./GenericWorker"),f=n("../base64"),h=n("../support"),p=n("../external"),g=null;if(h.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(v,b,_){switch(v){case"blob":return o.newBlob(o.transformTo("arraybuffer",b),_);case"base64":return f.encode(b);default:return o.transformTo(v,b)}}function x(v,b){var _,E=0,k=null,T=0;for(_=0;_<b.length;_++)T+=b[_].length;switch(v){case"string":return b.join("");case"array":return Array.prototype.concat.apply([],b);case"uint8array":for(k=new Uint8Array(T),_=0;_<b.length;_++)k.set(b[_],E),E+=b[_].length;return k;case"nodebuffer":return Buffer.concat(b);default:throw new Error("concat : unsupported type '"+v+"'")}}function S(v,b){return new p.Promise(function(_,E){var k=[],T=v._internalType,L=v._outputType,F=v._mimeType;v.on("data",function(C,O){k.push(C),b&&b(O)}).on("error",function(C){k=[],E(C)}).on("end",function(){try{var C=y(L,x(T,k),F);_(C)}catch(O){E(O)}k=[]}).resume()})}function w(v,b,_){var E=b;switch(b){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string";break}try{this._internalType=E,this._outputType=b,this._mimeType=_,o.checkSupport(E),this._worker=v.pipe(new l(E)),v.lock()}catch(k){this._worker=new c("error"),this._worker.error(k)}}w.prototype={accumulate:function(v){return S(this,v)},on:function(v,b){var _=this;return v==="data"?this._worker.on(v,function(E){b.call(_,E.data,E.meta)}):this._worker.on(v,function(){o.delay(b,arguments,_)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},v)}},i.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var o=new ArrayBuffer(0);try{s.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var l=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,c=new l;c.append(o),s.blob=c.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,s){for(var o=n("./utils"),l=n("./support"),c=n("./nodejsUtils"),f=n("./stream/GenericWorker"),h=new Array(256),p=0;p<256;p++)h[p]=p>=252?6:p>=248?5:p>=240?4:p>=224?3:p>=192?2:1;h[254]=h[254]=1;var g=function(v){var b,_,E,k,T,L=v.length,F=0;for(k=0;k<L;k++)_=v.charCodeAt(k),(_&64512)===55296&&k+1<L&&(E=v.charCodeAt(k+1),(E&64512)===56320&&(_=65536+(_-55296<<10)+(E-56320),k++)),F+=_<128?1:_<2048?2:_<65536?3:4;for(l.uint8array?b=new Uint8Array(F):b=new Array(F),T=0,k=0;T<F;k++)_=v.charCodeAt(k),(_&64512)===55296&&k+1<L&&(E=v.charCodeAt(k+1),(E&64512)===56320&&(_=65536+(_-55296<<10)+(E-56320),k++)),_<128?b[T++]=_:_<2048?(b[T++]=192|_>>>6,b[T++]=128|_&63):_<65536?(b[T++]=224|_>>>12,b[T++]=128|_>>>6&63,b[T++]=128|_&63):(b[T++]=240|_>>>18,b[T++]=128|_>>>12&63,b[T++]=128|_>>>6&63,b[T++]=128|_&63);return b},y=function(v,b){var _;for(b=b||v.length,b>v.length&&(b=v.length),_=b-1;_>=0&&(v[_]&192)===128;)_--;return _<0||_===0?b:_+h[v[_]]>b?_:b},x=function(v){var b,_,E,k,T=v.length,L=new Array(T*2);for(_=0,b=0;b<T;){if(E=v[b++],E<128){L[_++]=E;continue}if(k=h[E],k>4){L[_++]=65533,b+=k-1;continue}for(E&=k===2?31:k===3?15:7;k>1&&b<T;)E=E<<6|v[b++]&63,k--;if(k>1){L[_++]=65533;continue}E<65536?L[_++]=E:(E-=65536,L[_++]=55296|E>>10&1023,L[_++]=56320|E&1023)}return L.length!==_&&(L.subarray?L=L.subarray(0,_):L.length=_),o.applyFromCharCode(L)};s.utf8encode=function(b){return l.nodebuffer?c.newBufferFrom(b,"utf-8"):g(b)},s.utf8decode=function(b){return l.nodebuffer?o.transformTo("nodebuffer",b).toString("utf-8"):(b=o.transformTo(l.uint8array?"uint8array":"array",b),x(b))};function S(){f.call(this,"utf-8 decode"),this.leftOver=null}o.inherits(S,f),S.prototype.processChunk=function(v){var b=o.transformTo(l.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var _=b;b=new Uint8Array(_.length+this.leftOver.length),b.set(this.leftOver,0),b.set(_,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var E=y(b),k=b;E!==b.length&&(l.uint8array?(k=b.subarray(0,E),this.leftOver=b.subarray(E,b.length)):(k=b.slice(0,E),this.leftOver=b.slice(E,b.length))),this.push({data:s.utf8decode(k),meta:v.meta})},S.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=S;function w(){f.call(this,"utf-8 encode")}o.inherits(w,f),w.prototype.processChunk=function(v){this.push({data:s.utf8encode(v.data),meta:v.meta})},s.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,s){var o=n("./support"),l=n("./base64"),c=n("./nodejsUtils"),f=n("./external");n("setimmediate");function h(v){var b=null;return o.uint8array?b=new Uint8Array(v.length):b=new Array(v.length),g(v,b)}s.newBlob=function(v,b){s.checkSupport("blob");try{return new Blob([v],{type:b})}catch{try{var _=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,E=new _;return E.append(v),E.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};function p(v){return v}function g(v,b){for(var _=0;_<v.length;++_)b[_]=v.charCodeAt(_)&255;return b}var y={stringifyByChunk:function(v,b,_){var E=[],k=0,T=v.length;if(T<=_)return String.fromCharCode.apply(null,v);for(;k<T;)b==="array"||b==="nodebuffer"?E.push(String.fromCharCode.apply(null,v.slice(k,Math.min(k+_,T)))):E.push(String.fromCharCode.apply(null,v.subarray(k,Math.min(k+_,T)))),k+=_;return E.join("")},stringifyByChar:function(v){for(var b="",_=0;_<v.length;_++)b+=String.fromCharCode(v[_]);return b},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function x(v){var b=65536,_=s.getTypeOf(v),E=!0;if(_==="uint8array"?E=y.applyCanBeUsed.uint8array:_==="nodebuffer"&&(E=y.applyCanBeUsed.nodebuffer),E)for(;b>1;)try{return y.stringifyByChunk(v,_,b)}catch{b=Math.floor(b/2)}return y.stringifyByChar(v)}s.applyFromCharCode=x;function S(v,b){for(var _=0;_<v.length;_++)b[_]=v[_];return b}var w={};w.string={string:p,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return w.string.uint8array(v).buffer},uint8array:function(v){return g(v,new Uint8Array(v.length))},nodebuffer:function(v){return g(v,c.allocBuffer(v.length))}},w.array={string:x,array:p,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(v)}},w.arraybuffer={string:function(v){return x(new Uint8Array(v))},array:function(v){return S(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:p,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(new Uint8Array(v))}},w.uint8array={string:x,array:function(v){return S(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:p,nodebuffer:function(v){return c.newBufferFrom(v)}},w.nodebuffer={string:x,array:function(v){return S(v,new Array(v.length))},arraybuffer:function(v){return w.nodebuffer.uint8array(v).buffer},uint8array:function(v){return S(v,new Uint8Array(v.length))},nodebuffer:p},s.transformTo=function(v,b){if(b||(b=""),!v)return b;s.checkSupport(v);var _=s.getTypeOf(b),E=w[_][v](b);return E},s.resolve=function(v){for(var b=v.split("/"),_=[],E=0;E<b.length;E++){var k=b[E];k==="."||k===""&&E!==0&&E!==b.length-1||(k===".."?_.pop():_.push(k))}return _.join("/")},s.getTypeOf=function(v){if(typeof v=="string")return"string";if(Object.prototype.toString.call(v)==="[object Array]")return"array";if(o.nodebuffer&&c.isBuffer(v))return"nodebuffer";if(o.uint8array&&v instanceof Uint8Array)return"uint8array";if(o.arraybuffer&&v instanceof ArrayBuffer)return"arraybuffer"},s.checkSupport=function(v){var b=o[v.toLowerCase()];if(!b)throw new Error(v+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(v){var b="",_,E;for(E=0;E<(v||"").length;E++)_=v.charCodeAt(E),b+="\\x"+(_<16?"0":"")+_.toString(16).toUpperCase();return b},s.delay=function(v,b,_){setImmediate(function(){v.apply(_||null,b||[])})},s.inherits=function(v,b){var _=function(){};_.prototype=b.prototype,v.prototype=new _},s.extend=function(){var v={},b,_;for(b=0;b<arguments.length;b++)for(_ in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],_)&&typeof v[_]>"u"&&(v[_]=arguments[b][_]);return v},s.prepareContent=function(v,b,_,E,k){var T=f.Promise.resolve(b).then(function(L){var F=o.blob&&(L instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(L))!==-1);return F&&typeof FileReader<"u"?new f.Promise(function(C,O){var P=new FileReader;P.onload=function(G){C(G.target.result)},P.onerror=function(G){O(G.target.error)},P.readAsArrayBuffer(L)}):L});return T.then(function(L){var F=s.getTypeOf(L);return F?(F==="arraybuffer"?L=s.transformTo("uint8array",L):F==="string"&&(k?L=l.decode(L):_&&E!==!0&&(L=h(L))),L):f.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,s){var o=n("./reader/readerFor"),l=n("./utils"),c=n("./signature"),f=n("./zipEntry"),h=n("./support");function p(g){this.files=[],this.loadOptions=g}p.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(y)+", expected "+l.pretty(g)+")")}},isSignature:function(g,y){var x=this.reader.index;this.reader.setIndex(g);var S=this.reader.readString(4),w=S===y;return this.reader.setIndex(x),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),y=h.uint8array?"uint8array":"array",x=l.transformTo(y,g);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g=this.zip64EndOfCentralSize-44,y=0,x,S,w;y<g;)x=this.reader.readInt(2),S=this.reader.readInt(4),w=this.reader.readData(S),this.zip64ExtensibleData[x]={id:x,length:S,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,y;for(g=0;g<this.files.length;g++)y=this.files[g],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)g=new f({zip64:this.zip64},this.loadOptions),g.readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(g<0){var y=!this.isSignature(0,c.LOCAL_FILE_HEADER);throw y?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(g);var x=g;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,g=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),g<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var S=this.centralDirOffset+this.centralDirSize;this.zip64&&(S+=20,S+=12+this.zip64EndOfCentralSize);var w=x-S;if(w>0)this.isSignature(x,c.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(g){this.reader=o(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,s){var o=n("./reader/readerFor"),l=n("./utils"),c=n("./compressedObject"),f=n("./crc32"),h=n("./utf8"),p=n("./compressions"),g=n("./support"),y=0,x=3,S=function(v){for(var b in p)if(Object.prototype.hasOwnProperty.call(p,b)&&p[b].magic===v)return p[b];return null};function w(v,b){this.options=v,this.loadOptions=b}w.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(v){var b,_;if(v.skip(22),this.fileNameLength=v.readInt(2),_=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(b=S(this.compressionMethod),b===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,b,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var b=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(b),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),v===y&&(this.dosPermissions=this.externalFileAttributes&63),v===x&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=o(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var b=v.index+this.extraFieldsLength,_,E,k;for(this.extraFields||(this.extraFields={});v.index+4<b;)_=v.readInt(2),E=v.readInt(2),k=v.readData(E),this.extraFields[_]={id:_,length:E,value:k};v.setIndex(b)},handleUTF8:function(){var v=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var _=l.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var k=l.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var b=o(v.value);return b.readInt(1)!==1||f(this.fileName)!==b.readInt(4)?null:h.utf8decode(b.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var b=o(v.value);return b.readInt(1)!==1||f(this.fileComment)!==b.readInt(4)?null:h.utf8decode(b.readData(v.length-5))}return null}},i.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,s){var o=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),c=n("./utf8"),f=n("./compressedObject"),h=n("./stream/GenericWorker"),p=function(S,w,v){this.name=S,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=w,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}};p.prototype={internalStream:function(S){var w=null,v="string";try{if(!S)throw new Error("No output type specified.");v=S.toLowerCase();var b=v==="string"||v==="text";(v==="binarystring"||v==="text")&&(v="string"),w=this._decompressWorker();var _=!this._dataBinary;_&&!b&&(w=w.pipe(new c.Utf8EncodeWorker)),!_&&b&&(w=w.pipe(new c.Utf8DecodeWorker))}catch(E){w=new h("error"),w.error(E)}return new o(w,v,"")},async:function(S,w){return this.internalStream(S).accumulate(w)},nodeStream:function(S,w){return this.internalStream(S||"nodebuffer").toNodejsStream(w)},_compressWorker:function(S,w){if(this._data instanceof f&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new c.Utf8EncodeWorker)),f.createWorkerFrom(v,S,w)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof h?this._data:new l(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<g.length;x++)p.prototype[g[x]]=y;i.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,s){(function(o){var l=o.MutationObserver||o.WebKitMutationObserver,c;if(l){var f=0,h=new l(S),p=o.document.createTextNode("");h.observe(p,{characterData:!0}),c=function(){p.data=f=++f%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var g=new o.MessageChannel;g.port1.onmessage=S,c=function(){g.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?c=function(){var v=o.document.createElement("script");v.onreadystatechange=function(){S(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},o.document.documentElement.appendChild(v)}:c=function(){setTimeout(S,0)};var y,x=[];function S(){y=!0;for(var v,b,_=x.length;_;){for(b=x,x=[],v=-1;++v<_;)b[v]();_=x.length}y=!1}i.exports=w;function w(v){x.push(v)===1&&!y&&c()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,s){var o=n("immediate");function l(){}var c={},f=["REJECTED"],h=["FULFILLED"],p=["PENDING"];i.exports=g;function g(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,T!==l&&w(this,T)}g.prototype.finally=function(T){if(typeof T!="function")return this;var L=this.constructor;return this.then(F,C);function F(O){function P(){return O}return L.resolve(T()).then(P)}function C(O){function P(){throw O}return L.resolve(T()).then(P)}},g.prototype.catch=function(T){return this.then(null,T)},g.prototype.then=function(T,L){if(typeof T!="function"&&this.state===h||typeof L!="function"&&this.state===f)return this;var F=new this.constructor(l);if(this.state!==p){var C=this.state===h?T:L;x(F,C,this.outcome)}else this.queue.push(new y(F,T,L));return F};function y(T,L,F){this.promise=T,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}y.prototype.callFulfilled=function(T){c.resolve(this.promise,T)},y.prototype.otherCallFulfilled=function(T){x(this.promise,this.onFulfilled,T)},y.prototype.callRejected=function(T){c.reject(this.promise,T)},y.prototype.otherCallRejected=function(T){x(this.promise,this.onRejected,T)};function x(T,L,F){o(function(){var C;try{C=L(F)}catch(O){return c.reject(T,O)}C===T?c.reject(T,new TypeError("Cannot resolve promise with itself")):c.resolve(T,C)})}c.resolve=function(T,L){var F=v(S,L);if(F.status==="error")return c.reject(T,F.value);var C=F.value;if(C)w(T,C);else{T.state=h,T.outcome=L;for(var O=-1,P=T.queue.length;++O<P;)T.queue[O].callFulfilled(L)}return T},c.reject=function(T,L){T.state=f,T.outcome=L;for(var F=-1,C=T.queue.length;++F<C;)T.queue[F].callRejected(L);return T};function S(T){var L=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof L=="function")return function(){L.apply(T,arguments)}}function w(T,L){var F=!1;function C(W){F||(F=!0,c.reject(T,W))}function O(W){F||(F=!0,c.resolve(T,W))}function P(){L(O,C)}var G=v(P);G.status==="error"&&C(G.value)}function v(T,L){var F={};try{F.value=T(L),F.status="success"}catch(C){F.status="error",F.value=C}return F}g.resolve=b;function b(T){return T instanceof this?T:c.resolve(new this(l),T)}g.reject=_;function _(T){var L=new this(l);return c.reject(L,T)}g.all=E;function E(T){var L=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=T.length,C=!1;if(!F)return this.resolve([]);for(var O=new Array(F),P=0,G=-1,W=new this(l);++G<F;)J(T[G],G);return W;function J(ne,we){L.resolve(ne).then(me,function(re){C||(C=!0,c.reject(W,re))});function me(re){O[we]=re,++P===F&&!C&&(C=!0,c.resolve(W,O))}}}g.race=k;function k(T){var L=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=T.length,C=!1;if(!F)return this.resolve([]);for(var O=-1,P=new this(l);++O<F;)G(T[O]);return P;function G(W){L.resolve(W).then(function(J){C||(C=!0,c.resolve(P,J))},function(J){C||(C=!0,c.reject(P,J))})}}},{immediate:36}],38:[function(n,i,s){var o=n("./lib/utils/common").assign,l=n("./lib/deflate"),c=n("./lib/inflate"),f=n("./lib/zlib/constants"),h={};o(h,l,c,f),i.exports=h},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,s){var o=n("./zlib/deflate"),l=n("./utils/common"),c=n("./utils/strings"),f=n("./zlib/messages"),h=n("./zlib/zstream"),p=Object.prototype.toString,g=0,y=4,x=0,S=1,w=2,v=-1,b=0,_=8;function E(F){if(!(this instanceof E))return new E(F);this.options=l.assign({level:v,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},F||{});var C=this.options;C.raw&&C.windowBits>0?C.windowBits=-C.windowBits:C.gzip&&C.windowBits>0&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var O=o.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(O!==x)throw new Error(f[O]);if(C.header&&o.deflateSetHeader(this.strm,C.header),C.dictionary){var P;if(typeof C.dictionary=="string"?P=c.string2buf(C.dictionary):p.call(C.dictionary)==="[object ArrayBuffer]"?P=new Uint8Array(C.dictionary):P=C.dictionary,O=o.deflateSetDictionary(this.strm,P),O!==x)throw new Error(f[O]);this._dict_set=!0}}E.prototype.push=function(F,C){var O=this.strm,P=this.options.chunkSize,G,W;if(this.ended)return!1;W=C===~~C?C:C===!0?y:g,typeof F=="string"?O.input=c.string2buf(F):p.call(F)==="[object ArrayBuffer]"?O.input=new Uint8Array(F):O.input=F,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new l.Buf8(P),O.next_out=0,O.avail_out=P),G=o.deflate(O,W),G!==S&&G!==x)return this.onEnd(G),this.ended=!0,!1;(O.avail_out===0||O.avail_in===0&&(W===y||W===w))&&(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(O.output,O.next_out))):this.onData(l.shrinkBuf(O.output,O.next_out)))}while((O.avail_in>0||O.avail_out===0)&&G!==S);return W===y?(G=o.deflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===x):(W===w&&(this.onEnd(x),O.avail_out=0),!0)},E.prototype.onData=function(F){this.chunks.push(F)},E.prototype.onEnd=function(F){F===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg};function k(F,C){var O=new E(C);if(O.push(F,!0),O.err)throw O.msg||f[O.err];return O.result}function T(F,C){return C=C||{},C.raw=!0,k(F,C)}function L(F,C){return C=C||{},C.gzip=!0,k(F,C)}s.Deflate=E,s.deflate=k,s.deflateRaw=T,s.gzip=L},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,s){var o=n("./zlib/inflate"),l=n("./utils/common"),c=n("./utils/strings"),f=n("./zlib/constants"),h=n("./zlib/messages"),p=n("./zlib/zstream"),g=n("./zlib/gzheader"),y=Object.prototype.toString;function x(v){if(!(this instanceof x))return new x(v);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},v||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),b.windowBits>=0&&b.windowBits<16&&!(v&&v.windowBits)&&(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&(b.windowBits&15||(b.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var _=o.inflateInit2(this.strm,b.windowBits);if(_!==f.Z_OK)throw new Error(h[_]);this.header=new g,o.inflateGetHeader(this.strm,this.header)}x.prototype.push=function(v,b){var _=this.strm,E=this.options.chunkSize,k=this.options.dictionary,T,L,F,C,O,P,G=!1;if(this.ended)return!1;L=b===~~b?b:b===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof v=="string"?_.input=c.binstring2buf(v):y.call(v)==="[object ArrayBuffer]"?_.input=new Uint8Array(v):_.input=v,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new l.Buf8(E),_.next_out=0,_.avail_out=E),T=o.inflate(_,f.Z_NO_FLUSH),T===f.Z_NEED_DICT&&k&&(typeof k=="string"?P=c.string2buf(k):y.call(k)==="[object ArrayBuffer]"?P=new Uint8Array(k):P=k,T=o.inflateSetDictionary(this.strm,P)),T===f.Z_BUF_ERROR&&G===!0&&(T=f.Z_OK,G=!1),T!==f.Z_STREAM_END&&T!==f.Z_OK)return this.onEnd(T),this.ended=!0,!1;_.next_out&&(_.avail_out===0||T===f.Z_STREAM_END||_.avail_in===0&&(L===f.Z_FINISH||L===f.Z_SYNC_FLUSH))&&(this.options.to==="string"?(F=c.utf8border(_.output,_.next_out),C=_.next_out-F,O=c.buf2string(_.output,F),_.next_out=C,_.avail_out=E-C,C&&l.arraySet(_.output,_.output,F,C,0),this.onData(O)):this.onData(l.shrinkBuf(_.output,_.next_out))),_.avail_in===0&&_.avail_out===0&&(G=!0)}while((_.avail_in>0||_.avail_out===0)&&T!==f.Z_STREAM_END);return T===f.Z_STREAM_END&&(L=f.Z_FINISH),L===f.Z_FINISH?(T=o.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===f.Z_OK):(L===f.Z_SYNC_FLUSH&&(this.onEnd(f.Z_OK),_.avail_out=0),!0)},x.prototype.onData=function(v){this.chunks.push(v)},x.prototype.onEnd=function(v){v===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg};function S(v,b){var _=new x(b);if(_.push(v,!0),_.err)throw _.msg||h[_.err];return _.result}function w(v,b){return b=b||{},b.raw=!0,S(v,b)}s.Inflate=x,s.inflate=S,s.inflateRaw=w,s.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(f){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var p=h.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var g in p)p.hasOwnProperty(g)&&(f[g]=p[g])}}return f},s.shrinkBuf=function(f,h){return f.length===h?f:f.subarray?f.subarray(0,h):(f.length=h,f)};var l={arraySet:function(f,h,p,g,y){if(h.subarray&&f.subarray){f.set(h.subarray(p,p+g),y);return}for(var x=0;x<g;x++)f[y+x]=h[p+x]},flattenChunks:function(f){var h,p,g,y,x,S;for(g=0,h=0,p=f.length;h<p;h++)g+=f[h].length;for(S=new Uint8Array(g),y=0,h=0,p=f.length;h<p;h++)x=f[h],S.set(x,y),y+=x.length;return S}},c={arraySet:function(f,h,p,g,y){for(var x=0;x<g;x++)f[y+x]=h[p+x]},flattenChunks:function(f){return[].concat.apply([],f)}};s.setTyped=function(f){f?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,l)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,c))},s.setTyped(o)},{}],42:[function(n,i,s){var o=n("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var f=new o.Buf8(256),h=0;h<256;h++)f[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;f[254]=f[254]=1,s.string2buf=function(g){var y,x,S,w,v,b=g.length,_=0;for(w=0;w<b;w++)x=g.charCodeAt(w),(x&64512)===55296&&w+1<b&&(S=g.charCodeAt(w+1),(S&64512)===56320&&(x=65536+(x-55296<<10)+(S-56320),w++)),_+=x<128?1:x<2048?2:x<65536?3:4;for(y=new o.Buf8(_),v=0,w=0;v<_;w++)x=g.charCodeAt(w),(x&64512)===55296&&w+1<b&&(S=g.charCodeAt(w+1),(S&64512)===56320&&(x=65536+(x-55296<<10)+(S-56320),w++)),x<128?y[v++]=x:x<2048?(y[v++]=192|x>>>6,y[v++]=128|x&63):x<65536?(y[v++]=224|x>>>12,y[v++]=128|x>>>6&63,y[v++]=128|x&63):(y[v++]=240|x>>>18,y[v++]=128|x>>>12&63,y[v++]=128|x>>>6&63,y[v++]=128|x&63);return y};function p(g,y){if(y<65537&&(g.subarray&&c||!g.subarray&&l))return String.fromCharCode.apply(null,o.shrinkBuf(g,y));for(var x="",S=0;S<y;S++)x+=String.fromCharCode(g[S]);return x}s.buf2binstring=function(g){return p(g,g.length)},s.binstring2buf=function(g){for(var y=new o.Buf8(g.length),x=0,S=y.length;x<S;x++)y[x]=g.charCodeAt(x);return y},s.buf2string=function(g,y){var x,S,w,v,b=y||g.length,_=new Array(b*2);for(S=0,x=0;x<b;){if(w=g[x++],w<128){_[S++]=w;continue}if(v=f[w],v>4){_[S++]=65533,x+=v-1;continue}for(w&=v===2?31:v===3?15:7;v>1&&x<b;)w=w<<6|g[x++]&63,v--;if(v>1){_[S++]=65533;continue}w<65536?_[S++]=w:(w-=65536,_[S++]=55296|w>>10&1023,_[S++]=56320|w&1023)}return p(_,S)},s.utf8border=function(g,y){var x;for(y=y||g.length,y>g.length&&(y=g.length),x=y-1;x>=0&&(g[x]&192)===128;)x--;return x<0||x===0?y:x+f[g[x]]>y?x:y}},{"./common":41}],43:[function(n,i,s){function o(l,c,f,h){for(var p=l&65535|0,g=l>>>16&65535|0,y=0;f!==0;){y=f>2e3?2e3:f,f-=y;do p=p+c[h++]|0,g=g+p|0;while(--y);p%=65521,g%=65521}return p|g<<16|0}i.exports=o},{}],44:[function(n,i,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,s){function o(){for(var f,h=[],p=0;p<256;p++){f=p;for(var g=0;g<8;g++)f=f&1?3988292384^f>>>1:f>>>1;h[p]=f}return h}var l=o();function c(f,h,p,g){var y=l,x=g+p;f^=-1;for(var S=g;S<x;S++)f=f>>>8^y[(f^h[S])&255];return f^-1}i.exports=c},{}],46:[function(n,i,s){var o=n("../utils/common"),l=n("./trees"),c=n("./adler32"),f=n("./crc32"),h=n("./messages"),p=0,g=1,y=3,x=4,S=5,w=0,v=1,b=-2,_=-3,E=-5,k=-1,T=1,L=2,F=3,C=4,O=0,P=2,G=8,W=9,J=15,ne=8,we=29,me=256,re=me+1+we,ee=30,be=19,ke=2*re+1,z=15,j=3,U=258,Y=U+j+1,ce=32,ge=42,he=69,ye=73,Ae=91,ot=103,Ie=113,V=666,K=1,ae=2,ue=3,Z=4,ve=3;function Pe(N,Ne){return N.msg=h[Ne],Ne}function Fe(N){return(N<<1)-(N>4?9:0)}function it(N){for(var Ne=N.length;--Ne>=0;)N[Ne]=0}function fe(N){var Ne=N.state,Je=Ne.pending;Je>N.avail_out&&(Je=N.avail_out),Je!==0&&(o.arraySet(N.output,Ne.pending_buf,Ne.pending_out,Je,N.next_out),N.next_out+=Je,Ne.pending_out+=Je,N.total_out+=Je,N.avail_out-=Je,Ne.pending-=Je,Ne.pending===0&&(Ne.pending_out=0))}function xe(N,Ne){l._tr_flush_block(N,N.block_start>=0?N.block_start:-1,N.strstart-N.block_start,Ne),N.block_start=N.strstart,fe(N.strm)}function Se(N,Ne){N.pending_buf[N.pending++]=Ne}function gt(N,Ne){N.pending_buf[N.pending++]=Ne>>>8&255,N.pending_buf[N.pending++]=Ne&255}function qe(N,Ne,Je,se){var Be=N.avail_in;return Be>se&&(Be=se),Be===0?0:(N.avail_in-=Be,o.arraySet(Ne,N.input,N.next_in,Be,Je),N.state.wrap===1?N.adler=c(N.adler,Ne,Be,Je):N.state.wrap===2&&(N.adler=f(N.adler,Ne,Be,Je)),N.next_in+=Be,N.total_in+=Be,Be)}function dt(N,Ne){var Je=N.max_chain_length,se=N.strstart,Be,ft,Zt=N.prev_length,Lt=N.nice_match,Vt=N.strstart>N.w_size-Y?N.strstart-(N.w_size-Y):0,In=N.window,vr=N.w_mask,Kn=N.prev,Mn=N.strstart+U,ur=In[se+Zt-1],Wn=In[se+Zt];N.prev_length>=N.good_match&&(Je>>=2),Lt>N.lookahead&&(Lt=N.lookahead);do if(Be=Ne,!(In[Be+Zt]!==Wn||In[Be+Zt-1]!==ur||In[Be]!==In[se]||In[++Be]!==In[se+1])){se+=2,Be++;do;while(In[++se]===In[++Be]&&In[++se]===In[++Be]&&In[++se]===In[++Be]&&In[++se]===In[++Be]&&In[++se]===In[++Be]&&In[++se]===In[++Be]&&In[++se]===In[++Be]&&In[++se]===In[++Be]&&se<Mn);if(ft=U-(Mn-se),se=Mn-U,ft>Zt){if(N.match_start=Ne,Zt=ft,ft>=Lt)break;ur=In[se+Zt-1],Wn=In[se+Zt]}}while((Ne=Kn[Ne&vr])>Vt&&--Je!==0);return Zt<=N.lookahead?Zt:N.lookahead}function yt(N){var Ne=N.w_size,Je,se,Be,ft,Zt;do{if(ft=N.window_size-N.lookahead-N.strstart,N.strstart>=Ne+(Ne-Y)){o.arraySet(N.window,N.window,Ne,Ne,0),N.match_start-=Ne,N.strstart-=Ne,N.block_start-=Ne,se=N.hash_size,Je=se;do Be=N.head[--Je],N.head[Je]=Be>=Ne?Be-Ne:0;while(--se);se=Ne,Je=se;do Be=N.prev[--Je],N.prev[Je]=Be>=Ne?Be-Ne:0;while(--se);ft+=Ne}if(N.strm.avail_in===0)break;if(se=qe(N.strm,N.window,N.strstart+N.lookahead,ft),N.lookahead+=se,N.lookahead+N.insert>=j)for(Zt=N.strstart-N.insert,N.ins_h=N.window[Zt],N.ins_h=(N.ins_h<<N.hash_shift^N.window[Zt+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[Zt+j-1])&N.hash_mask,N.prev[Zt&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=Zt,Zt++,N.insert--,!(N.lookahead+N.insert<j)););}while(N.lookahead<Y&&N.strm.avail_in!==0)}function Nt(N,Ne){var Je=65535;for(Je>N.pending_buf_size-5&&(Je=N.pending_buf_size-5);;){if(N.lookahead<=1){if(yt(N),N.lookahead===0&&Ne===p)return K;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var se=N.block_start+Je;if((N.strstart===0||N.strstart>=se)&&(N.lookahead=N.strstart-se,N.strstart=se,xe(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-Y&&(xe(N,!1),N.strm.avail_out===0))return K}return N.insert=0,Ne===x?(xe(N,!0),N.strm.avail_out===0?ue:Z):(N.strstart>N.block_start&&(xe(N,!1),N.strm.avail_out===0),K)}function nn(N,Ne){for(var Je,se;;){if(N.lookahead<Y){if(yt(N),N.lookahead<Y&&Ne===p)return K;if(N.lookahead===0)break}if(Je=0,N.lookahead>=j&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+j-1])&N.hash_mask,Je=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),Je!==0&&N.strstart-Je<=N.w_size-Y&&(N.match_length=dt(N,Je)),N.match_length>=j)if(se=l._tr_tally(N,N.strstart-N.match_start,N.match_length-j),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=j){N.match_length--;do N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+j-1])&N.hash_mask,Je=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart;while(--N.match_length!==0);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else se=l._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(se&&(xe(N,!1),N.strm.avail_out===0))return K}return N.insert=N.strstart<j-1?N.strstart:j-1,Ne===x?(xe(N,!0),N.strm.avail_out===0?ue:Z):N.last_lit&&(xe(N,!1),N.strm.avail_out===0)?K:ae}function zt(N,Ne){for(var Je,se,Be;;){if(N.lookahead<Y){if(yt(N),N.lookahead<Y&&Ne===p)return K;if(N.lookahead===0)break}if(Je=0,N.lookahead>=j&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+j-1])&N.hash_mask,Je=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=j-1,Je!==0&&N.prev_length<N.max_lazy_match&&N.strstart-Je<=N.w_size-Y&&(N.match_length=dt(N,Je),N.match_length<=5&&(N.strategy===T||N.match_length===j&&N.strstart-N.match_start>4096)&&(N.match_length=j-1)),N.prev_length>=j&&N.match_length<=N.prev_length){Be=N.strstart+N.lookahead-j,se=l._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-j),N.lookahead-=N.prev_length-1,N.prev_length-=2;do++N.strstart<=Be&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+j-1])&N.hash_mask,Je=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart);while(--N.prev_length!==0);if(N.match_available=0,N.match_length=j-1,N.strstart++,se&&(xe(N,!1),N.strm.avail_out===0))return K}else if(N.match_available){if(se=l._tr_tally(N,0,N.window[N.strstart-1]),se&&xe(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return K}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(se=l._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<j-1?N.strstart:j-1,Ne===x?(xe(N,!0),N.strm.avail_out===0?ue:Z):N.last_lit&&(xe(N,!1),N.strm.avail_out===0)?K:ae}function mt(N,Ne){for(var Je,se,Be,ft,Zt=N.window;;){if(N.lookahead<=U){if(yt(N),N.lookahead<=U&&Ne===p)return K;if(N.lookahead===0)break}if(N.match_length=0,N.lookahead>=j&&N.strstart>0&&(Be=N.strstart-1,se=Zt[Be],se===Zt[++Be]&&se===Zt[++Be]&&se===Zt[++Be])){ft=N.strstart+U;do;while(se===Zt[++Be]&&se===Zt[++Be]&&se===Zt[++Be]&&se===Zt[++Be]&&se===Zt[++Be]&&se===Zt[++Be]&&se===Zt[++Be]&&se===Zt[++Be]&&Be<ft);N.match_length=U-(ft-Be),N.match_length>N.lookahead&&(N.match_length=N.lookahead)}if(N.match_length>=j?(Je=l._tr_tally(N,1,N.match_length-j),N.lookahead-=N.match_length,N.strstart+=N.match_length,N.match_length=0):(Je=l._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++),Je&&(xe(N,!1),N.strm.avail_out===0))return K}return N.insert=0,Ne===x?(xe(N,!0),N.strm.avail_out===0?ue:Z):N.last_lit&&(xe(N,!1),N.strm.avail_out===0)?K:ae}function Ue(N,Ne){for(var Je;;){if(N.lookahead===0&&(yt(N),N.lookahead===0)){if(Ne===p)return K;break}if(N.match_length=0,Je=l._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++,Je&&(xe(N,!1),N.strm.avail_out===0))return K}return N.insert=0,Ne===x?(xe(N,!0),N.strm.avail_out===0?ue:Z):N.last_lit&&(xe(N,!1),N.strm.avail_out===0)?K:ae}function Me(N,Ne,Je,se,Be){this.good_length=N,this.max_lazy=Ne,this.nice_length=Je,this.max_chain=se,this.func=Be}var Mt;Mt=[new Me(0,0,0,0,Nt),new Me(4,4,8,4,nn),new Me(4,5,16,8,nn),new Me(4,6,32,32,nn),new Me(4,4,16,16,zt),new Me(8,16,32,32,zt),new Me(8,16,128,128,zt),new Me(8,32,128,256,zt),new Me(32,128,258,1024,zt),new Me(32,258,258,4096,zt)];function cn(N){N.window_size=2*N.w_size,it(N.head),N.max_lazy_match=Mt[N.level].max_lazy,N.good_match=Mt[N.level].good_length,N.nice_match=Mt[N.level].nice_length,N.max_chain_length=Mt[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=j-1,N.match_available=0,N.ins_h=0}function te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=G,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(ke*2),this.dyn_dtree=new o.Buf16((2*ee+1)*2),this.bl_tree=new o.Buf16((2*be+1)*2),it(this.dyn_ltree),it(this.dyn_dtree),it(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(z+1),this.heap=new o.Buf16(2*re+1),it(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*re+1),it(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function vt(N){var Ne;return!N||!N.state?Pe(N,b):(N.total_in=N.total_out=0,N.data_type=P,Ne=N.state,Ne.pending=0,Ne.pending_out=0,Ne.wrap<0&&(Ne.wrap=-Ne.wrap),Ne.status=Ne.wrap?ge:Ie,N.adler=Ne.wrap===2?0:1,Ne.last_flush=p,l._tr_init(Ne),w)}function It(N){var Ne=vt(N);return Ne===w&&cn(N.state),Ne}function Dt(N,Ne){return!N||!N.state||N.state.wrap!==2?b:(N.state.gzhead=Ne,w)}function Ee(N,Ne,Je,se,Be,ft){if(!N)return b;var Zt=1;if(Ne===k&&(Ne=6),se<0?(Zt=0,se=-se):se>15&&(Zt=2,se-=16),Be<1||Be>W||Je!==G||se<8||se>15||Ne<0||Ne>9||ft<0||ft>C)return Pe(N,b);se===8&&(se=9);var Lt=new te;return N.state=Lt,Lt.strm=N,Lt.wrap=Zt,Lt.gzhead=null,Lt.w_bits=se,Lt.w_size=1<<Lt.w_bits,Lt.w_mask=Lt.w_size-1,Lt.hash_bits=Be+7,Lt.hash_size=1<<Lt.hash_bits,Lt.hash_mask=Lt.hash_size-1,Lt.hash_shift=~~((Lt.hash_bits+j-1)/j),Lt.window=new o.Buf8(Lt.w_size*2),Lt.head=new o.Buf16(Lt.hash_size),Lt.prev=new o.Buf16(Lt.w_size),Lt.lit_bufsize=1<<Be+6,Lt.pending_buf_size=Lt.lit_bufsize*4,Lt.pending_buf=new o.Buf8(Lt.pending_buf_size),Lt.d_buf=1*Lt.lit_bufsize,Lt.l_buf=3*Lt.lit_bufsize,Lt.level=Ne,Lt.strategy=ft,Lt.method=Je,It(N)}function Et(N,Ne){return Ee(N,Ne,G,J,ne,O)}function I(N,Ne){var Je,se,Be,ft;if(!N||!N.state||Ne>S||Ne<0)return N?Pe(N,b):b;if(se=N.state,!N.output||!N.input&&N.avail_in!==0||se.status===V&&Ne!==x)return Pe(N,N.avail_out===0?E:b);if(se.strm=N,Je=se.last_flush,se.last_flush=Ne,se.status===ge)if(se.wrap===2)N.adler=0,Se(se,31),Se(se,139),Se(se,8),se.gzhead?(Se(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),Se(se,se.gzhead.time&255),Se(se,se.gzhead.time>>8&255),Se(se,se.gzhead.time>>16&255),Se(se,se.gzhead.time>>24&255),Se(se,se.level===9?2:se.strategy>=L||se.level<2?4:0),Se(se,se.gzhead.os&255),se.gzhead.extra&&se.gzhead.extra.length&&(Se(se,se.gzhead.extra.length&255),Se(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(N.adler=f(N.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=he):(Se(se,0),Se(se,0),Se(se,0),Se(se,0),Se(se,0),Se(se,se.level===9?2:se.strategy>=L||se.level<2?4:0),Se(se,ve),se.status=Ie);else{var Zt=G+(se.w_bits-8<<4)<<8,Lt=-1;se.strategy>=L||se.level<2?Lt=0:se.level<6?Lt=1:se.level===6?Lt=2:Lt=3,Zt|=Lt<<6,se.strstart!==0&&(Zt|=ce),Zt+=31-Zt%31,se.status=Ie,gt(se,Zt),se.strstart!==0&&(gt(se,N.adler>>>16),gt(se,N.adler&65535)),N.adler=1}if(se.status===he)if(se.gzhead.extra){for(Be=se.pending;se.gzindex<(se.gzhead.extra.length&65535)&&!(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>Be&&(N.adler=f(N.adler,se.pending_buf,se.pending-Be,Be)),fe(N),Be=se.pending,se.pending===se.pending_buf_size));)Se(se,se.gzhead.extra[se.gzindex]&255),se.gzindex++;se.gzhead.hcrc&&se.pending>Be&&(N.adler=f(N.adler,se.pending_buf,se.pending-Be,Be)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=ye)}else se.status=ye;if(se.status===ye)if(se.gzhead.name){Be=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>Be&&(N.adler=f(N.adler,se.pending_buf,se.pending-Be,Be)),fe(N),Be=se.pending,se.pending===se.pending_buf_size)){ft=1;break}se.gzindex<se.gzhead.name.length?ft=se.gzhead.name.charCodeAt(se.gzindex++)&255:ft=0,Se(se,ft)}while(ft!==0);se.gzhead.hcrc&&se.pending>Be&&(N.adler=f(N.adler,se.pending_buf,se.pending-Be,Be)),ft===0&&(se.gzindex=0,se.status=Ae)}else se.status=Ae;if(se.status===Ae)if(se.gzhead.comment){Be=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>Be&&(N.adler=f(N.adler,se.pending_buf,se.pending-Be,Be)),fe(N),Be=se.pending,se.pending===se.pending_buf_size)){ft=1;break}se.gzindex<se.gzhead.comment.length?ft=se.gzhead.comment.charCodeAt(se.gzindex++)&255:ft=0,Se(se,ft)}while(ft!==0);se.gzhead.hcrc&&se.pending>Be&&(N.adler=f(N.adler,se.pending_buf,se.pending-Be,Be)),ft===0&&(se.status=ot)}else se.status=ot;if(se.status===ot&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&fe(N),se.pending+2<=se.pending_buf_size&&(Se(se,N.adler&255),Se(se,N.adler>>8&255),N.adler=0,se.status=Ie)):se.status=Ie),se.pending!==0){if(fe(N),N.avail_out===0)return se.last_flush=-1,w}else if(N.avail_in===0&&Fe(Ne)<=Fe(Je)&&Ne!==x)return Pe(N,E);if(se.status===V&&N.avail_in!==0)return Pe(N,E);if(N.avail_in!==0||se.lookahead!==0||Ne!==p&&se.status!==V){var Vt=se.strategy===L?Ue(se,Ne):se.strategy===F?mt(se,Ne):Mt[se.level].func(se,Ne);if((Vt===ue||Vt===Z)&&(se.status=V),Vt===K||Vt===ue)return N.avail_out===0&&(se.last_flush=-1),w;if(Vt===ae&&(Ne===g?l._tr_align(se):Ne!==S&&(l._tr_stored_block(se,0,0,!1),Ne===y&&(it(se.head),se.lookahead===0&&(se.strstart=0,se.block_start=0,se.insert=0))),fe(N),N.avail_out===0))return se.last_flush=-1,w}return Ne!==x?w:se.wrap<=0?v:(se.wrap===2?(Se(se,N.adler&255),Se(se,N.adler>>8&255),Se(se,N.adler>>16&255),Se(se,N.adler>>24&255),Se(se,N.total_in&255),Se(se,N.total_in>>8&255),Se(se,N.total_in>>16&255),Se(se,N.total_in>>24&255)):(gt(se,N.adler>>>16),gt(se,N.adler&65535)),fe(N),se.wrap>0&&(se.wrap=-se.wrap),se.pending!==0?w:v)}function X(N){var Ne;return!N||!N.state?b:(Ne=N.state.status,Ne!==ge&&Ne!==he&&Ne!==ye&&Ne!==Ae&&Ne!==ot&&Ne!==Ie&&Ne!==V?Pe(N,b):(N.state=null,Ne===Ie?Pe(N,_):w))}function Ce(N,Ne){var Je=Ne.length,se,Be,ft,Zt,Lt,Vt,In,vr;if(!N||!N.state||(se=N.state,Zt=se.wrap,Zt===2||Zt===1&&se.status!==ge||se.lookahead))return b;for(Zt===1&&(N.adler=c(N.adler,Ne,Je,0)),se.wrap=0,Je>=se.w_size&&(Zt===0&&(it(se.head),se.strstart=0,se.block_start=0,se.insert=0),vr=new o.Buf8(se.w_size),o.arraySet(vr,Ne,Je-se.w_size,se.w_size,0),Ne=vr,Je=se.w_size),Lt=N.avail_in,Vt=N.next_in,In=N.input,N.avail_in=Je,N.next_in=0,N.input=Ne,yt(se);se.lookahead>=j;){Be=se.strstart,ft=se.lookahead-(j-1);do se.ins_h=(se.ins_h<<se.hash_shift^se.window[Be+j-1])&se.hash_mask,se.prev[Be&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=Be,Be++;while(--ft);se.strstart=Be,se.lookahead=j-1,yt(se)}return se.strstart+=se.lookahead,se.block_start=se.strstart,se.insert=se.lookahead,se.lookahead=0,se.match_length=se.prev_length=j-1,se.match_available=0,N.next_in=Vt,N.input=In,N.avail_in=Lt,se.wrap=Zt,w}s.deflateInit=Et,s.deflateInit2=Ee,s.deflateReset=It,s.deflateResetKeep=vt,s.deflateSetHeader=Dt,s.deflate=I,s.deflateEnd=X,s.deflateSetDictionary=Ce,s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,s){function o(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=o},{}],48:[function(n,i,s){var o=30,l=12;i.exports=function(f,h){var p,g,y,x,S,w,v,b,_,E,k,T,L,F,C,O,P,G,W,J,ne,we,me,re,ee;p=f.state,g=f.next_in,re=f.input,y=g+(f.avail_in-5),x=f.next_out,ee=f.output,S=x-(h-f.avail_out),w=x+(f.avail_out-257),v=p.dmax,b=p.wsize,_=p.whave,E=p.wnext,k=p.window,T=p.hold,L=p.bits,F=p.lencode,C=p.distcode,O=(1<<p.lenbits)-1,P=(1<<p.distbits)-1;e:do{L<15&&(T+=re[g++]<<L,L+=8,T+=re[g++]<<L,L+=8),G=F[T&O];t:for(;;){if(W=G>>>24,T>>>=W,L-=W,W=G>>>16&255,W===0)ee[x++]=G&65535;else if(W&16){J=G&65535,W&=15,W&&(L<W&&(T+=re[g++]<<L,L+=8),J+=T&(1<<W)-1,T>>>=W,L-=W),L<15&&(T+=re[g++]<<L,L+=8,T+=re[g++]<<L,L+=8),G=C[T&P];n:for(;;){if(W=G>>>24,T>>>=W,L-=W,W=G>>>16&255,W&16){if(ne=G&65535,W&=15,L<W&&(T+=re[g++]<<L,L+=8,L<W&&(T+=re[g++]<<L,L+=8)),ne+=T&(1<<W)-1,ne>v){f.msg="invalid distance too far back",p.mode=o;break e}if(T>>>=W,L-=W,W=x-S,ne>W){if(W=ne-W,W>_&&p.sane){f.msg="invalid distance too far back",p.mode=o;break e}if(we=0,me=k,E===0){if(we+=b-W,W<J){J-=W;do ee[x++]=k[we++];while(--W);we=x-ne,me=ee}}else if(E<W){if(we+=b+E-W,W-=E,W<J){J-=W;do ee[x++]=k[we++];while(--W);if(we=0,E<J){W=E,J-=W;do ee[x++]=k[we++];while(--W);we=x-ne,me=ee}}}else if(we+=E-W,W<J){J-=W;do ee[x++]=k[we++];while(--W);we=x-ne,me=ee}for(;J>2;)ee[x++]=me[we++],ee[x++]=me[we++],ee[x++]=me[we++],J-=3;J&&(ee[x++]=me[we++],J>1&&(ee[x++]=me[we++]))}else{we=x-ne;do ee[x++]=ee[we++],ee[x++]=ee[we++],ee[x++]=ee[we++],J-=3;while(J>2);J&&(ee[x++]=ee[we++],J>1&&(ee[x++]=ee[we++]))}}else if(W&64){f.msg="invalid distance code",p.mode=o;break e}else{G=C[(G&65535)+(T&(1<<W)-1)];continue n}break}}else if(W&64)if(W&32){p.mode=l;break e}else{f.msg="invalid literal/length code",p.mode=o;break e}else{G=F[(G&65535)+(T&(1<<W)-1)];continue t}break}}while(g<y&&x<w);J=L>>3,g-=J,L-=J<<3,T&=(1<<L)-1,f.next_in=g,f.next_out=x,f.avail_in=g<y?5+(y-g):5-(g-y),f.avail_out=x<w?257+(w-x):257-(x-w),p.hold=T,p.bits=L}},{}],49:[function(n,i,s){var o=n("../utils/common"),l=n("./adler32"),c=n("./crc32"),f=n("./inffast"),h=n("./inftrees"),p=0,g=1,y=2,x=4,S=5,w=6,v=0,b=1,_=2,E=-2,k=-3,T=-4,L=-5,F=8,C=1,O=2,P=3,G=4,W=5,J=6,ne=7,we=8,me=9,re=10,ee=11,be=12,ke=13,z=14,j=15,U=16,Y=17,ce=18,ge=19,he=20,ye=21,Ae=22,ot=23,Ie=24,V=25,K=26,ae=27,ue=28,Z=29,ve=30,Pe=31,Fe=32,it=852,fe=592,xe=15,Se=xe;function gt(Ee){return(Ee>>>24&255)+(Ee>>>8&65280)+((Ee&65280)<<8)+((Ee&255)<<24)}function qe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function dt(Ee){var Et;return!Ee||!Ee.state?E:(Et=Ee.state,Ee.total_in=Ee.total_out=Et.total=0,Ee.msg="",Et.wrap&&(Ee.adler=Et.wrap&1),Et.mode=C,Et.last=0,Et.havedict=0,Et.dmax=32768,Et.head=null,Et.hold=0,Et.bits=0,Et.lencode=Et.lendyn=new o.Buf32(it),Et.distcode=Et.distdyn=new o.Buf32(fe),Et.sane=1,Et.back=-1,v)}function yt(Ee){var Et;return!Ee||!Ee.state?E:(Et=Ee.state,Et.wsize=0,Et.whave=0,Et.wnext=0,dt(Ee))}function Nt(Ee,Et){var I,X;return!Ee||!Ee.state||(X=Ee.state,Et<0?(I=0,Et=-Et):(I=(Et>>4)+1,Et<48&&(Et&=15)),Et&&(Et<8||Et>15))?E:(X.window!==null&&X.wbits!==Et&&(X.window=null),X.wrap=I,X.wbits=Et,yt(Ee))}function nn(Ee,Et){var I,X;return Ee?(X=new qe,Ee.state=X,X.window=null,I=Nt(Ee,Et),I!==v&&(Ee.state=null),I):E}function zt(Ee){return nn(Ee,Se)}var mt=!0,Ue,Me;function Mt(Ee){if(mt){var Et;for(Ue=new o.Buf32(512),Me=new o.Buf32(32),Et=0;Et<144;)Ee.lens[Et++]=8;for(;Et<256;)Ee.lens[Et++]=9;for(;Et<280;)Ee.lens[Et++]=7;for(;Et<288;)Ee.lens[Et++]=8;for(h(g,Ee.lens,0,288,Ue,0,Ee.work,{bits:9}),Et=0;Et<32;)Ee.lens[Et++]=5;h(y,Ee.lens,0,32,Me,0,Ee.work,{bits:5}),mt=!1}Ee.lencode=Ue,Ee.lenbits=9,Ee.distcode=Me,Ee.distbits=5}function cn(Ee,Et,I,X){var Ce,N=Ee.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new o.Buf8(N.wsize)),X>=N.wsize?(o.arraySet(N.window,Et,I-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(Ce=N.wsize-N.wnext,Ce>X&&(Ce=X),o.arraySet(N.window,Et,I-X,Ce,N.wnext),X-=Ce,X?(o.arraySet(N.window,Et,I-X,X,0),N.wnext=X,N.whave=N.wsize):(N.wnext+=Ce,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=Ce))),0}function te(Ee,Et){var I,X,Ce,N,Ne,Je,se,Be,ft,Zt,Lt,Vt,In,vr,Kn=0,Mn,ur,Wn,br,dr,Qr,Sr,Rr,kr=new o.Buf8(4),Fr,Xr,zi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Ee||!Ee.state||!Ee.output||!Ee.input&&Ee.avail_in!==0)return E;I=Ee.state,I.mode===be&&(I.mode=ke),Ne=Ee.next_out,Ce=Ee.output,se=Ee.avail_out,N=Ee.next_in,X=Ee.input,Je=Ee.avail_in,Be=I.hold,ft=I.bits,Zt=Je,Lt=se,Rr=v;e:for(;;)switch(I.mode){case C:if(I.wrap===0){I.mode=ke;break}for(;ft<16;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}if(I.wrap&2&&Be===35615){I.check=0,kr[0]=Be&255,kr[1]=Be>>>8&255,I.check=c(I.check,kr,2,0),Be=0,ft=0,I.mode=O;break}if(I.flags=0,I.head&&(I.head.done=!1),!(I.wrap&1)||(((Be&255)<<8)+(Be>>8))%31){Ee.msg="incorrect header check",I.mode=ve;break}if((Be&15)!==F){Ee.msg="unknown compression method",I.mode=ve;break}if(Be>>>=4,ft-=4,Sr=(Be&15)+8,I.wbits===0)I.wbits=Sr;else if(Sr>I.wbits){Ee.msg="invalid window size",I.mode=ve;break}I.dmax=1<<Sr,Ee.adler=I.check=1,I.mode=Be&512?re:be,Be=0,ft=0;break;case O:for(;ft<16;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}if(I.flags=Be,(I.flags&255)!==F){Ee.msg="unknown compression method",I.mode=ve;break}if(I.flags&57344){Ee.msg="unknown header flags set",I.mode=ve;break}I.head&&(I.head.text=Be>>8&1),I.flags&512&&(kr[0]=Be&255,kr[1]=Be>>>8&255,I.check=c(I.check,kr,2,0)),Be=0,ft=0,I.mode=P;case P:for(;ft<32;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}I.head&&(I.head.time=Be),I.flags&512&&(kr[0]=Be&255,kr[1]=Be>>>8&255,kr[2]=Be>>>16&255,kr[3]=Be>>>24&255,I.check=c(I.check,kr,4,0)),Be=0,ft=0,I.mode=G;case G:for(;ft<16;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}I.head&&(I.head.xflags=Be&255,I.head.os=Be>>8),I.flags&512&&(kr[0]=Be&255,kr[1]=Be>>>8&255,I.check=c(I.check,kr,2,0)),Be=0,ft=0,I.mode=W;case W:if(I.flags&1024){for(;ft<16;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}I.length=Be,I.head&&(I.head.extra_len=Be),I.flags&512&&(kr[0]=Be&255,kr[1]=Be>>>8&255,I.check=c(I.check,kr,2,0)),Be=0,ft=0}else I.head&&(I.head.extra=null);I.mode=J;case J:if(I.flags&1024&&(Vt=I.length,Vt>Je&&(Vt=Je),Vt&&(I.head&&(Sr=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),o.arraySet(I.head.extra,X,N,Vt,Sr)),I.flags&512&&(I.check=c(I.check,X,Vt,N)),Je-=Vt,N+=Vt,I.length-=Vt),I.length))break e;I.length=0,I.mode=ne;case ne:if(I.flags&2048){if(Je===0)break e;Vt=0;do Sr=X[N+Vt++],I.head&&Sr&&I.length<65536&&(I.head.name+=String.fromCharCode(Sr));while(Sr&&Vt<Je);if(I.flags&512&&(I.check=c(I.check,X,Vt,N)),Je-=Vt,N+=Vt,Sr)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=we;case we:if(I.flags&4096){if(Je===0)break e;Vt=0;do Sr=X[N+Vt++],I.head&&Sr&&I.length<65536&&(I.head.comment+=String.fromCharCode(Sr));while(Sr&&Vt<Je);if(I.flags&512&&(I.check=c(I.check,X,Vt,N)),Je-=Vt,N+=Vt,Sr)break e}else I.head&&(I.head.comment=null);I.mode=me;case me:if(I.flags&512){for(;ft<16;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}if(Be!==(I.check&65535)){Ee.msg="header crc mismatch",I.mode=ve;break}Be=0,ft=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),Ee.adler=I.check=0,I.mode=be;break;case re:for(;ft<32;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}Ee.adler=I.check=gt(Be),Be=0,ft=0,I.mode=ee;case ee:if(I.havedict===0)return Ee.next_out=Ne,Ee.avail_out=se,Ee.next_in=N,Ee.avail_in=Je,I.hold=Be,I.bits=ft,_;Ee.adler=I.check=1,I.mode=be;case be:if(Et===S||Et===w)break e;case ke:if(I.last){Be>>>=ft&7,ft-=ft&7,I.mode=ae;break}for(;ft<3;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}switch(I.last=Be&1,Be>>>=1,ft-=1,Be&3){case 0:I.mode=z;break;case 1:if(Mt(I),I.mode=he,Et===w){Be>>>=2,ft-=2;break e}break;case 2:I.mode=Y;break;case 3:Ee.msg="invalid block type",I.mode=ve}Be>>>=2,ft-=2;break;case z:for(Be>>>=ft&7,ft-=ft&7;ft<32;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}if((Be&65535)!==(Be>>>16^65535)){Ee.msg="invalid stored block lengths",I.mode=ve;break}if(I.length=Be&65535,Be=0,ft=0,I.mode=j,Et===w)break e;case j:I.mode=U;case U:if(Vt=I.length,Vt){if(Vt>Je&&(Vt=Je),Vt>se&&(Vt=se),Vt===0)break e;o.arraySet(Ce,X,N,Vt,Ne),Je-=Vt,N+=Vt,se-=Vt,Ne+=Vt,I.length-=Vt;break}I.mode=be;break;case Y:for(;ft<14;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}if(I.nlen=(Be&31)+257,Be>>>=5,ft-=5,I.ndist=(Be&31)+1,Be>>>=5,ft-=5,I.ncode=(Be&15)+4,Be>>>=4,ft-=4,I.nlen>286||I.ndist>30){Ee.msg="too many length or distance symbols",I.mode=ve;break}I.have=0,I.mode=ce;case ce:for(;I.have<I.ncode;){for(;ft<3;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}I.lens[zi[I.have++]]=Be&7,Be>>>=3,ft-=3}for(;I.have<19;)I.lens[zi[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,Fr={bits:I.lenbits},Rr=h(p,I.lens,0,19,I.lencode,0,I.work,Fr),I.lenbits=Fr.bits,Rr){Ee.msg="invalid code lengths set",I.mode=ve;break}I.have=0,I.mode=ge;case ge:for(;I.have<I.nlen+I.ndist;){for(;Kn=I.lencode[Be&(1<<I.lenbits)-1],Mn=Kn>>>24,ur=Kn>>>16&255,Wn=Kn&65535,!(Mn<=ft);){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}if(Wn<16)Be>>>=Mn,ft-=Mn,I.lens[I.have++]=Wn;else{if(Wn===16){for(Xr=Mn+2;ft<Xr;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}if(Be>>>=Mn,ft-=Mn,I.have===0){Ee.msg="invalid bit length repeat",I.mode=ve;break}Sr=I.lens[I.have-1],Vt=3+(Be&3),Be>>>=2,ft-=2}else if(Wn===17){for(Xr=Mn+3;ft<Xr;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}Be>>>=Mn,ft-=Mn,Sr=0,Vt=3+(Be&7),Be>>>=3,ft-=3}else{for(Xr=Mn+7;ft<Xr;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}Be>>>=Mn,ft-=Mn,Sr=0,Vt=11+(Be&127),Be>>>=7,ft-=7}if(I.have+Vt>I.nlen+I.ndist){Ee.msg="invalid bit length repeat",I.mode=ve;break}for(;Vt--;)I.lens[I.have++]=Sr}}if(I.mode===ve)break;if(I.lens[256]===0){Ee.msg="invalid code -- missing end-of-block",I.mode=ve;break}if(I.lenbits=9,Fr={bits:I.lenbits},Rr=h(g,I.lens,0,I.nlen,I.lencode,0,I.work,Fr),I.lenbits=Fr.bits,Rr){Ee.msg="invalid literal/lengths set",I.mode=ve;break}if(I.distbits=6,I.distcode=I.distdyn,Fr={bits:I.distbits},Rr=h(y,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,Fr),I.distbits=Fr.bits,Rr){Ee.msg="invalid distances set",I.mode=ve;break}if(I.mode=he,Et===w)break e;case he:I.mode=ye;case ye:if(Je>=6&&se>=258){Ee.next_out=Ne,Ee.avail_out=se,Ee.next_in=N,Ee.avail_in=Je,I.hold=Be,I.bits=ft,f(Ee,Lt),Ne=Ee.next_out,Ce=Ee.output,se=Ee.avail_out,N=Ee.next_in,X=Ee.input,Je=Ee.avail_in,Be=I.hold,ft=I.bits,I.mode===be&&(I.back=-1);break}for(I.back=0;Kn=I.lencode[Be&(1<<I.lenbits)-1],Mn=Kn>>>24,ur=Kn>>>16&255,Wn=Kn&65535,!(Mn<=ft);){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}if(ur&&!(ur&240)){for(br=Mn,dr=ur,Qr=Wn;Kn=I.lencode[Qr+((Be&(1<<br+dr)-1)>>br)],Mn=Kn>>>24,ur=Kn>>>16&255,Wn=Kn&65535,!(br+Mn<=ft);){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}Be>>>=br,ft-=br,I.back+=br}if(Be>>>=Mn,ft-=Mn,I.back+=Mn,I.length=Wn,ur===0){I.mode=K;break}if(ur&32){I.back=-1,I.mode=be;break}if(ur&64){Ee.msg="invalid literal/length code",I.mode=ve;break}I.extra=ur&15,I.mode=Ae;case Ae:if(I.extra){for(Xr=I.extra;ft<Xr;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}I.length+=Be&(1<<I.extra)-1,Be>>>=I.extra,ft-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=ot;case ot:for(;Kn=I.distcode[Be&(1<<I.distbits)-1],Mn=Kn>>>24,ur=Kn>>>16&255,Wn=Kn&65535,!(Mn<=ft);){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}if(!(ur&240)){for(br=Mn,dr=ur,Qr=Wn;Kn=I.distcode[Qr+((Be&(1<<br+dr)-1)>>br)],Mn=Kn>>>24,ur=Kn>>>16&255,Wn=Kn&65535,!(br+Mn<=ft);){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}Be>>>=br,ft-=br,I.back+=br}if(Be>>>=Mn,ft-=Mn,I.back+=Mn,ur&64){Ee.msg="invalid distance code",I.mode=ve;break}I.offset=Wn,I.extra=ur&15,I.mode=Ie;case Ie:if(I.extra){for(Xr=I.extra;ft<Xr;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}I.offset+=Be&(1<<I.extra)-1,Be>>>=I.extra,ft-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){Ee.msg="invalid distance too far back",I.mode=ve;break}I.mode=V;case V:if(se===0)break e;if(Vt=Lt-se,I.offset>Vt){if(Vt=I.offset-Vt,Vt>I.whave&&I.sane){Ee.msg="invalid distance too far back",I.mode=ve;break}Vt>I.wnext?(Vt-=I.wnext,In=I.wsize-Vt):In=I.wnext-Vt,Vt>I.length&&(Vt=I.length),vr=I.window}else vr=Ce,In=Ne-I.offset,Vt=I.length;Vt>se&&(Vt=se),se-=Vt,I.length-=Vt;do Ce[Ne++]=vr[In++];while(--Vt);I.length===0&&(I.mode=ye);break;case K:if(se===0)break e;Ce[Ne++]=I.length,se--,I.mode=ye;break;case ae:if(I.wrap){for(;ft<32;){if(Je===0)break e;Je--,Be|=X[N++]<<ft,ft+=8}if(Lt-=se,Ee.total_out+=Lt,I.total+=Lt,Lt&&(Ee.adler=I.check=I.flags?c(I.check,Ce,Lt,Ne-Lt):l(I.check,Ce,Lt,Ne-Lt)),Lt=se,(I.flags?Be:gt(Be))!==I.check){Ee.msg="incorrect data check",I.mode=ve;break}Be=0,ft=0}I.mode=ue;case ue:if(I.wrap&&I.flags){for(;ft<32;){if(Je===0)break e;Je--,Be+=X[N++]<<ft,ft+=8}if(Be!==(I.total&4294967295)){Ee.msg="incorrect length check",I.mode=ve;break}Be=0,ft=0}I.mode=Z;case Z:Rr=b;break e;case ve:Rr=k;break e;case Pe:return T;case Fe:default:return E}return Ee.next_out=Ne,Ee.avail_out=se,Ee.next_in=N,Ee.avail_in=Je,I.hold=Be,I.bits=ft,(I.wsize||Lt!==Ee.avail_out&&I.mode<ve&&(I.mode<ae||Et!==x))&&cn(Ee,Ee.output,Ee.next_out,Lt-Ee.avail_out),Zt-=Ee.avail_in,Lt-=Ee.avail_out,Ee.total_in+=Zt,Ee.total_out+=Lt,I.total+=Lt,I.wrap&&Lt&&(Ee.adler=I.check=I.flags?c(I.check,Ce,Lt,Ee.next_out-Lt):l(I.check,Ce,Lt,Ee.next_out-Lt)),Ee.data_type=I.bits+(I.last?64:0)+(I.mode===be?128:0)+(I.mode===he||I.mode===j?256:0),(Zt===0&&Lt===0||Et===x)&&Rr===v&&(Rr=L),Rr}function vt(Ee){if(!Ee||!Ee.state)return E;var Et=Ee.state;return Et.window&&(Et.window=null),Ee.state=null,v}function It(Ee,Et){var I;return!Ee||!Ee.state||(I=Ee.state,!(I.wrap&2))?E:(I.head=Et,Et.done=!1,v)}function Dt(Ee,Et){var I=Et.length,X,Ce,N;return!Ee||!Ee.state||(X=Ee.state,X.wrap!==0&&X.mode!==ee)?E:X.mode===ee&&(Ce=1,Ce=l(Ce,Et,I,0),Ce!==X.check)?k:(N=cn(Ee,Et,I,I),N?(X.mode=Pe,T):(X.havedict=1,v))}s.inflateReset=yt,s.inflateReset2=Nt,s.inflateResetKeep=dt,s.inflateInit=zt,s.inflateInit2=nn,s.inflate=te,s.inflateEnd=vt,s.inflateGetHeader=It,s.inflateSetDictionary=Dt,s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,s){var o=n("../utils/common"),l=15,c=852,f=592,h=0,p=1,g=2,y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],S=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(b,_,E,k,T,L,F,C){var O=C.bits,P=0,G=0,W=0,J=0,ne=0,we=0,me=0,re=0,ee=0,be=0,ke,z,j,U,Y,ce=null,ge=0,he,ye=new o.Buf16(l+1),Ae=new o.Buf16(l+1),ot=null,Ie=0,V,K,ae;for(P=0;P<=l;P++)ye[P]=0;for(G=0;G<k;G++)ye[_[E+G]]++;for(ne=O,J=l;J>=1&&ye[J]===0;J--);if(ne>J&&(ne=J),J===0)return T[L++]=1<<24|64<<16|0,T[L++]=1<<24|64<<16|0,C.bits=1,0;for(W=1;W<J&&ye[W]===0;W++);for(ne<W&&(ne=W),re=1,P=1;P<=l;P++)if(re<<=1,re-=ye[P],re<0)return-1;if(re>0&&(b===h||J!==1))return-1;for(Ae[1]=0,P=1;P<l;P++)Ae[P+1]=Ae[P]+ye[P];for(G=0;G<k;G++)_[E+G]!==0&&(F[Ae[_[E+G]]++]=G);if(b===h?(ce=ot=F,he=19):b===p?(ce=y,ge-=257,ot=x,Ie-=257,he=256):(ce=S,ot=w,he=-1),be=0,G=0,P=W,Y=L,we=ne,me=0,j=-1,ee=1<<ne,U=ee-1,b===p&&ee>c||b===g&&ee>f)return 1;for(;;){V=P-me,F[G]<he?(K=0,ae=F[G]):F[G]>he?(K=ot[Ie+F[G]],ae=ce[ge+F[G]]):(K=96,ae=0),ke=1<<P-me,z=1<<we,W=z;do z-=ke,T[Y+(be>>me)+z]=V<<24|K<<16|ae|0;while(z!==0);for(ke=1<<P-1;be&ke;)ke>>=1;if(ke!==0?(be&=ke-1,be+=ke):be=0,G++,--ye[P]===0){if(P===J)break;P=_[E+F[G]]}if(P>ne&&(be&U)!==j){for(me===0&&(me=ne),Y+=W,we=P-me,re=1<<we;we+me<J&&(re-=ye[we+me],!(re<=0));)we++,re<<=1;if(ee+=1<<we,b===p&&ee>c||b===g&&ee>f)return 1;j=be&U,T[j]=ne<<24|we<<16|Y-L|0}}return be!==0&&(T[Y+be]=P-me<<24|64<<16|0),C.bits=ne,0}},{"../utils/common":41}],51:[function(n,i,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,s){var o=n("../utils/common"),l=4,c=0,f=1,h=2;function p(te){for(var vt=te.length;--vt>=0;)te[vt]=0}var g=0,y=1,x=2,S=3,w=258,v=29,b=256,_=b+1+v,E=30,k=19,T=2*_+1,L=15,F=16,C=7,O=256,P=16,G=17,W=18,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=512,ee=new Array((_+2)*2);p(ee);var be=new Array(E*2);p(be);var ke=new Array(re);p(ke);var z=new Array(w-S+1);p(z);var j=new Array(v);p(j);var U=new Array(E);p(U);function Y(te,vt,It,Dt,Ee){this.static_tree=te,this.extra_bits=vt,this.extra_base=It,this.elems=Dt,this.max_length=Ee,this.has_stree=te&&te.length}var ce,ge,he;function ye(te,vt){this.dyn_tree=te,this.max_code=0,this.stat_desc=vt}function Ae(te){return te<256?ke[te]:ke[256+(te>>>7)]}function ot(te,vt){te.pending_buf[te.pending++]=vt&255,te.pending_buf[te.pending++]=vt>>>8&255}function Ie(te,vt,It){te.bi_valid>F-It?(te.bi_buf|=vt<<te.bi_valid&65535,ot(te,te.bi_buf),te.bi_buf=vt>>F-te.bi_valid,te.bi_valid+=It-F):(te.bi_buf|=vt<<te.bi_valid&65535,te.bi_valid+=It)}function V(te,vt,It){Ie(te,It[vt*2],It[vt*2+1])}function K(te,vt){var It=0;do It|=te&1,te>>>=1,It<<=1;while(--vt>0);return It>>>1}function ae(te){te.bi_valid===16?(ot(te,te.bi_buf),te.bi_buf=0,te.bi_valid=0):te.bi_valid>=8&&(te.pending_buf[te.pending++]=te.bi_buf&255,te.bi_buf>>=8,te.bi_valid-=8)}function ue(te,vt){var It=vt.dyn_tree,Dt=vt.max_code,Ee=vt.stat_desc.static_tree,Et=vt.stat_desc.has_stree,I=vt.stat_desc.extra_bits,X=vt.stat_desc.extra_base,Ce=vt.stat_desc.max_length,N,Ne,Je,se,Be,ft,Zt=0;for(se=0;se<=L;se++)te.bl_count[se]=0;for(It[te.heap[te.heap_max]*2+1]=0,N=te.heap_max+1;N<T;N++)Ne=te.heap[N],se=It[It[Ne*2+1]*2+1]+1,se>Ce&&(se=Ce,Zt++),It[Ne*2+1]=se,!(Ne>Dt)&&(te.bl_count[se]++,Be=0,Ne>=X&&(Be=I[Ne-X]),ft=It[Ne*2],te.opt_len+=ft*(se+Be),Et&&(te.static_len+=ft*(Ee[Ne*2+1]+Be)));if(Zt!==0){do{for(se=Ce-1;te.bl_count[se]===0;)se--;te.bl_count[se]--,te.bl_count[se+1]+=2,te.bl_count[Ce]--,Zt-=2}while(Zt>0);for(se=Ce;se!==0;se--)for(Ne=te.bl_count[se];Ne!==0;)Je=te.heap[--N],!(Je>Dt)&&(It[Je*2+1]!==se&&(te.opt_len+=(se-It[Je*2+1])*It[Je*2],It[Je*2+1]=se),Ne--)}}function Z(te,vt,It){var Dt=new Array(L+1),Ee=0,Et,I;for(Et=1;Et<=L;Et++)Dt[Et]=Ee=Ee+It[Et-1]<<1;for(I=0;I<=vt;I++){var X=te[I*2+1];X!==0&&(te[I*2]=K(Dt[X]++,X))}}function ve(){var te,vt,It,Dt,Ee,Et=new Array(L+1);for(It=0,Dt=0;Dt<v-1;Dt++)for(j[Dt]=It,te=0;te<1<<J[Dt];te++)z[It++]=Dt;for(z[It-1]=Dt,Ee=0,Dt=0;Dt<16;Dt++)for(U[Dt]=Ee,te=0;te<1<<ne[Dt];te++)ke[Ee++]=Dt;for(Ee>>=7;Dt<E;Dt++)for(U[Dt]=Ee<<7,te=0;te<1<<ne[Dt]-7;te++)ke[256+Ee++]=Dt;for(vt=0;vt<=L;vt++)Et[vt]=0;for(te=0;te<=143;)ee[te*2+1]=8,te++,Et[8]++;for(;te<=255;)ee[te*2+1]=9,te++,Et[9]++;for(;te<=279;)ee[te*2+1]=7,te++,Et[7]++;for(;te<=287;)ee[te*2+1]=8,te++,Et[8]++;for(Z(ee,_+1,Et),te=0;te<E;te++)be[te*2+1]=5,be[te*2]=K(te,5);ce=new Y(ee,J,b+1,_,L),ge=new Y(be,ne,0,E,L),he=new Y(new Array(0),we,0,k,C)}function Pe(te){var vt;for(vt=0;vt<_;vt++)te.dyn_ltree[vt*2]=0;for(vt=0;vt<E;vt++)te.dyn_dtree[vt*2]=0;for(vt=0;vt<k;vt++)te.bl_tree[vt*2]=0;te.dyn_ltree[O*2]=1,te.opt_len=te.static_len=0,te.last_lit=te.matches=0}function Fe(te){te.bi_valid>8?ot(te,te.bi_buf):te.bi_valid>0&&(te.pending_buf[te.pending++]=te.bi_buf),te.bi_buf=0,te.bi_valid=0}function it(te,vt,It,Dt){Fe(te),ot(te,It),ot(te,~It),o.arraySet(te.pending_buf,te.window,vt,It,te.pending),te.pending+=It}function fe(te,vt,It,Dt){var Ee=vt*2,Et=It*2;return te[Ee]<te[Et]||te[Ee]===te[Et]&&Dt[vt]<=Dt[It]}function xe(te,vt,It){for(var Dt=te.heap[It],Ee=It<<1;Ee<=te.heap_len&&(Ee<te.heap_len&&fe(vt,te.heap[Ee+1],te.heap[Ee],te.depth)&&Ee++,!fe(vt,Dt,te.heap[Ee],te.depth));)te.heap[It]=te.heap[Ee],It=Ee,Ee<<=1;te.heap[It]=Dt}function Se(te,vt,It){var Dt,Ee,Et=0,I,X;if(te.last_lit!==0)do Dt=te.pending_buf[te.d_buf+Et*2]<<8|te.pending_buf[te.d_buf+Et*2+1],Ee=te.pending_buf[te.l_buf+Et],Et++,Dt===0?V(te,Ee,vt):(I=z[Ee],V(te,I+b+1,vt),X=J[I],X!==0&&(Ee-=j[I],Ie(te,Ee,X)),Dt--,I=Ae(Dt),V(te,I,It),X=ne[I],X!==0&&(Dt-=U[I],Ie(te,Dt,X)));while(Et<te.last_lit);V(te,O,vt)}function gt(te,vt){var It=vt.dyn_tree,Dt=vt.stat_desc.static_tree,Ee=vt.stat_desc.has_stree,Et=vt.stat_desc.elems,I,X,Ce=-1,N;for(te.heap_len=0,te.heap_max=T,I=0;I<Et;I++)It[I*2]!==0?(te.heap[++te.heap_len]=Ce=I,te.depth[I]=0):It[I*2+1]=0;for(;te.heap_len<2;)N=te.heap[++te.heap_len]=Ce<2?++Ce:0,It[N*2]=1,te.depth[N]=0,te.opt_len--,Ee&&(te.static_len-=Dt[N*2+1]);for(vt.max_code=Ce,I=te.heap_len>>1;I>=1;I--)xe(te,It,I);N=Et;do I=te.heap[1],te.heap[1]=te.heap[te.heap_len--],xe(te,It,1),X=te.heap[1],te.heap[--te.heap_max]=I,te.heap[--te.heap_max]=X,It[N*2]=It[I*2]+It[X*2],te.depth[N]=(te.depth[I]>=te.depth[X]?te.depth[I]:te.depth[X])+1,It[I*2+1]=It[X*2+1]=N,te.heap[1]=N++,xe(te,It,1);while(te.heap_len>=2);te.heap[--te.heap_max]=te.heap[1],ue(te,vt),Z(It,Ce,te.bl_count)}function qe(te,vt,It){var Dt,Ee=-1,Et,I=vt[0*2+1],X=0,Ce=7,N=4;for(I===0&&(Ce=138,N=3),vt[(It+1)*2+1]=65535,Dt=0;Dt<=It;Dt++)Et=I,I=vt[(Dt+1)*2+1],!(++X<Ce&&Et===I)&&(X<N?te.bl_tree[Et*2]+=X:Et!==0?(Et!==Ee&&te.bl_tree[Et*2]++,te.bl_tree[P*2]++):X<=10?te.bl_tree[G*2]++:te.bl_tree[W*2]++,X=0,Ee=Et,I===0?(Ce=138,N=3):Et===I?(Ce=6,N=3):(Ce=7,N=4))}function dt(te,vt,It){var Dt,Ee=-1,Et,I=vt[0*2+1],X=0,Ce=7,N=4;for(I===0&&(Ce=138,N=3),Dt=0;Dt<=It;Dt++)if(Et=I,I=vt[(Dt+1)*2+1],!(++X<Ce&&Et===I)){if(X<N)do V(te,Et,te.bl_tree);while(--X!==0);else Et!==0?(Et!==Ee&&(V(te,Et,te.bl_tree),X--),V(te,P,te.bl_tree),Ie(te,X-3,2)):X<=10?(V(te,G,te.bl_tree),Ie(te,X-3,3)):(V(te,W,te.bl_tree),Ie(te,X-11,7));X=0,Ee=Et,I===0?(Ce=138,N=3):Et===I?(Ce=6,N=3):(Ce=7,N=4)}}function yt(te){var vt;for(qe(te,te.dyn_ltree,te.l_desc.max_code),qe(te,te.dyn_dtree,te.d_desc.max_code),gt(te,te.bl_desc),vt=k-1;vt>=3&&te.bl_tree[me[vt]*2+1]===0;vt--);return te.opt_len+=3*(vt+1)+5+5+4,vt}function Nt(te,vt,It,Dt){var Ee;for(Ie(te,vt-257,5),Ie(te,It-1,5),Ie(te,Dt-4,4),Ee=0;Ee<Dt;Ee++)Ie(te,te.bl_tree[me[Ee]*2+1],3);dt(te,te.dyn_ltree,vt-1),dt(te,te.dyn_dtree,It-1)}function nn(te){var vt=4093624447,It;for(It=0;It<=31;It++,vt>>>=1)if(vt&1&&te.dyn_ltree[It*2]!==0)return c;if(te.dyn_ltree[9*2]!==0||te.dyn_ltree[10*2]!==0||te.dyn_ltree[13*2]!==0)return f;for(It=32;It<b;It++)if(te.dyn_ltree[It*2]!==0)return f;return c}var zt=!1;function mt(te){zt||(ve(),zt=!0),te.l_desc=new ye(te.dyn_ltree,ce),te.d_desc=new ye(te.dyn_dtree,ge),te.bl_desc=new ye(te.bl_tree,he),te.bi_buf=0,te.bi_valid=0,Pe(te)}function Ue(te,vt,It,Dt){Ie(te,(g<<1)+(Dt?1:0),3),it(te,vt,It)}function Me(te){Ie(te,y<<1,3),V(te,O,ee),ae(te)}function Mt(te,vt,It,Dt){var Ee,Et,I=0;te.level>0?(te.strm.data_type===h&&(te.strm.data_type=nn(te)),gt(te,te.l_desc),gt(te,te.d_desc),I=yt(te),Ee=te.opt_len+3+7>>>3,Et=te.static_len+3+7>>>3,Et<=Ee&&(Ee=Et)):Ee=Et=It+5,It+4<=Ee&&vt!==-1?Ue(te,vt,It,Dt):te.strategy===l||Et===Ee?(Ie(te,(y<<1)+(Dt?1:0),3),Se(te,ee,be)):(Ie(te,(x<<1)+(Dt?1:0),3),Nt(te,te.l_desc.max_code+1,te.d_desc.max_code+1,I+1),Se(te,te.dyn_ltree,te.dyn_dtree)),Pe(te),Dt&&Fe(te)}function cn(te,vt,It){return te.pending_buf[te.d_buf+te.last_lit*2]=vt>>>8&255,te.pending_buf[te.d_buf+te.last_lit*2+1]=vt&255,te.pending_buf[te.l_buf+te.last_lit]=It&255,te.last_lit++,vt===0?te.dyn_ltree[It*2]++:(te.matches++,vt--,te.dyn_ltree[(z[It]+b+1)*2]++,te.dyn_dtree[Ae(vt)*2]++),te.last_lit===te.lit_bufsize-1}s._tr_init=mt,s._tr_stored_block=Ue,s._tr_flush_block=Mt,s._tr_tally=cn,s._tr_align=Me},{"../utils/common":41}],53:[function(n,i,s){function o(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=o},{}],54:[function(n,i,s){(function(o){(function(l,c){if(l.setImmediate)return;var f=1,h={},p=!1,g=l.document,y;function x(C){typeof C!="function"&&(C=new Function(""+C));for(var O=new Array(arguments.length-1),P=0;P<O.length;P++)O[P]=arguments[P+1];var G={callback:C,args:O};return h[f]=G,y(f),f++}function S(C){delete h[C]}function w(C){var O=C.callback,P=C.args;switch(P.length){case 0:O();break;case 1:O(P[0]);break;case 2:O(P[0],P[1]);break;case 3:O(P[0],P[1],P[2]);break;default:O.apply(c,P);break}}function v(C){if(p)setTimeout(v,0,C);else{var O=h[C];if(O){p=!0;try{w(O)}finally{S(C),p=!1}}}}function b(){y=function(C){process.nextTick(function(){v(C)})}}function _(){if(l.postMessage&&!l.importScripts){var C=!0,O=l.onmessage;return l.onmessage=function(){C=!1},l.postMessage("","*"),l.onmessage=O,C}}function E(){var C="setImmediate$"+Math.random()+"$",O=function(P){P.source===l&&typeof P.data=="string"&&P.data.indexOf(C)===0&&v(+P.data.slice(C.length))};l.addEventListener?l.addEventListener("message",O,!1):l.attachEvent("onmessage",O),y=function(P){l.postMessage(C+P,"*")}}function k(){var C=new MessageChannel;C.port1.onmessage=function(O){var P=O.data;v(P)},y=function(O){C.port2.postMessage(O)}}function T(){var C=g.documentElement;y=function(O){var P=g.createElement("script");P.onreadystatechange=function(){v(O),P.onreadystatechange=null,C.removeChild(P),P=null},C.appendChild(P)}}function L(){y=function(C){setTimeout(v,0,C)}}var F=Object.getPrototypeOf&&Object.getPrototypeOf(l);F=F&&F.setTimeout?F:l,{}.toString.call(l.process)==="[object process]"?b():_()?E():l.MessageChannel?k():g&&"onreadystatechange"in g.createElement("script")?T():L(),F.setImmediate=x,F.clearImmediate=S})(typeof self>"u"?typeof o>"u"?this:o:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(jszip)),jszip.exports}var jszipExports=requireJszip();const JSZip=getDefaultExportFromCjs(jszipExports);class Archive{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new JSZip}catch{throw new Error("JSZip lib not loaded")}}open(e,n){return this.zip.loadAsync(e,{base64:n})}openUrl(e,n){return request(e,"binary").then((function(i){return this.zip.loadAsync(i,{base64:n})}).bind(this))}request(e,n){var i=new defer,s,o=new Path(e);return n||(n=o.extension),n=="blob"?s=this.getBlob(e):s=this.getText(e),s?s.then((function(l){let c=this.handleResponse(l,n);i.resolve(c)}).bind(this)):i.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),i.promise}handleResponse(e,n){var i;return n=="json"?i=JSON.parse(e):isXml(n)?i=parse(e,"text/xml"):n=="xhtml"?i=parse(e,"application/xhtml+xml"):n=="html"||n=="htm"?i=parse(e,"text/html"):i=e,i}getBlob(e,n){var i=window.decodeURIComponent(e.substr(1)),s=this.zip.file(i);if(s)return n=n||mime.lookup(s.name),s.async("uint8array").then(function(o){return new Blob([o],{type:n})})}getText(e,n){var i=window.decodeURIComponent(e.substr(1)),s=this.zip.file(i);if(s)return s.async("string").then(function(o){return o})}getBase64(e,n){var i=window.decodeURIComponent(e.substr(1)),s=this.zip.file(i);if(s)return n=n||mime.lookup(s.name),s.async("base64").then(function(o){return"data:"+n+";base64,"+o})}createUrl(e,n){var i=new defer,s=window.URL||window.webkitURL||window.mozURL,o,l,c=n&&n.base64;return e in this.urlCache?(i.resolve(this.urlCache[e]),i.promise):(c?(l=this.getBase64(e),l&&l.then((function(f){this.urlCache[e]=f,i.resolve(f)}).bind(this))):(l=this.getBlob(e),l&&l.then((function(f){o=s.createObjectURL(f),this.urlCache[e]=o,i.resolve(o)}).bind(this))),l||i.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),i.promise)}revokeUrl(e){var n=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&n.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)e.revokeObjectURL(n);this.zip=void 0,this.urlCache={}}}var localforage$1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var hasRequiredLocalforage;function requireLocalforage(){return hasRequiredLocalforage||(hasRequiredLocalforage=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(i,s,o){function l(h,p){if(!s[h]){if(!i[h]){var g=typeof commonjsRequire=="function"&&commonjsRequire;if(!p&&g)return g(h,!0);if(c)return c(h,!0);var y=new Error("Cannot find module '"+h+"'");throw y.code="MODULE_NOT_FOUND",y}var x=s[h]={exports:{}};i[h][0].call(x.exports,function(S){var w=i[h][1][S];return l(w||S)},x,x.exports,n,i,s,o)}return s[h].exports}for(var c=typeof commonjsRequire=="function"&&commonjsRequire,f=0;f<o.length;f++)l(o[f]);return l}({1:[function(n,i,s){(function(o){var l=o.MutationObserver||o.WebKitMutationObserver,c;if(l){var f=0,h=new l(S),p=o.document.createTextNode("");h.observe(p,{characterData:!0}),c=function(){p.data=f=++f%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var g=new o.MessageChannel;g.port1.onmessage=S,c=function(){g.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?c=function(){var v=o.document.createElement("script");v.onreadystatechange=function(){S(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},o.document.documentElement.appendChild(v)}:c=function(){setTimeout(S,0)};var y,x=[];function S(){y=!0;for(var v,b,_=x.length;_;){for(b=x,x=[],v=-1;++v<_;)b[v]();_=x.length}y=!1}i.exports=w;function w(v){x.push(v)===1&&!y&&c()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,i,s){var o=n(1);function l(){}var c={},f=["REJECTED"],h=["FULFILLED"],p=["PENDING"];i.exports=g;function g(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,T!==l&&w(this,T)}g.prototype.catch=function(T){return this.then(null,T)},g.prototype.then=function(T,L){if(typeof T!="function"&&this.state===h||typeof L!="function"&&this.state===f)return this;var F=new this.constructor(l);if(this.state!==p){var C=this.state===h?T:L;x(F,C,this.outcome)}else this.queue.push(new y(F,T,L));return F};function y(T,L,F){this.promise=T,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}y.prototype.callFulfilled=function(T){c.resolve(this.promise,T)},y.prototype.otherCallFulfilled=function(T){x(this.promise,this.onFulfilled,T)},y.prototype.callRejected=function(T){c.reject(this.promise,T)},y.prototype.otherCallRejected=function(T){x(this.promise,this.onRejected,T)};function x(T,L,F){o(function(){var C;try{C=L(F)}catch(O){return c.reject(T,O)}C===T?c.reject(T,new TypeError("Cannot resolve promise with itself")):c.resolve(T,C)})}c.resolve=function(T,L){var F=v(S,L);if(F.status==="error")return c.reject(T,F.value);var C=F.value;if(C)w(T,C);else{T.state=h,T.outcome=L;for(var O=-1,P=T.queue.length;++O<P;)T.queue[O].callFulfilled(L)}return T},c.reject=function(T,L){T.state=f,T.outcome=L;for(var F=-1,C=T.queue.length;++F<C;)T.queue[F].callRejected(L);return T};function S(T){var L=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof L=="function")return function(){L.apply(T,arguments)}}function w(T,L){var F=!1;function C(W){F||(F=!0,c.reject(T,W))}function O(W){F||(F=!0,c.resolve(T,W))}function P(){L(O,C)}var G=v(P);G.status==="error"&&C(G.value)}function v(T,L){var F={};try{F.value=T(L),F.status="success"}catch(C){F.status="error",F.value=C}return F}g.resolve=b;function b(T){return T instanceof this?T:c.resolve(new this(l),T)}g.reject=_;function _(T){var L=new this(l);return c.reject(L,T)}g.all=E;function E(T){var L=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=T.length,C=!1;if(!F)return this.resolve([]);for(var O=new Array(F),P=0,G=-1,W=new this(l);++G<F;)J(T[G],G);return W;function J(ne,we){L.resolve(ne).then(me,function(re){C||(C=!0,c.reject(W,re))});function me(re){O[we]=re,++P===F&&!C&&(C=!0,c.resolve(W,O))}}}g.race=k;function k(T){var L=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=T.length,C=!1;if(!F)return this.resolve([]);for(var O=-1,P=new this(l);++O<F;)G(T[O]);return P;function G(W){L.resolve(W).then(function(J){C||(C=!0,c.resolve(P,J))},function(J){C||(C=!0,c.reject(P,J))})}}},{1:1}],3:[function(n,i,s){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,i,s){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe};function l(pe,We){if(!(pe instanceof We))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var f=c();function h(){try{if(!f||!f.open)return!1;var pe=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),We=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!pe||We)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function p(pe,We){pe=pe||[],We=We||{};try{return new Blob(pe,We)}catch(Ye){if(Ye.name!=="TypeError")throw Ye;for(var Te=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,He=new Te,ut=0;ut<pe.length;ut+=1)He.append(pe[ut]);return He.getBlob(We.type)}}typeof Promise>"u"&&n(3);var g=Promise;function y(pe,We){We&&pe.then(function(Te){We(null,Te)},function(Te){We(Te)})}function x(pe,We,Te){typeof We=="function"&&pe.then(We),typeof Te=="function"&&pe.catch(Te)}function S(pe){return typeof pe!="string"&&(console.warn(pe+" used as a key, but it is not a string."),pe=String(pe)),pe}function w(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var v="local-forage-detect-blob-support",b=void 0,_={},E=Object.prototype.toString,k="readonly",T="readwrite";function L(pe){for(var We=pe.length,Te=new ArrayBuffer(We),He=new Uint8Array(Te),ut=0;ut<We;ut++)He[ut]=pe.charCodeAt(ut);return Te}function F(pe){return new g(function(We){var Te=pe.transaction(v,T),He=p([""]);Te.objectStore(v).put(He,"key"),Te.onabort=function(ut){ut.preventDefault(),ut.stopPropagation(),We(!1)},Te.oncomplete=function(){var ut=navigator.userAgent.match(/Chrome\/(\d+)/),Ye=navigator.userAgent.match(/Edge\//);We(Ye||!ut||parseInt(ut[1],10)>=43)}}).catch(function(){return!1})}function C(pe){return typeof b=="boolean"?g.resolve(b):F(pe).then(function(We){return b=We,b})}function O(pe){var We=_[pe.name],Te={};Te.promise=new g(function(He,ut){Te.resolve=He,Te.reject=ut}),We.deferredOperations.push(Te),We.dbReady?We.dbReady=We.dbReady.then(function(){return Te.promise}):We.dbReady=Te.promise}function P(pe){var We=_[pe.name],Te=We.deferredOperations.pop();if(Te)return Te.resolve(),Te.promise}function G(pe,We){var Te=_[pe.name],He=Te.deferredOperations.pop();if(He)return He.reject(We),He.promise}function W(pe,We){return new g(function(Te,He){if(_[pe.name]=_[pe.name]||j(),pe.db)if(We)O(pe),pe.db.close();else return Te(pe.db);var ut=[pe.name];We&&ut.push(pe.version);var Ye=f.open.apply(f,ut);We&&(Ye.onupgradeneeded=function(Pt){var Ut=Ye.result;try{Ut.createObjectStore(pe.storeName),Pt.oldVersion<=1&&Ut.createObjectStore(v)}catch(Kt){if(Kt.name==="ConstraintError")console.warn('The database "'+pe.name+'" has been upgraded from version '+Pt.oldVersion+" to version "+Pt.newVersion+', but the storage "'+pe.storeName+'" already exists.');else throw Kt}}),Ye.onerror=function(Pt){Pt.preventDefault(),He(Ye.error)},Ye.onsuccess=function(){var Pt=Ye.result;Pt.onversionchange=function(Ut){Ut.target.close()},Te(Pt),P(pe)}})}function J(pe){return W(pe,!1)}function ne(pe){return W(pe,!0)}function we(pe,We){if(!pe.db)return!0;var Te=!pe.db.objectStoreNames.contains(pe.storeName),He=pe.version<pe.db.version,ut=pe.version>pe.db.version;if(He&&(pe.version!==We&&console.warn('The database "'+pe.name+`" can't be downgraded from version `+pe.db.version+" to version "+pe.version+"."),pe.version=pe.db.version),ut||Te){if(Te){var Ye=pe.db.version+1;Ye>pe.version&&(pe.version=Ye)}return!0}return!1}function me(pe){return new g(function(We,Te){var He=new FileReader;He.onerror=Te,He.onloadend=function(ut){var Ye=btoa(ut.target.result||"");We({__local_forage_encoded_blob:!0,data:Ye,type:pe.type})},He.readAsBinaryString(pe)})}function re(pe){var We=L(atob(pe.data));return p([We],{type:pe.type})}function ee(pe){return pe&&pe.__local_forage_encoded_blob}function be(pe){var We=this,Te=We._initReady().then(function(){var He=_[We._dbInfo.name];if(He&&He.dbReady)return He.dbReady});return x(Te,pe,pe),Te}function ke(pe){O(pe);for(var We=_[pe.name],Te=We.forages,He=0;He<Te.length;He++){var ut=Te[He];ut._dbInfo.db&&(ut._dbInfo.db.close(),ut._dbInfo.db=null)}return pe.db=null,J(pe).then(function(Ye){return pe.db=Ye,we(pe)?ne(pe):Ye}).then(function(Ye){pe.db=We.db=Ye;for(var Pt=0;Pt<Te.length;Pt++)Te[Pt]._dbInfo.db=Ye}).catch(function(Ye){throw G(pe,Ye),Ye})}function z(pe,We,Te,He){He===void 0&&(He=1);try{var ut=pe.db.transaction(pe.storeName,We);Te(null,ut)}catch(Ye){if(He>0&&(!pe.db||Ye.name==="InvalidStateError"||Ye.name==="NotFoundError"))return g.resolve().then(function(){if(!pe.db||Ye.name==="NotFoundError"&&!pe.db.objectStoreNames.contains(pe.storeName)&&pe.version<=pe.db.version)return pe.db&&(pe.version=pe.db.version+1),ne(pe)}).then(function(){return ke(pe).then(function(){z(pe,We,Te,He-1)})}).catch(Te);Te(Ye)}}function j(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function U(pe){var We=this,Te={db:null};if(pe)for(var He in pe)Te[He]=pe[He];var ut=_[Te.name];ut||(ut=j(),_[Te.name]=ut),ut.forages.push(We),We._initReady||(We._initReady=We.ready,We.ready=be);var Ye=[];function Pt(){return g.resolve()}for(var Ut=0;Ut<ut.forages.length;Ut++){var Kt=ut.forages[Ut];Kt!==We&&Ye.push(Kt._initReady().catch(Pt))}var Wt=ut.forages.slice(0);return g.all(Ye).then(function(){return Te.db=ut.db,J(Te)}).then(function(tn){return Te.db=tn,we(Te,We._defaultConfig.version)?ne(Te):tn}).then(function(tn){Te.db=ut.db=tn,We._dbInfo=Te;for(var gn=0;gn<Wt.length;gn++){var Vn=Wt[gn];Vn!==We&&(Vn._dbInfo.db=Te.db,Vn._dbInfo.version=Te.version)}})}function Y(pe,We){var Te=this;pe=S(pe);var He=new g(function(ut,Ye){Te.ready().then(function(){z(Te._dbInfo,k,function(Pt,Ut){if(Pt)return Ye(Pt);try{var Kt=Ut.objectStore(Te._dbInfo.storeName),Wt=Kt.get(pe);Wt.onsuccess=function(){var tn=Wt.result;tn===void 0&&(tn=null),ee(tn)&&(tn=re(tn)),ut(tn)},Wt.onerror=function(){Ye(Wt.error)}}catch(tn){Ye(tn)}})}).catch(Ye)});return y(He,We),He}function ce(pe,We){var Te=this,He=new g(function(ut,Ye){Te.ready().then(function(){z(Te._dbInfo,k,function(Pt,Ut){if(Pt)return Ye(Pt);try{var Kt=Ut.objectStore(Te._dbInfo.storeName),Wt=Kt.openCursor(),tn=1;Wt.onsuccess=function(){var gn=Wt.result;if(gn){var Vn=gn.value;ee(Vn)&&(Vn=re(Vn));var tr=pe(Vn,gn.key,tn++);tr!==void 0?ut(tr):gn.continue()}else ut()},Wt.onerror=function(){Ye(Wt.error)}}catch(gn){Ye(gn)}})}).catch(Ye)});return y(He,We),He}function ge(pe,We,Te){var He=this;pe=S(pe);var ut=new g(function(Ye,Pt){var Ut;He.ready().then(function(){return Ut=He._dbInfo,E.call(We)==="[object Blob]"?C(Ut.db).then(function(Kt){return Kt?We:me(We)}):We}).then(function(Kt){z(He._dbInfo,T,function(Wt,tn){if(Wt)return Pt(Wt);try{var gn=tn.objectStore(He._dbInfo.storeName);Kt===null&&(Kt=void 0);var Vn=gn.put(Kt,pe);tn.oncomplete=function(){Kt===void 0&&(Kt=null),Ye(Kt)},tn.onabort=tn.onerror=function(){var tr=Vn.error?Vn.error:Vn.transaction.error;Pt(tr)}}catch(tr){Pt(tr)}})}).catch(Pt)});return y(ut,Te),ut}function he(pe,We){var Te=this;pe=S(pe);var He=new g(function(ut,Ye){Te.ready().then(function(){z(Te._dbInfo,T,function(Pt,Ut){if(Pt)return Ye(Pt);try{var Kt=Ut.objectStore(Te._dbInfo.storeName),Wt=Kt.delete(pe);Ut.oncomplete=function(){ut()},Ut.onerror=function(){Ye(Wt.error)},Ut.onabort=function(){var tn=Wt.error?Wt.error:Wt.transaction.error;Ye(tn)}}catch(tn){Ye(tn)}})}).catch(Ye)});return y(He,We),He}function ye(pe){var We=this,Te=new g(function(He,ut){We.ready().then(function(){z(We._dbInfo,T,function(Ye,Pt){if(Ye)return ut(Ye);try{var Ut=Pt.objectStore(We._dbInfo.storeName),Kt=Ut.clear();Pt.oncomplete=function(){He()},Pt.onabort=Pt.onerror=function(){var Wt=Kt.error?Kt.error:Kt.transaction.error;ut(Wt)}}catch(Wt){ut(Wt)}})}).catch(ut)});return y(Te,pe),Te}function Ae(pe){var We=this,Te=new g(function(He,ut){We.ready().then(function(){z(We._dbInfo,k,function(Ye,Pt){if(Ye)return ut(Ye);try{var Ut=Pt.objectStore(We._dbInfo.storeName),Kt=Ut.count();Kt.onsuccess=function(){He(Kt.result)},Kt.onerror=function(){ut(Kt.error)}}catch(Wt){ut(Wt)}})}).catch(ut)});return y(Te,pe),Te}function ot(pe,We){var Te=this,He=new g(function(ut,Ye){if(pe<0){ut(null);return}Te.ready().then(function(){z(Te._dbInfo,k,function(Pt,Ut){if(Pt)return Ye(Pt);try{var Kt=Ut.objectStore(Te._dbInfo.storeName),Wt=!1,tn=Kt.openKeyCursor();tn.onsuccess=function(){var gn=tn.result;if(!gn){ut(null);return}pe===0||Wt?ut(gn.key):(Wt=!0,gn.advance(pe))},tn.onerror=function(){Ye(tn.error)}}catch(gn){Ye(gn)}})}).catch(Ye)});return y(He,We),He}function Ie(pe){var We=this,Te=new g(function(He,ut){We.ready().then(function(){z(We._dbInfo,k,function(Ye,Pt){if(Ye)return ut(Ye);try{var Ut=Pt.objectStore(We._dbInfo.storeName),Kt=Ut.openKeyCursor(),Wt=[];Kt.onsuccess=function(){var tn=Kt.result;if(!tn){He(Wt);return}Wt.push(tn.key),tn.continue()},Kt.onerror=function(){ut(Kt.error)}}catch(tn){ut(tn)}})}).catch(ut)});return y(Te,pe),Te}function V(pe,We){We=w.apply(this,arguments);var Te=this.config();pe=typeof pe!="function"&&pe||{},pe.name||(pe.name=pe.name||Te.name,pe.storeName=pe.storeName||Te.storeName);var He=this,ut;if(!pe.name)ut=g.reject("Invalid arguments");else{var Ye=pe.name===Te.name&&He._dbInfo.db,Pt=Ye?g.resolve(He._dbInfo.db):J(pe).then(function(Ut){var Kt=_[pe.name],Wt=Kt.forages;Kt.db=Ut;for(var tn=0;tn<Wt.length;tn++)Wt[tn]._dbInfo.db=Ut;return Ut});pe.storeName?ut=Pt.then(function(Ut){if(Ut.objectStoreNames.contains(pe.storeName)){var Kt=Ut.version+1;O(pe);var Wt=_[pe.name],tn=Wt.forages;Ut.close();for(var gn=0;gn<tn.length;gn++){var Vn=tn[gn];Vn._dbInfo.db=null,Vn._dbInfo.version=Kt}var tr=new g(function(rr,Nn){var Dn=f.open(pe.name,Kt);Dn.onerror=function($r){var $i=Dn.result;$i.close(),Nn($r)},Dn.onupgradeneeded=function(){var $r=Dn.result;$r.deleteObjectStore(pe.storeName)},Dn.onsuccess=function(){var $r=Dn.result;$r.close(),rr($r)}});return tr.then(function(rr){Wt.db=rr;for(var Nn=0;Nn<tn.length;Nn++){var Dn=tn[Nn];Dn._dbInfo.db=rr,P(Dn._dbInfo)}}).catch(function(rr){throw(G(pe,rr)||g.resolve()).catch(function(){}),rr})}}):ut=Pt.then(function(Ut){O(pe);var Kt=_[pe.name],Wt=Kt.forages;Ut.close();for(var tn=0;tn<Wt.length;tn++){var gn=Wt[tn];gn._dbInfo.db=null}var Vn=new g(function(tr,rr){var Nn=f.deleteDatabase(pe.name);Nn.onerror=function(){var Dn=Nn.result;Dn&&Dn.close(),rr(Nn.error)},Nn.onblocked=function(){console.warn('dropInstance blocked for database "'+pe.name+'" until all open connections are closed')},Nn.onsuccess=function(){var Dn=Nn.result;Dn&&Dn.close(),tr(Dn)}});return Vn.then(function(tr){Kt.db=tr;for(var rr=0;rr<Wt.length;rr++){var Nn=Wt[rr];P(Nn._dbInfo)}}).catch(function(tr){throw(G(pe,tr)||g.resolve()).catch(function(){}),tr})})}return y(ut,We),ut}var K={_driver:"asyncStorage",_initStorage:U,_support:h(),iterate:ce,getItem:Y,setItem:ge,removeItem:he,clear:ye,length:Ae,key:ot,keys:Ie,dropInstance:V};function ae(){return typeof openDatabase=="function"}var ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z="~~local_forage_type~",ve=/^~~local_forage_type~([^~]+)~/,Pe="__lfsc__:",Fe=Pe.length,it="arbf",fe="blob",xe="si08",Se="ui08",gt="uic8",qe="si16",dt="si32",yt="ur16",Nt="ui32",nn="fl32",zt="fl64",mt=Fe+it.length,Ue=Object.prototype.toString;function Me(pe){var We=pe.length*.75,Te=pe.length,He,ut=0,Ye,Pt,Ut,Kt;pe[pe.length-1]==="="&&(We--,pe[pe.length-2]==="="&&We--);var Wt=new ArrayBuffer(We),tn=new Uint8Array(Wt);for(He=0;He<Te;He+=4)Ye=ue.indexOf(pe[He]),Pt=ue.indexOf(pe[He+1]),Ut=ue.indexOf(pe[He+2]),Kt=ue.indexOf(pe[He+3]),tn[ut++]=Ye<<2|Pt>>4,tn[ut++]=(Pt&15)<<4|Ut>>2,tn[ut++]=(Ut&3)<<6|Kt&63;return Wt}function Mt(pe){var We=new Uint8Array(pe),Te="",He;for(He=0;He<We.length;He+=3)Te+=ue[We[He]>>2],Te+=ue[(We[He]&3)<<4|We[He+1]>>4],Te+=ue[(We[He+1]&15)<<2|We[He+2]>>6],Te+=ue[We[He+2]&63];return We.length%3===2?Te=Te.substring(0,Te.length-1)+"=":We.length%3===1&&(Te=Te.substring(0,Te.length-2)+"=="),Te}function cn(pe,We){var Te="";if(pe&&(Te=Ue.call(pe)),pe&&(Te==="[object ArrayBuffer]"||pe.buffer&&Ue.call(pe.buffer)==="[object ArrayBuffer]")){var He,ut=Pe;pe instanceof ArrayBuffer?(He=pe,ut+=it):(He=pe.buffer,Te==="[object Int8Array]"?ut+=xe:Te==="[object Uint8Array]"?ut+=Se:Te==="[object Uint8ClampedArray]"?ut+=gt:Te==="[object Int16Array]"?ut+=qe:Te==="[object Uint16Array]"?ut+=yt:Te==="[object Int32Array]"?ut+=dt:Te==="[object Uint32Array]"?ut+=Nt:Te==="[object Float32Array]"?ut+=nn:Te==="[object Float64Array]"?ut+=zt:We(new Error("Failed to get type for BinaryArray"))),We(ut+Mt(He))}else if(Te==="[object Blob]"){var Ye=new FileReader;Ye.onload=function(){var Pt=Z+pe.type+"~"+Mt(this.result);We(Pe+fe+Pt)},Ye.readAsArrayBuffer(pe)}else try{We(JSON.stringify(pe))}catch(Pt){console.error("Couldn't convert value into a JSON string: ",pe),We(null,Pt)}}function te(pe){if(pe.substring(0,Fe)!==Pe)return JSON.parse(pe);var We=pe.substring(mt),Te=pe.substring(Fe,mt),He;if(Te===fe&&ve.test(We)){var ut=We.match(ve);He=ut[1],We=We.substring(ut[0].length)}var Ye=Me(We);switch(Te){case it:return Ye;case fe:return p([Ye],{type:He});case xe:return new Int8Array(Ye);case Se:return new Uint8Array(Ye);case gt:return new Uint8ClampedArray(Ye);case qe:return new Int16Array(Ye);case yt:return new Uint16Array(Ye);case dt:return new Int32Array(Ye);case Nt:return new Uint32Array(Ye);case nn:return new Float32Array(Ye);case zt:return new Float64Array(Ye);default:throw new Error("Unkown type: "+Te)}}var vt={serialize:cn,deserialize:te,stringToBuffer:Me,bufferToString:Mt};function It(pe,We,Te,He){pe.executeSql("CREATE TABLE IF NOT EXISTS "+We.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Te,He)}function Dt(pe){var We=this,Te={db:null};if(pe)for(var He in pe)Te[He]=typeof pe[He]!="string"?pe[He].toString():pe[He];var ut=new g(function(Ye,Pt){try{Te.db=openDatabase(Te.name,String(Te.version),Te.description,Te.size)}catch(Ut){return Pt(Ut)}Te.db.transaction(function(Ut){It(Ut,Te,function(){We._dbInfo=Te,Ye()},function(Kt,Wt){Pt(Wt)})},Pt)});return Te.serializer=vt,ut}function Ee(pe,We,Te,He,ut,Ye){pe.executeSql(Te,He,ut,function(Pt,Ut){Ut.code===Ut.SYNTAX_ERR?Pt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[We.storeName],function(Kt,Wt){Wt.rows.length?Ye(Kt,Ut):It(Kt,We,function(){Kt.executeSql(Te,He,ut,Ye)},Ye)},Ye):Ye(Pt,Ut)},Ye)}function Et(pe,We){var Te=this;pe=S(pe);var He=new g(function(ut,Ye){Te.ready().then(function(){var Pt=Te._dbInfo;Pt.db.transaction(function(Ut){Ee(Ut,Pt,"SELECT * FROM "+Pt.storeName+" WHERE key = ? LIMIT 1",[pe],function(Kt,Wt){var tn=Wt.rows.length?Wt.rows.item(0).value:null;tn&&(tn=Pt.serializer.deserialize(tn)),ut(tn)},function(Kt,Wt){Ye(Wt)})})}).catch(Ye)});return y(He,We),He}function I(pe,We){var Te=this,He=new g(function(ut,Ye){Te.ready().then(function(){var Pt=Te._dbInfo;Pt.db.transaction(function(Ut){Ee(Ut,Pt,"SELECT * FROM "+Pt.storeName,[],function(Kt,Wt){for(var tn=Wt.rows,gn=tn.length,Vn=0;Vn<gn;Vn++){var tr=tn.item(Vn),rr=tr.value;if(rr&&(rr=Pt.serializer.deserialize(rr)),rr=pe(rr,tr.key,Vn+1),rr!==void 0){ut(rr);return}}ut()},function(Kt,Wt){Ye(Wt)})})}).catch(Ye)});return y(He,We),He}function X(pe,We,Te,He){var ut=this;pe=S(pe);var Ye=new g(function(Pt,Ut){ut.ready().then(function(){We===void 0&&(We=null);var Kt=We,Wt=ut._dbInfo;Wt.serializer.serialize(We,function(tn,gn){gn?Ut(gn):Wt.db.transaction(function(Vn){Ee(Vn,Wt,"INSERT OR REPLACE INTO "+Wt.storeName+" (key, value) VALUES (?, ?)",[pe,tn],function(){Pt(Kt)},function(tr,rr){Ut(rr)})},function(Vn){if(Vn.code===Vn.QUOTA_ERR){if(He>0){Pt(X.apply(ut,[pe,Kt,Te,He-1]));return}Ut(Vn)}})})}).catch(Ut)});return y(Ye,Te),Ye}function Ce(pe,We,Te){return X.apply(this,[pe,We,Te,1])}function N(pe,We){var Te=this;pe=S(pe);var He=new g(function(ut,Ye){Te.ready().then(function(){var Pt=Te._dbInfo;Pt.db.transaction(function(Ut){Ee(Ut,Pt,"DELETE FROM "+Pt.storeName+" WHERE key = ?",[pe],function(){ut()},function(Kt,Wt){Ye(Wt)})})}).catch(Ye)});return y(He,We),He}function Ne(pe){var We=this,Te=new g(function(He,ut){We.ready().then(function(){var Ye=We._dbInfo;Ye.db.transaction(function(Pt){Ee(Pt,Ye,"DELETE FROM "+Ye.storeName,[],function(){He()},function(Ut,Kt){ut(Kt)})})}).catch(ut)});return y(Te,pe),Te}function Je(pe){var We=this,Te=new g(function(He,ut){We.ready().then(function(){var Ye=We._dbInfo;Ye.db.transaction(function(Pt){Ee(Pt,Ye,"SELECT COUNT(key) as c FROM "+Ye.storeName,[],function(Ut,Kt){var Wt=Kt.rows.item(0).c;He(Wt)},function(Ut,Kt){ut(Kt)})})}).catch(ut)});return y(Te,pe),Te}function se(pe,We){var Te=this,He=new g(function(ut,Ye){Te.ready().then(function(){var Pt=Te._dbInfo;Pt.db.transaction(function(Ut){Ee(Ut,Pt,"SELECT key FROM "+Pt.storeName+" WHERE id = ? LIMIT 1",[pe+1],function(Kt,Wt){var tn=Wt.rows.length?Wt.rows.item(0).key:null;ut(tn)},function(Kt,Wt){Ye(Wt)})})}).catch(Ye)});return y(He,We),He}function Be(pe){var We=this,Te=new g(function(He,ut){We.ready().then(function(){var Ye=We._dbInfo;Ye.db.transaction(function(Pt){Ee(Pt,Ye,"SELECT key FROM "+Ye.storeName,[],function(Ut,Kt){for(var Wt=[],tn=0;tn<Kt.rows.length;tn++)Wt.push(Kt.rows.item(tn).key);He(Wt)},function(Ut,Kt){ut(Kt)})})}).catch(ut)});return y(Te,pe),Te}function ft(pe){return new g(function(We,Te){pe.transaction(function(He){He.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ut,Ye){for(var Pt=[],Ut=0;Ut<Ye.rows.length;Ut++)Pt.push(Ye.rows.item(Ut).name);We({db:pe,storeNames:Pt})},function(ut,Ye){Te(Ye)})},function(He){Te(He)})})}function Zt(pe,We){We=w.apply(this,arguments);var Te=this.config();pe=typeof pe!="function"&&pe||{},pe.name||(pe.name=pe.name||Te.name,pe.storeName=pe.storeName||Te.storeName);var He=this,ut;return pe.name?ut=new g(function(Ye){var Pt;pe.name===Te.name?Pt=He._dbInfo.db:Pt=openDatabase(pe.name,"","",0),pe.storeName?Ye({db:Pt,storeNames:[pe.storeName]}):Ye(ft(Pt))}).then(function(Ye){return new g(function(Pt,Ut){Ye.db.transaction(function(Kt){function Wt(tr){return new g(function(rr,Nn){Kt.executeSql("DROP TABLE IF EXISTS "+tr,[],function(){rr()},function(Dn,$r){Nn($r)})})}for(var tn=[],gn=0,Vn=Ye.storeNames.length;gn<Vn;gn++)tn.push(Wt(Ye.storeNames[gn]));g.all(tn).then(function(){Pt()}).catch(function(tr){Ut(tr)})},function(Kt){Ut(Kt)})})}):ut=g.reject("Invalid arguments"),y(ut,We),ut}var Lt={_driver:"webSQLStorage",_initStorage:Dt,_support:ae(),iterate:I,getItem:Et,setItem:Ce,removeItem:N,clear:Ne,length:Je,key:se,keys:Be,dropInstance:Zt};function Vt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function In(pe,We){var Te=pe.name+"/";return pe.storeName!==We.storeName&&(Te+=pe.storeName+"/"),Te}function vr(){var pe="_localforage_support_test";try{return localStorage.setItem(pe,!0),localStorage.removeItem(pe),!1}catch{return!0}}function Kn(){return!vr()||localStorage.length>0}function Mn(pe){var We=this,Te={};if(pe)for(var He in pe)Te[He]=pe[He];return Te.keyPrefix=In(pe,We._defaultConfig),Kn()?(We._dbInfo=Te,Te.serializer=vt,g.resolve()):g.reject()}function ur(pe){var We=this,Te=We.ready().then(function(){for(var He=We._dbInfo.keyPrefix,ut=localStorage.length-1;ut>=0;ut--){var Ye=localStorage.key(ut);Ye.indexOf(He)===0&&localStorage.removeItem(Ye)}});return y(Te,pe),Te}function Wn(pe,We){var Te=this;pe=S(pe);var He=Te.ready().then(function(){var ut=Te._dbInfo,Ye=localStorage.getItem(ut.keyPrefix+pe);return Ye&&(Ye=ut.serializer.deserialize(Ye)),Ye});return y(He,We),He}function br(pe,We){var Te=this,He=Te.ready().then(function(){for(var ut=Te._dbInfo,Ye=ut.keyPrefix,Pt=Ye.length,Ut=localStorage.length,Kt=1,Wt=0;Wt<Ut;Wt++){var tn=localStorage.key(Wt);if(tn.indexOf(Ye)===0){var gn=localStorage.getItem(tn);if(gn&&(gn=ut.serializer.deserialize(gn)),gn=pe(gn,tn.substring(Pt),Kt++),gn!==void 0)return gn}}});return y(He,We),He}function dr(pe,We){var Te=this,He=Te.ready().then(function(){var ut=Te._dbInfo,Ye;try{Ye=localStorage.key(pe)}catch{Ye=null}return Ye&&(Ye=Ye.substring(ut.keyPrefix.length)),Ye});return y(He,We),He}function Qr(pe){var We=this,Te=We.ready().then(function(){for(var He=We._dbInfo,ut=localStorage.length,Ye=[],Pt=0;Pt<ut;Pt++){var Ut=localStorage.key(Pt);Ut.indexOf(He.keyPrefix)===0&&Ye.push(Ut.substring(He.keyPrefix.length))}return Ye});return y(Te,pe),Te}function Sr(pe){var We=this,Te=We.keys().then(function(He){return He.length});return y(Te,pe),Te}function Rr(pe,We){var Te=this;pe=S(pe);var He=Te.ready().then(function(){var ut=Te._dbInfo;localStorage.removeItem(ut.keyPrefix+pe)});return y(He,We),He}function kr(pe,We,Te){var He=this;pe=S(pe);var ut=He.ready().then(function(){We===void 0&&(We=null);var Ye=We;return new g(function(Pt,Ut){var Kt=He._dbInfo;Kt.serializer.serialize(We,function(Wt,tn){if(tn)Ut(tn);else try{localStorage.setItem(Kt.keyPrefix+pe,Wt),Pt(Ye)}catch(gn){(gn.name==="QuotaExceededError"||gn.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ut(gn),Ut(gn)}})})});return y(ut,Te),ut}function Fr(pe,We){if(We=w.apply(this,arguments),pe=typeof pe!="function"&&pe||{},!pe.name){var Te=this.config();pe.name=pe.name||Te.name,pe.storeName=pe.storeName||Te.storeName}var He=this,ut;return pe.name?ut=new g(function(Ye){pe.storeName?Ye(In(pe,He._defaultConfig)):Ye(pe.name+"/")}).then(function(Ye){for(var Pt=localStorage.length-1;Pt>=0;Pt--){var Ut=localStorage.key(Pt);Ut.indexOf(Ye)===0&&localStorage.removeItem(Ut)}}):ut=g.reject("Invalid arguments"),y(ut,We),ut}var Xr={_driver:"localStorageWrapper",_initStorage:Mn,_support:Vt(),iterate:br,getItem:Wn,setItem:kr,removeItem:Rr,clear:ur,length:Sr,key:dr,keys:Qr,dropInstance:Fr},zi=function(We,Te){return We===Te||typeof We=="number"&&typeof Te=="number"&&isNaN(We)&&isNaN(Te)},Pr=function(We,Te){for(var He=We.length,ut=0;ut<He;){if(zi(We[ut],Te))return!0;ut++}return!1},Pi=Array.isArray||function(pe){return Object.prototype.toString.call(pe)==="[object Array]"},nr={},Gi={},Jr={INDEXEDDB:K,WEBSQL:Lt,LOCALSTORAGE:Xr},ss=[Jr.INDEXEDDB._driver,Jr.WEBSQL._driver,Jr.LOCALSTORAGE._driver],Ci=["dropInstance"],os=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ci),Di={description:"",driver:ss.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function as(pe,We){pe[We]=function(){var Te=arguments;return pe.ready().then(function(){return pe[We].apply(pe,Te)})}}function Br(){for(var pe=1;pe<arguments.length;pe++){var We=arguments[pe];if(We)for(var Te in We)We.hasOwnProperty(Te)&&(Pi(We[Te])?arguments[0][Te]=We[Te].slice():arguments[0][Te]=We[Te])}return arguments[0]}var xs=function(){function pe(We){l(this,pe);for(var Te in Jr)if(Jr.hasOwnProperty(Te)){var He=Jr[Te],ut=He._driver;this[Te]=ut,nr[ut]||this.defineDriver(He)}this._defaultConfig=Br({},Di),this._config=Br({},this._defaultConfig,We),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return pe.prototype.config=function(Te){if((typeof Te>"u"?"undefined":o(Te))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var He in Te){if(He==="storeName"&&(Te[He]=Te[He].replace(/\W/g,"_")),He==="version"&&typeof Te[He]!="number")return new Error("Database version must be a number.");this._config[He]=Te[He]}return"driver"in Te&&Te.driver?this.setDriver(this._config.driver):!0}else return typeof Te=="string"?this._config[Te]:this._config},pe.prototype.defineDriver=function(Te,He,ut){var Ye=new g(function(Pt,Ut){try{var Kt=Te._driver,Wt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Te._driver){Ut(Wt);return}for(var tn=os.concat("_initStorage"),gn=0,Vn=tn.length;gn<Vn;gn++){var tr=tn[gn],rr=!Pr(Ci,tr);if((rr||Te[tr])&&typeof Te[tr]!="function"){Ut(Wt);return}}var Nn=function(){for(var $i=function(ui){return function(){var ri=new Error("Method "+ui+" is not implemented by the current driver"),ii=g.reject(ri);return y(ii,arguments[arguments.length-1]),ii}},ps=0,Ir=Ci.length;ps<Ir;ps++){var Ai=Ci[ps];Te[Ai]||(Te[Ai]=$i(Ai))}};Nn();var Dn=function($i){nr[Kt]&&console.info("Redefining LocalForage driver: "+Kt),nr[Kt]=Te,Gi[Kt]=$i,Pt()};"_support"in Te?Te._support&&typeof Te._support=="function"?Te._support().then(Dn,Ut):Dn(!!Te._support):Dn(!0)}catch($r){Ut($r)}});return x(Ye,He,ut),Ye},pe.prototype.driver=function(){return this._driver||null},pe.prototype.getDriver=function(Te,He,ut){var Ye=nr[Te]?g.resolve(nr[Te]):g.reject(new Error("Driver not found."));return x(Ye,He,ut),Ye},pe.prototype.getSerializer=function(Te){var He=g.resolve(vt);return x(He,Te),He},pe.prototype.ready=function(Te){var He=this,ut=He._driverSet.then(function(){return He._ready===null&&(He._ready=He._initDriver()),He._ready});return x(ut,Te,Te),ut},pe.prototype.setDriver=function(Te,He,ut){var Ye=this;Pi(Te)||(Te=[Te]);var Pt=this._getSupportedDrivers(Te);function Ut(){Ye._config.driver=Ye.driver()}function Kt(gn){return Ye._extend(gn),Ut(),Ye._ready=Ye._initStorage(Ye._config),Ye._ready}function Wt(gn){return function(){var Vn=0;function tr(){for(;Vn<gn.length;){var rr=gn[Vn];return Vn++,Ye._dbInfo=null,Ye._ready=null,Ye.getDriver(rr).then(Kt).catch(tr)}Ut();var Nn=new Error("No available storage method found.");return Ye._driverSet=g.reject(Nn),Ye._driverSet}return tr()}}var tn=this._driverSet!==null?this._driverSet.catch(function(){return g.resolve()}):g.resolve();return this._driverSet=tn.then(function(){var gn=Pt[0];return Ye._dbInfo=null,Ye._ready=null,Ye.getDriver(gn).then(function(Vn){Ye._driver=Vn._driver,Ut(),Ye._wrapLibraryMethodsWithReady(),Ye._initDriver=Wt(Pt)})}).catch(function(){Ut();var gn=new Error("No available storage method found.");return Ye._driverSet=g.reject(gn),Ye._driverSet}),x(this._driverSet,He,ut),this._driverSet},pe.prototype.supports=function(Te){return!!Gi[Te]},pe.prototype._extend=function(Te){Br(this,Te)},pe.prototype._getSupportedDrivers=function(Te){for(var He=[],ut=0,Ye=Te.length;ut<Ye;ut++){var Pt=Te[ut];this.supports(Pt)&&He.push(Pt)}return He},pe.prototype._wrapLibraryMethodsWithReady=function(){for(var Te=0,He=os.length;Te<He;Te++)as(this,os[Te])},pe.prototype.createInstance=function(Te){return new pe(Te)},pe}(),jn=new xs;i.exports=jn},{3:3}]},{},[4])(4)})}(localforage$1)),localforage$1.exports}var localforageExports=requireLocalforage();const localforage=getDefaultExportFromCjs(localforageExports);class Store{constructor(e,n,i){this.urlCache={},this.storage=void 0,this.name=e,this.requester=n||request,this.resolver=i,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof localforage>"u"&&(e=localforage),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let n=navigator.onLine;this.online=n,n?this.emit("online",this):this.emit("offline",this)}add(e,n){let i=e.resources.map(s=>{let{href:o}=s,l=this.resolver(o),c=window.encodeURIComponent(l);return this.storage.getItem(c).then(f=>!f||n?this.requester(l,"binary").then(h=>this.storage.setItem(c,h)):f)});return Promise.all(i)}put(e,n,i){let s=window.encodeURIComponent(e);return this.storage.getItem(s).then(o=>o||this.requester(e,"binary",n,i).then(l=>this.storage.setItem(s,l)))}request(e,n,i,s){return this.online?this.requester(e,n,i,s).then(o=>(this.put(e),o)):this.retrieve(e,n)}retrieve(e,n){new defer;var i,s=new Path(e);return n||(n=s.extension),n=="blob"?i=this.getBlob(e):i=this.getText(e),i.then(o=>{var l=new defer,c;return o?(c=this.handleResponse(o,n),l.resolve(c)):l.reject({message:"File not found in storage: "+e,stack:new Error().stack}),l.promise})}handleResponse(e,n){var i;return n=="json"?i=JSON.parse(e):isXml(n)?i=parse(e,"text/xml"):n=="xhtml"?i=parse(e,"application/xhtml+xml"):n=="html"||n=="htm"?i=parse(e,"text/html"):i=e,i}getBlob(e,n){let i=window.encodeURIComponent(e);return this.storage.getItem(i).then(function(s){if(s)return n=n||mime.lookup(e),new Blob([s],{type:n})})}getText(e,n){let i=window.encodeURIComponent(e);return n=n||mime.lookup(e),this.storage.getItem(i).then(function(s){var o=new defer,l=new FileReader,c;if(s)return c=new Blob([s],{type:n}),l.addEventListener("loadend",()=>{o.resolve(l.result)}),l.readAsText(c,n),o.promise})}getBase64(e,n){let i=window.encodeURIComponent(e);return n=n||mime.lookup(e),this.storage.getItem(i).then(s=>{var o=new defer,l=new FileReader,c;if(s)return c=new Blob([s],{type:n}),l.addEventListener("loadend",()=>{o.resolve(l.result)}),l.readAsDataURL(c,n),o.promise})}createUrl(e,n){var i=new defer,s=window.URL||window.webkitURL||window.mozURL,o,l,c=n&&n.base64;return e in this.urlCache?(i.resolve(this.urlCache[e]),i.promise):(c?(l=this.getBase64(e),l&&l.then((function(f){this.urlCache[e]=f,i.resolve(f)}).bind(this))):(l=this.getBlob(e),l&&l.then((function(f){o=s.createObjectURL(f),this.urlCache[e]=o,i.resolve(o)}).bind(this))),l||i.reject({message:"File not found in storage: "+e,stack:new Error().stack}),i.promise)}revokeUrl(e){var n=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&n.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let n in this.urlCache)e.revokeObjectURL(n);this.urlCache={},this.removeListeners()}}EventEmitter(Store.prototype);class DisplayOptions{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const n=qs(e,"display_options");return n?(qsa(n,"option").forEach(s=>{let o="";switch(s.childNodes.length&&(o=s.childNodes[0].nodeValue),s.attributes.name.value){case"interactive":this.interactive=o;break;case"fixed-layout":this.fixedLayout=o;break;case"open-to-spread":this.openToSpread=o;break;case"orientation-lock":this.orientationLock=o;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const CONTAINER_PATH="META-INF/container.xml",IBOOKS_DISPLAY_OPTIONS_PATH="META-INF/com.apple.ibooks.display-options.xml",INPUT_TYPE={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class Book{constructor(e,n){typeof n>"u"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(n=e,e=void 0),this.settings=extend$1(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),extend$1(this.settings,n),this.opening=new defer,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new defer,spine:new defer,metadata:new defer,cover:new defer,navigation:new defer,pageList:new defer,resources:new defer,displayOptions:new defer},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||request,this.spine=new Spine,this.locations=new Locations(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(i=>{var s=new Error("Cannot load book at "+e);this.emit(EVENTS.BOOK.OPEN_FAILED,s)})}open(e,n){var i,s=n||this.determineType(e);return s===INPUT_TYPE.BINARY?(this.archived=!0,this.url=new Url("/",""),i=this.openEpub(e)):s===INPUT_TYPE.BASE64?(this.archived=!0,this.url=new Url("/",""),i=this.openEpub(e,s)):s===INPUT_TYPE.EPUB?(this.archived=!0,this.url=new Url("/",""),i=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):s==INPUT_TYPE.OPF?(this.url=new Url(e),i=this.openPackaging(this.url.Path.toString())):s==INPUT_TYPE.MANIFEST?(this.url=new Url(e),i=this.openManifest(this.url.Path.toString())):(this.url=new Url(e),i=this.openContainer(CONTAINER_PATH).then(this.openPackaging.bind(this))),i}openEpub(e,n){return this.unarchive(e,n||this.settings.encoding).then(()=>this.openContainer(CONTAINER_PATH)).then(i=>this.openPackaging(i))}openContainer(e){return this.load(e).then(n=>(this.container=new Container(n),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new Path(e),this.load(e).then(n=>(this.packaging=new Packaging(n),this.unpack(this.packaging)))}openManifest(e){return this.path=new Path(e),this.load(e).then(n=>(this.packaging=new Packaging,this.packaging.load(n),this.unpack(this.packaging)))}load(e){var n=this.resolve(e);return this.archived?this.archive.request(n):this.request(n,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,n){if(e){var i=e,s=e.indexOf("://")>-1;return s?e:(this.path&&(i=this.path.resolve(e)),n!=!1&&this.url&&(i=this.url.resolve(i)),i)}}canonical(e){var n=e;return e?(this.settings.canonical?n=this.settings.canonical(e):n=this.resolve(e,!0),n):""}determineType(e){var n,i,s;if(this.settings.encoding==="base64")return INPUT_TYPE.BASE64;if(typeof e!="string")return INPUT_TYPE.BINARY;if(n=new Url(e),i=n.path(),s=i.extension,s&&(s=s.replace(/\?.*$/,"")),!s)return INPUT_TYPE.DIRECTORY;if(s==="epub")return INPUT_TYPE.EPUB;if(s==="opf")return INPUT_TYPE.OPF;if(s==="json")return INPUT_TYPE.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(IBOOKS_DISPLAY_OPTIONS_PATH)).then(n=>{this.displayOptions=new DisplayOptions(n),this.loading.displayOptions.resolve(this.displayOptions)}).catch(n=>{this.displayOptions=new DisplayOptions,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new DisplayOptions,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new Resources(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(n=>{console.error(n)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let n=e.navPath||e.ncxPath,i=e.toc;return i?new Promise((s,o)=>{this.navigation=new Navigation(i),e.pageList&&(this.pageList=new PageList(e.pageList)),s(this.navigation)}):n?this.load(n,"xml").then(s=>(this.navigation=new Navigation(s),this.pageList=new PageList(s),this.navigation)):new Promise((s,o)=>{this.navigation=new Navigation,this.pageList=new PageList,s(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,n){return this.rendition=new Rendition(this,n),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,n){return this.archive=new Archive,this.archive.open(e,n)}store(e){let n=this.settings.replacements&&this.settings.replacements!=="none",i=this.url,s=this.settings.requestMethod||request.bind(this);return this.storage=new Store(e,s,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let o=(l,c)=>{c.output=this.resources.substitute(l,c.url)};this.resources.settings.replacements=n||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new Url("/",""),this.spine.hooks.serialize.register(o)}),this.storage.on("online",()=>{this.url=i,this.spine.hooks.serialize.deregister(o)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,n)=>{n.output=this.resources.substitute(e,n.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var n=new EpubCFI(e),i=this.spine.get(n.spinePos),s=this.load.bind(this);return i?i.load(s).then(function(o){var l=n.toRange(i.document);return l}):new Promise((o,l)=>{l("CFI could not be found")})}key(e){var n=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${EPUBJS_VERSION}:${n}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}EventEmitter(Book.prototype);function ePub(t,e){return new Book(t,e)}ePub.VERSION=EPUBJS_VERSION;typeof global<"u"&&(global.EPUBJS_VERSION=EPUBJS_VERSION);ePub.Book=Book;ePub.Rendition=Rendition;ePub.Contents=Contents;ePub.CFI=EpubCFI;ePub.utils=utils$2;const LEFT="Left",RIGHT="Right",UP="Up",DOWN="Down",defaultProps={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},initialState={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},mouseMove="mousemove",mouseUp="mouseup",touchEnd="touchend",touchMove="touchmove",touchStart="touchstart";function getDirection(t,e,n,i){return t>e?n>0?RIGHT:LEFT:i>0?DOWN:UP}function rotateXYByAngle(t,e){if(e===0)return t;const n=Math.PI/180*e,i=t[0]*Math.cos(n)+t[1]*Math.sin(n),s=t[1]*Math.cos(n)-t[0]*Math.sin(n);return[i,s]}function getHandlers(t,e){const n=p=>{const g="touches"in p;g&&p.touches.length>1||t((y,x)=>{x.trackMouse&&!g&&(document.addEventListener(mouseMove,i),document.addEventListener(mouseUp,l));const{clientX:S,clientY:w}=g?p.touches[0]:p,v=rotateXYByAngle([S,w],x.rotationAngle);return x.onTouchStartOrOnMouseDown&&x.onTouchStartOrOnMouseDown({event:p}),Object.assign(Object.assign(Object.assign({},y),initialState),{initial:v.slice(),xy:v,start:p.timeStamp||0})})},i=p=>{t((g,y)=>{const x="touches"in p;if(x&&p.touches.length>1)return g;if(p.timeStamp-g.start>y.swipeDuration)return g.swiping?Object.assign(Object.assign({},g),{swiping:!1}):g;const{clientX:S,clientY:w}=x?p.touches[0]:p,[v,b]=rotateXYByAngle([S,w],y.rotationAngle),_=v-g.xy[0],E=b-g.xy[1],k=Math.abs(_),T=Math.abs(E),L=(p.timeStamp||0)-g.start,F=Math.sqrt(k*k+T*T)/(L||1),C=[_/(L||1),E/(L||1)],O=getDirection(k,T,_,E),P=typeof y.delta=="number"?y.delta:y.delta[O.toLowerCase()]||defaultProps.delta;if(k<P&&T<P&&!g.swiping)return g;const G={absX:k,absY:T,deltaX:_,deltaY:E,dir:O,event:p,first:g.first,initial:g.initial,velocity:F,vxvy:C};G.first&&y.onSwipeStart&&y.onSwipeStart(G),y.onSwiping&&y.onSwiping(G);let W=!1;return(y.onSwiping||y.onSwiped||y[`onSwiped${O}`])&&(W=!0),W&&y.preventScrollOnSwipe&&y.trackTouch&&p.cancelable&&p.preventDefault(),Object.assign(Object.assign({},g),{first:!1,eventData:G,swiping:!0})})},s=p=>{t((g,y)=>{let x;if(g.swiping&&g.eventData){if(p.timeStamp-g.start<y.swipeDuration){x=Object.assign(Object.assign({},g.eventData),{event:p}),y.onSwiped&&y.onSwiped(x);const S=y[`onSwiped${x.dir}`];S&&S(x)}}else y.onTap&&y.onTap({event:p});return y.onTouchEndOrOnMouseUp&&y.onTouchEndOrOnMouseUp({event:p}),Object.assign(Object.assign(Object.assign({},g),initialState),{eventData:x})})},o=()=>{document.removeEventListener(mouseMove,i),document.removeEventListener(mouseUp,l)},l=p=>{o(),s(p)},c=(p,g)=>{let y=()=>{};if(p&&p.addEventListener){const x=Object.assign(Object.assign({},defaultProps.touchEventOptions),g.touchEventOptions),S=[[touchStart,n,x],[touchMove,i,Object.assign(Object.assign({},x),g.preventScrollOnSwipe?{passive:!1}:{})],[touchEnd,s,x]];S.forEach(([w,v,b])=>p.addEventListener(w,v,b)),y=()=>S.forEach(([w,v])=>p.removeEventListener(w,v))}return y},h={ref:p=>{p!==null&&t((g,y)=>{if(g.el===p)return g;const x={};return g.el&&g.el!==p&&g.cleanUpTouch&&(g.cleanUpTouch(),x.cleanUpTouch=void 0),y.trackTouch&&p&&(x.cleanUpTouch=c(p,y)),Object.assign(Object.assign(Object.assign({},g),{el:p}),x)})}};return e.trackMouse&&(h.onMouseDown=n),[h,c]}function updateTransientState(t,e,n,i){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:i(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:i(t.el,e)})}function useSwipeable(t){const{trackMouse:e}=t,n=reactExports.useRef(Object.assign({},initialState)),i=reactExports.useRef(Object.assign({},defaultProps)),s=reactExports.useRef(Object.assign({},i.current));s.current=Object.assign({},i.current),i.current=Object.assign(Object.assign({},defaultProps),t);let o;for(o in defaultProps)i.current[o]===void 0&&(i.current[o]=defaultProps[o]);const[l,c]=reactExports.useMemo(()=>getHandlers(f=>n.current=f(n.current,i.current),{trackMouse:e}),[e]);return n.current=updateTransientState(n.current,i.current,s.current,c),l}var __defProp=Object.defineProperty,__defNormalProp=(t,e,n)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,__publicField=(t,e,n)=>__defNormalProp(t,typeof e!="symbol"?e+"":e,n);const EpubViewStyle={viewHolder:{position:"relative",height:"100%",width:"100%"},view:{height:"100%"}};class EpubView extends reactExports.Component{constructor(e){super(e),__publicField(this,"state",{isLoaded:!1,toc:[]}),__publicField(this,"viewerRef",React.createRef()),__publicField(this,"location"),__publicField(this,"book"),__publicField(this,"rendition"),__publicField(this,"prevPage"),__publicField(this,"nextPage"),__publicField(this,"onLocationChange",n=>{const{location:i,locationChanged:s}=this.props,o=`${n.start}`;i!==o&&(this.location=o,s&&s(o))}),__publicField(this,"handleKeyPress",n=>{n.key==="ArrowRight"&&this.nextPage&&this.nextPage(),n.key==="ArrowLeft"&&this.prevPage&&this.prevPage()}),this.location=e.location,this.book=this.rendition=this.prevPage=this.nextPage=void 0}componentDidMount(){this.initBook(),document.addEventListener("keyup",this.handleKeyPress,!1)}initBook(){const{url:e,tocChanged:n,epubInitOptions:i}=this.props;this.book&&this.book.destroy(),this.book=ePub(e,i),this.book.loaded.navigation.then(({toc:s})=>{this.setState({isLoaded:!0,toc:s},()=>{n&&n(s),this.initReader()})})}componentWillUnmount(){this.book&&this.book.destroy(),this.book=this.rendition=this.prevPage=this.nextPage=void 0,document.removeEventListener("keyup",this.handleKeyPress,!1)}shouldComponentUpdate(e){return!this.state.isLoaded||e.location!==this.props.location||e.url!==this.props.url}componentDidUpdate(e){var n;e.location!==this.props.location&&this.location!==this.props.location&&((n=this.rendition)==null||n.display(this.props.location+"")),e.url!==this.props.url&&this.initBook()}initReader(){const{toc:e}=this.state,{location:n,epubOptions:i,getRendition:s}=this.props;if(this.viewerRef.current){const o=this.viewerRef.current;if(this.book){const l=this.book.renderTo(o,{width:"100%",height:"100%",...i});this.rendition=l,this.prevPage=()=>{l.prev()},this.nextPage=()=>{l.next()},this.registerEvents(),s&&s(l),typeof n=="string"||typeof n=="number"?l.display(n+""):e.length>0&&e[0].href?l.display(e[0].href):l.display()}}}registerEvents(){const{handleKeyPress:e,handleTextSelected:n}=this.props;this.rendition&&(this.rendition.on("locationChanged",this.onLocationChange),this.rendition.on("keyup",e||this.handleKeyPress),n&&this.rendition.on("selected",n))}renderBook(){const{epubViewStyles:e=EpubViewStyle}=this.props;return jsxRuntimeExports.jsx("div",{ref:this.viewerRef,style:e.view})}render(){const{isLoaded:e}=this.state,{loadingView:n=null,epubViewStyles:i=EpubViewStyle}=this.props;return jsxRuntimeExports.jsx("div",{style:i.viewHolder,children:e&&this.renderBook()||n})}}const ReactReaderStyle={container:{overflow:"hidden",position:"relative",height:"100%"},readerArea:{position:"relative",zIndex:1,height:"100%",width:"100%",backgroundColor:"#fff",transition:"all .3s ease"},containerExpanded:{transform:"translateX(256px)"},titleArea:{position:"absolute",top:20,left:50,right:50,textAlign:"center",color:"#999"},reader:{position:"absolute",top:50,left:50,bottom:20,right:50},swipeWrapper:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:200},prev:{left:1},next:{right:1},arrow:{outline:"none",border:"none",background:"none",position:"absolute",top:"50%",marginTop:-32,fontSize:64,padding:"0 10px",color:"#E2E2E2",fontFamily:"arial, sans-serif",cursor:"pointer",userSelect:"none",appearance:"none",fontWeight:"normal"},arrowHover:{color:"#777"},toc:{},tocBackground:{position:"absolute",left:256,top:0,bottom:0,right:0,zIndex:1},tocArea:{position:"absolute",left:0,top:0,bottom:0,zIndex:0,width:256,overflowY:"auto",WebkitOverflowScrolling:"touch",background:"#f2f2f2",padding:"10px 0"},tocAreaButton:{userSelect:"none",appearance:"none",background:"none",border:"none",display:"block",fontFamily:"sans-serif",width:"100%",fontSize:".9em",textAlign:"left",padding:".9em 1em",borderBottom:"1px solid #ddd",color:"#aaa",boxSizing:"border-box",outline:"none",cursor:"pointer"},tocButton:{background:"none",border:"none",width:32,height:32,position:"absolute",top:10,left:10,borderRadius:2,outline:"none",cursor:"pointer"},tocButtonExpanded:{background:"#f2f2f2"},tocButtonBar:{position:"absolute",width:"60%",background:"#ccc",height:2,left:"50%",margin:"-1px -30%",top:"50%",transition:"all .5s ease"},tocButtonBarTop:{top:"35%"},tocButtonBottom:{top:"66%"},loadingView:{position:"absolute",top:"50%",left:"10%",right:"10%",color:"#ccc",textAlign:"center",marginTop:"-.5em"}},SwipeWrapper=({children:t,swipeProps:e})=>{const n=useSwipeable(e);return jsxRuntimeExports.jsx("div",{style:{height:"100%"},...n,children:t})},TocItem=({data:t,setLocation:e,styles:n})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{onClick:()=>e(t.href),style:n,children:t.label}),t.subitems&&t.subitems.length>0&&jsxRuntimeExports.jsx("div",{style:{paddingLeft:10},children:t.subitems.map((i,s)=>jsxRuntimeExports.jsx(TocItem,{data:i,styles:n,setLocation:e},s))})]});class ReactReader extends reactExports.PureComponent{constructor(e){super(e),__publicField(this,"state",{isLoaded:!1,expandedToc:!1,toc:[]}),__publicField(this,"readerRef",React.createRef()),__publicField(this,"toggleToc",()=>{this.setState({expandedToc:!this.state.expandedToc})}),__publicField(this,"next",()=>{const n=this.readerRef.current;n&&n.nextPage&&n.nextPage()}),__publicField(this,"prev",()=>{const n=this.readerRef.current;n&&n.prevPage&&n.prevPage()}),__publicField(this,"onTocChange",n=>{const{tocChanged:i}=this.props;this.setState({toc:n},()=>i&&i(n))}),__publicField(this,"setLocation",n=>{const{locationChanged:i}=this.props;this.setState({expandedToc:!1},()=>i&&i(n))})}renderToc(){const{toc:e,expandedToc:n}=this.state,{readerStyles:i=ReactReaderStyle}=this.props;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:i.tocArea,children:jsxRuntimeExports.jsx("div",{style:i.toc,children:e.map((s,o)=>jsxRuntimeExports.jsx(TocItem,{data:s,setLocation:this.setLocation,styles:i.tocAreaButton},o))})}),n&&jsxRuntimeExports.jsx("div",{style:i.tocBackground,onClick:this.toggleToc})]})}renderTocToggle(){const{expandedToc:e}=this.state,{readerStyles:n=ReactReaderStyle}=this.props;return jsxRuntimeExports.jsxs("button",{style:Object.assign({},n.tocButton,e?n.tocButtonExpanded:{}),onClick:this.toggleToc,children:[jsxRuntimeExports.jsx("span",{style:Object.assign({},n.tocButtonBar,n.tocButtonBarTop)}),jsxRuntimeExports.jsx("span",{style:Object.assign({},n.tocButtonBar,n.tocButtonBottom)})]})}render(){const{title:e,showToc:n=!0,loadingView:i,readerStyles:s=ReactReaderStyle,locationChanged:o,swipeable:l,epubViewStyles:c,isRTL:f=!1,...h}=this.props,{toc:p,expandedToc:g}=this.state;return jsxRuntimeExports.jsxs("div",{style:s.container,children:[jsxRuntimeExports.jsxs("div",{style:Object.assign({},s.readerArea,g?s.containerExpanded:{}),children:[n&&this.renderTocToggle(),jsxRuntimeExports.jsx("div",{style:s.titleArea,children:e}),jsxRuntimeExports.jsx(SwipeWrapper,{swipeProps:{onSwiped:y=>{const{dir:x}=y;x==="Left"&&(f?this.prev():this.next()),x==="Right"&&(f?this.next():this.prev())},onTouchStartOrOnMouseDown:({event:y})=>y.preventDefault(),touchEventOptions:{passive:!1},preventScrollOnSwipe:!0,trackMouse:!0},children:jsxRuntimeExports.jsxs("div",{style:s.reader,children:[jsxRuntimeExports.jsx(EpubView,{ref:this.readerRef,loadingView:i===void 0?jsxRuntimeExports.jsx("div",{style:s.loadingView,children:"Loading"}):i,epubViewStyles:c,...h,tocChanged:this.onTocChange,locationChanged:o}),l&&jsxRuntimeExports.jsx("div",{style:s.swipeWrapper})]})}),jsxRuntimeExports.jsx("button",{style:Object.assign({},s.arrow,s.prev),onClick:f?this.next:this.prev,children:""}),jsxRuntimeExports.jsx("button",{style:Object.assign({},s.arrow,s.next),onClick:f?this.prev:this.next,children:""})]}),n&&p&&this.renderToc()]})}}const SinglePageIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14h-2V9h-2V7h4z"}),"LooksOne"),TwoPageIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-4 8c0 1.11-.9 2-2 2h-2v2h4v2H9v-4c0-1.11.9-2 2-2h2V9H9V7h4c1.1 0 2 .89 2 2z"}),"LooksTwo"),ArrowBackIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),BackButton=()=>{const t=useNavigate();return jsxRuntimeExports.jsx(Button,{variant:"outlined",onClick:()=>t("/library"),sx:{flexShrink:0},children:"Back to Library"})},FlowLibraryButton=()=>{const t=useNavigate();return jsxRuntimeExports.jsx(Box,{sx:{position:"absolute",top:16,left:16,zIndex:1e3},children:jsxRuntimeExports.jsx(IconButton,{onClick:()=>t("/library"),sx:{border:"1px solid #aaa",borderRadius:"12px",color:"#666",width:48,height:48,backgroundColor:"#fff",boxShadow:1},children:jsxRuntimeExports.jsx(ArrowBackIcon,{})})})},FontSizeSlider=({fontSize:t,setFontSize:e})=>jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",gap:1,flexGrow:1},children:[jsxRuntimeExports.jsxs(Typography,{variant:"subtitle2",gutterBottom:!0,sx:{flexShrink:0},children:["Font Size: ",t,"px"]}),jsxRuntimeExports.jsx(Slider,{value:t,min:12,max:22,step:2,onChange:(n,i)=>e(i),valueLabelDisplay:"auto",sx:{flexGrow:1}})]}),PageModeToggle=({pageMode:t,setPageMode:e})=>jsxRuntimeExports.jsxs(ToggleButtonGroup,{value:t,exclusive:!0,onChange:(n,i)=>e(i),"aria-label":"page mode",sx:{flexShrink:0,marginLeft:2},children:[jsxRuntimeExports.jsxs(ToggleButton,{value:"single","aria-label":"single page mode",sx:{padding:"4px 8px"},children:[jsxRuntimeExports.jsx(SinglePageIcon,{fontSize:"small"}),jsxRuntimeExports.jsx(Typography,{sx:{ml:.5,fontSize:"0.8rem"},children:"Single"})]}),jsxRuntimeExports.jsxs(ToggleButton,{value:"double","aria-label":"two page mode",sx:{padding:"4px 8px"},children:[jsxRuntimeExports.jsx(TwoPageIcon,{fontSize:"small"}),jsxRuntimeExports.jsx(Typography,{sx:{ml:.5,fontSize:"0.8rem"},children:"Double"})]})]}),ProgressBar=({progress:t})=>jsxRuntimeExports.jsxs(Box,{sx:{height:"25px",display:"flex",position:"relative",justifyContent:"center",alignItems:"center",width:"100%"},children:[jsxRuntimeExports.jsx(LinearProgress,{variant:"determinate",value:t,sx:{height:10,zIndex:0,borderRadius:4,backgroundColor:"#6c6c6c",width:"100%","& .MuiLinearProgress-bar":{borderRadius:4}}}),jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{position:"absolute",zIndex:1,borderRadius:5,backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",padding:"2px 5px"},children:`${Math.round(t)}%`})]}),Toolbar=({fontSize:t,setFontSize:e,pageMode:n,setPageMode:i,progress:s})=>jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:1,width:"100%"},children:[jsxRuntimeExports.jsx(BackButton,{}),jsxRuntimeExports.jsx(FontSizeSlider,{fontSize:t,setFontSize:e}),jsxRuntimeExports.jsx(PageModeToggle,{pageMode:n,setPageMode:i})]}),jsxRuntimeExports.jsx(ProgressBar,{progress:s})]}),darkReaderTheme={...ReactReaderStyle,tocButton:{background:"none",border:"none",width:32,height:32,position:"absolute",top:10,right:10,borderRadius:2,outline:"none",cursor:"pointer"},readerArea:{position:"relative",zIndex:1,height:"100%",width:"100%",backgroundColor:"#FAF3E0",transition:"all .3s ease"},containerExpanded:{transform:"translateX(-256px)"},tocArea:{position:"absolute",right:0,top:0,bottom:0,zIndex:0,width:256,overflowY:"auto",WebkitOverflowScrolling:"touch",background:"#f2f2f2",padding:"10px 0"}},EpubReader=({file:t})=>{const[e,n]=reactExports.useState(""),i=reactExports.useRef(null),s=reactExports.useRef(null),o=l=>{if(i.current&&s.current){const{displayed:c,href:f}=i.current.location.start,h=s.current.find(p=>p.href===f);n(`Page ${c.page} of ${c.total} in chapter ${h?h.label:"n/a"}`)}};return jsxRuntimeExports.jsxs(Box,{sx:{width:"100%"},children:[jsxRuntimeExports.jsx(FlowLibraryButton,{}),jsxRuntimeExports.jsx("div",{style:{height:"100vh"},children:jsxRuntimeExports.jsx(ReactReader,{locationChanged:o,url:t,readerStyles:darkReaderTheme,getRendition:l=>i.current=l,tocChanged:l=>s.current=l})}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",right:"1rem",left:"1rem",textAlign:"center",zIndex:1},children:e})]})},CloseIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ArrowBackIos=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos"),ArrowForwardIos=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos"),LayoutGroupContext=reactExports.createContext({});function useConstant(t){const e=reactExports.useRef(null);return e.current===null&&(e.current=t()),e.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function usePresence(t=!0){const e=reactExports.useContext(PresenceContext);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,o=reactExports.useId();reactExports.useEffect(()=>{t&&s(o)},[t]);const l=reactExports.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,l]:[!0]}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,noop$1=t=>t;let invariant=noop$1;function memo(t){let e;return()=>(e===void 0&&(e=t()),e)}const progress=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},secondsToMilliseconds=t=>t*1e3,millisecondsToSeconds=t=>t/1e3,MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1},stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"];function createRenderStep(t,e){let n=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(p){l.has(p)&&(h.schedule(p),t()),p(c)}const h={schedule:(p,g=!1,y=!1)=>{const S=y&&s?n:i;return g&&l.add(p),S.has(p)||S.add(p),p},cancel:p=>{i.delete(p),l.delete(p)},process:p=>{if(c=p,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),n.clear(),s=!1,o&&(o=!1,h.process(p))}};return h}const maxElapsed=40;function createRenderBatcher(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=stepsOrder.reduce((b,_)=>(b[_]=createRenderStep(o),b),{}),{read:c,resolveKeyframes:f,update:h,preRender:p,render:g,postRender:y}=l,x=()=>{const b=performance.now();n=!1,s.delta=i?1e3/60:Math.max(Math.min(b-s.timestamp,maxElapsed),1),s.timestamp=b,s.isProcessing=!0,c.process(s),f.process(s),h.process(s),p.process(s),g.process(s),y.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(x))},S=()=>{n=!0,i=!0,s.isProcessing||t(x)};return{schedule:stepsOrder.reduce((b,_)=>{const E=l[_];return b[_]=(k,T=!1,L=!1)=>(n||S(),E.schedule(k,T,L)),b},{}),cancel:b=>{for(let _=0;_<stepsOrder.length;_++)l[stepsOrder[_]].cancel(b)},state:s,steps:l}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const t in featureProps)featureDefinitions[t]={isEnabled:e=>featureProps[t].some(n=>!!e[n])};function loadFeatures(t){for(const e in t)featureDefinitions[e]={...featureDefinitions[e],...t[e]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||validMotionProps.has(t)}let shouldForward=t=>!isValidMotionProp(t);function loadExternalIsValidProp(t){t&&(shouldForward=e=>e.startsWith("on")?!isValidMotionProp(e):t(e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(shouldForward(s)||n===!0&&isValidMotionProp(s)||!e&&!isValidMotionProp(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}function createDOMMotionComponentProxy(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const MotionContext=reactExports.createContext({});function isAnimationControls(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function isVariantLabel(t){return typeof t=="string"||Array.isArray(t)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(t){return isAnimationControls(t.animate)||variantProps.some(e=>isVariantLabel(t[e]))}function isVariantNode(t){return!!(isControllingVariants(t)||t.variants)}function getCurrentTreeVariants(t,e){if(isControllingVariants(t)){const{initial:n,animate:i}=t;return{initial:n===!1||isVariantLabel(n)?n:void 0,animate:isVariantLabel(i)?i:void 0}}return t.inherit!==!1?e:{}}function useCreateMotionContext(t){const{initial:e,animate:n}=getCurrentTreeVariants(t,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:e,animate:n}),[variantLabelsAsDependency(e),variantLabelsAsDependency(n)])}function variantLabelsAsDependency(t){return Array.isArray(t)?t.join(" "):t}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function useMotionRef(t,e,n){return reactExports.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):isRefObject(n)&&(n.current=i))},[e])}const camelToDash=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(t,e,n,i,s){var o,l;const{visualElement:c}=reactExports.useContext(MotionContext),f=reactExports.useContext(LazyContext),h=reactExports.useContext(PresenceContext),p=reactExports.useContext(MotionConfigContext).reducedMotion,g=reactExports.useRef(null);i=i||f.renderer,!g.current&&i&&(g.current=i(t,{visualState:e,parent:c,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const y=g.current,x=reactExports.useContext(SwitchLayoutGroupContext);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&createProjectionNode$1(g.current,n,s,x);const S=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{y&&S.current&&y.update(n,h)});const w=n[optimizedAppearDataAttribute],v=reactExports.useRef(!!w&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,w))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,w)));return useIsomorphicLayoutEffect(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),microtask.render(y.render),v.current&&y.animationState&&y.animationState.animateChanges())}),reactExports.useEffect(()=>{y&&(!v.current&&y.animationState&&y.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,w)}),v.current=!1))}),y}function createProjectionNode$1(t,e,n,i){const{layoutId:s,layout:o,drag:l,dragConstraints:c,layoutScroll:f,layoutRoot:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:getClosestProjectingNode(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||c&&isRefObject(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:h})}function getClosestProjectingNode(t){if(t)return t.options.allowProjection!==!1?t.projection:getClosestProjectingNode(t.parent)}function createRendererMotionComponent({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:s}){var o,l;t&&loadFeatures(t);function c(h,p){let g;const y={...reactExports.useContext(MotionConfigContext),...h,layoutId:useLayoutId(h)},{isStatic:x}=y,S=useCreateMotionContext(h),w=i(h,x);if(!x&&isBrowser){useStrictMode();const v=getProjectionFunctionality(y);g=v.MeasureLayout,S.visualElement=useVisualElement(s,w,y,e,v.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:S,children:[g&&S.visualElement?jsxRuntimeExports.jsx(g,{visualElement:S.visualElement,...y}):null,n(s,h,useMotionRef(w,S.visualElement,p),w,x,S.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(l=(o=s.displayName)!==null&&o!==void 0?o:s.name)!==null&&l!==void 0?l:""})`}`;const f=reactExports.forwardRef(c);return f[motionComponentSymbol]=s,f}function useLayoutId({layoutId:t}){const e=reactExports.useContext(LayoutGroupContext).id;return e&&t!==void 0?e+"-"+t:t}function useStrictMode(t,e){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(t){const{drag:e,layout:n}=featureDefinitions;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const checkStringStartsWith=t=>e=>typeof e=="string"&&e.startsWith(t),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=t=>startsAsVariableToken(t)?singleCssVariableRegex.test(t.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,scaleCorrectors={};function addScaleCorrector(t){for(const e in t)scaleCorrectors[e]=t[e],isCSSVariableName(e)&&(scaleCorrectors[e].isCSSVariable=!0)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(t,{layout:e,layoutId:n}){return transformProps.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!scaleCorrectors[t]||t==="opacity")}const isMotionValue=t=>!!(t&&t.getVelocity),getValueAsType=(t,e)=>e&&typeof t=="number"?e.transform(t):t,clamp=(t,e,n)=>n>e?e:n<t?t:n,number={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},alpha={...number,transform:t=>clamp(0,1,t)},scale={...number,default:1},createUnitType=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:t=>percent.parse(t)/100,transform:t=>percent.transform(t*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(t,e,n){let i="",s=!0;for(let o=0;o<numTransforms;o++){const l=transformPropOrder[o],c=t[l];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(l.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const h=getValueAsType(c,numberValueTypes[l]);if(!f){s=!1;const p=translateAlias[l]||l;i+=`${p}(${h}) `}n&&(e[l]=h)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function buildHTMLStyles(t,e,n){const{style:i,vars:s,transformOrigin:o}=t;let l=!1,c=!1;for(const f in e){const h=e[f];if(transformProps.has(f)){l=!0;continue}else if(isCSSVariableName(f)){s[f]=h;continue}else{const p=getValueAsType(h,numberValueTypes[f]);f.startsWith("origin")?(c=!0,o[f]=p):i[f]=p}}if(e.transform||(l||n?i.transform=buildTransform(e,t.transform,n):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:p=0}=o;i.transformOrigin=`${f} ${h} ${p}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(t,e,n){for(const i in e)!isMotionValue(e[i])&&!isForcedMotionValue(i,n)&&(t[i]=e[i])}function useInitialMotionValues({transformTemplate:t},e){return reactExports.useMemo(()=>{const n=createHtmlRenderState();return buildHTMLStyles(n,e,t),Object.assign({},n.vars,n.style)},[e])}function useStyle(t,e){const n=t.style||{},i={};return copyRawValuesOnly(i,n,t),Object.assign(i,useInitialMotionValues(t,e)),i}function useHTMLProps(t,e){const n={},i=useStyle(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(t){return typeof t!="string"||t.includes("-")?!1:!!(lowercaseSVGElements.indexOf(t)>-1||/[A-Z]/u.test(t))}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(t,e,n=1,i=0,s=!0){t.pathLength=1;const o=s?dashKeys:camelKeys;t[o.offset]=px.transform(-i);const l=px.transform(e),c=px.transform(n);t[o.array]=`${l} ${c}`}function calcOrigin$1(t,e,n){return typeof t=="string"?t:px.transform(e+n*t)}function calcSVGTransformOrigin(t,e,n){const i=calcOrigin$1(e,t.x,t.width),s=calcOrigin$1(n,t.y,t.height);return`${i} ${s}`}function buildSVGAttrs(t,{attrX:e,attrY:n,attrScale:i,originX:s,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:f=0,...h},p,g){if(buildHTMLStyles(t,h,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:x,dimensions:S}=t;y.transform&&(S&&(x.transform=y.transform),delete y.transform),S&&(s!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=calcSVGTransformOrigin(S,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),l!==void 0&&buildSVGPath(y,l,c,f,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=t=>typeof t=="string"&&t.toLowerCase()==="svg";function useSVGProps(t,e,n,i){const s=reactExports.useMemo(()=>{const o=createSvgRenderState();return buildSVGAttrs(o,e,isSVGTag(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};copyRawValuesOnly(o,t.style,t),s.style={...o,...s.style}}return s}function createUseRender(t=!1){return(n,i,s,{latestValues:o},l)=>{const f=(isSVGComponent(n)?useSVGProps:useHTMLProps)(i,o,l,n),h=filterProps(i,typeof n=="string",t),p=n!==reactExports.Fragment?{...h,...f,ref:s}:{},{children:g}=i,y=reactExports.useMemo(()=>isMotionValue(g)?g.get():g,[g]);return reactExports.createElement(n,{...p,children:y})}}function getValueState(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function resolveVariantFromProps(t,e,n,i){if(typeof e=="function"){const[s,o]=getValueState(i);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=getValueState(i);e=e(n!==void 0?n:t.custom,s,o)}return e}const isKeyframesTarget=t=>Array.isArray(t),isCustomValue=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),resolveFinalValueInKeyframes=t=>isKeyframesTarget(t)?t[t.length-1]||0:t;function resolveMotionValue(t){const e=isMotionValue(t)?t.get():t;return isCustomValue(e)?e.toValue():e}function makeState({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,s,o){const l={latestValues:makeLatestValues(i,s,o,t),renderState:e()};return n&&(l.onMount=c=>n({props:i,current:c,...l}),l.onUpdate=c=>n(c)),l}const makeUseVisualState=t=>(e,n)=>{const i=reactExports.useContext(MotionContext),s=reactExports.useContext(PresenceContext),o=()=>makeState(t,e,i,s);return n?o():useConstant(o)};function makeLatestValues(t,e,n,i){const s={},o=i(t,{});for(const y in o)s[y]=resolveMotionValue(o[y]);let{initial:l,animate:c}=t;const f=isControllingVariants(t),h=isVariantNode(t);e&&h&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const g=p?c:l;if(g&&typeof g!="boolean"&&!isAnimationControls(g)){const y=Array.isArray(g)?g:[g];for(let x=0;x<y.length;x++){const S=resolveVariantFromProps(t,y[x]);if(S){const{transitionEnd:w,transition:v,...b}=S;for(const _ in b){let E=b[_];if(Array.isArray(E)){const k=p?E.length-1:0;E=E[k]}E!==null&&(s[_]=E)}for(const _ in w)s[_]=w[_]}}}return s}function scrapeMotionValuesFromProps$1(t,e,n){var i;const{style:s}=t,o={};for(const l in s)(isMotionValue(s[l])||e.style&&isMotionValue(e.style[l])||isForcedMotionValue(l,t)||((i=n==null?void 0:n.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[l]=s[l]);return o}const htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function updateSVGDimensions(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function renderHTML(t,{style:e,vars:n},i,s){Object.assign(t.style,e,s&&s.getProjectionStyles(i));for(const o in n)t.style.setProperty(o,n[o])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(t,e,n,i){renderHTML(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(camelCaseAttributes.has(s)?s:camelToDash(s),e.attrs[s])}function scrapeMotionValuesFromProps(t,e,n){const i=scrapeMotionValuesFromProps$1(t,e,n);for(const s in t)if(isMotionValue(t[s])||isMotionValue(e[s])){const o=transformPropOrder.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=t[s]}return i}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:s})=>{if(!n)return;let o=!!t.drag;if(!o){for(const c in s)if(transformProps.has(c)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let c=0;c<layoutProps.length;c++){const f=layoutProps[c];t[f]!==e[f]&&(l=!0)}l&&frame.read(()=>{updateSVGDimensions(n,i),frame.render(()=>{buildSVGAttrs(i,s,isSVGTag(n.tagName),t.transformTemplate),renderSVG(n,i)})})}})};function createMotionComponentFactory(t,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...isSVGComponent(i)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:t,useRender:createUseRender(s),createVisualElement:e,Component:i};return createRendererMotionComponent(l)}}function resolveVariant(t,e,n){const i=t.getProps();return resolveVariantFromProps(i,e,n!==void 0?n:i.custom,t)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(s=>{if(supportsScrollTimeline()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{i.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function getValueTransition(t,e){return t?t[e]||t.default||t:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<maxGeneratorDuration;)e+=n,i=t.next(e);return e>=maxGeneratorDuration?1/0:e}function isGenerator(t){return typeof t=="function"}function attachTimeline(t,e){t.timeline=e,t.onfinish=null}const isBezierDefinition=t=>Array.isArray(t)&&typeof t[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(t,e){const n=memo(t);return()=>{var i;return(i=supportsFlags[e])!==null&&i!==void 0?i:n()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)i+=t(progress(0,s-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function isWaapiSupportedEasing(t){return!!(typeof t=="function"&&supportsLinearEasing()||!t||typeof t=="string"&&(t in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(t)||Array.isArray(t)&&t.every(isWaapiSupportedEasing))}const cubicBezierAsString=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(t,e){if(t)return typeof t=="function"&&supportsLinearEasing()?generateLinearEasing(t,e):isBezierDefinition(t)?cubicBezierAsString(t):Array.isArray(t)?t.map(n=>mapEasingToNativeEasing(n,e)||supportedWaapiEasing.easeOut):supportedWaapiEasing[t]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const o=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function setupGesture(t,e){const n=resolveElements(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function isValidHover(t){return!(t.pointerType==="touch"||isDragActive())}function hover(t,e,n={}){const[i,s,o]=setupGesture(t,n),l=c=>{if(!isValidHover(c))return;const{target:f}=c,h=e(f,c);if(typeof h!="function"||!f)return;const p=g=>{isValidHover(g)&&(h(g),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),o}const isNodeOrChild=(t,e)=>e?t===e?!0:isNodeOrChild(t,e.parentElement):!1,isPrimaryPointer=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(t){return focusableElements.has(t.tagName)||t.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(t){return e=>{e.key==="Enter"&&t(e)}}function firePointerEvent(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=filterEvents(()=>{if(isPressing.has(n))return;firePointerEvent(n,"down");const s=filterEvents(()=>{firePointerEvent(n,"up")}),o=()=>firePointerEvent(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function isValidPressEvent(t){return isPrimaryPointer(t)&&!isDragActive()}function press(t,e,n={}){const[i,s,o]=setupGesture(t,n),l=c=>{const f=c.currentTarget;if(!isValidPressEvent(c)||isPressing.has(f))return;isPressing.add(f);const h=e(f,c),p=(x,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),!(!isValidPressEvent(x)||!isPressing.has(f))&&(isPressing.delete(f),typeof h=="function"&&h(x,{success:S}))},g=x=>{p(x,n.useGlobalTarget||isNodeOrChild(f,x.target))},y=x=>{p(x,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return i.forEach(c=>{!isElementKeyboardAccessible(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),c.addEventListener("focus",h=>enableKeyboardPress(h,s),s)}),o}function setDragLock(t){return t==="x"||t==="y"?isDragging[t]?null:(isDragging[t]=!0,()=>{isDragging[t]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:t=>{now=t,queueMicrotask(clearTime)}};function addUniqueItem(t,e){t.indexOf(e)===-1&&t.push(e)}function removeItem(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(t,e){return e?t*(1e3/e):0}const MAX_VELOCITY_DELTA=30,isFloat=t=>!isNaN(parseFloat(t));class MotionValue{constructor(e,n={}){this.version="12.4.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const o=time.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=time.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new SubscriptionManager);const i=this.events[e].add(n);return e==="change"?()=>{i(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(t,e){return new MotionValue(t,e)}function setMotionValue(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,motionValue(n))}function setTarget(t,e){const n=resolveVariant(t,e);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const l in o){const c=resolveFinalValueInKeyframes(o[l]);setMotionValue(t,l,c)}}function isWillChangeMotionValue(t){return!!(isMotionValue(t)&&t.add)}function addValueToWillChange(t,e){const n=t.getValue("willChange");if(isWillChangeMotionValue(n))return n.add(e)}function getOptimisedAppearId(t){return t.props[optimizedAppearDataAttribute]}const calcBezier=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(t,e,n,i,s){let o,l,c=0;do l=e+(n-e)/2,o=calcBezier(l,i,s)-t,o>0?n=l:e=l;while(Math.abs(o)>subdivisionPrecision&&++c<subdivisionMaxIterations);return l}function cubicBezier(t,e,n,i){if(t===e&&n===i)return noop$1;const s=o=>binarySubdivide(o,0,1,t,n);return o=>o===0||o===1?o:calcBezier(s(o),e,i)}const mirrorEasing=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,reverseEasing=t=>e=>1-t(1-e),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=t=>(t*=2)<1?.5*backIn(t):.5*(2-Math.pow(2,-10*(t-1))),circIn=t=>1-Math.sin(Math.acos(t)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=t=>/^0[^.\s]+$/u.test(t);function isNone(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||isZeroValueString(t):!0}const sanitize=t=>Math.round(t*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(t){return t==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(t,e)=>n=>!!(typeof n=="string"&&singleColorRegex.test(n)&&n.startsWith(t)||e&&!isNullish(n)&&Object.prototype.hasOwnProperty.call(n,e)),splitColor=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,o,l,c]=i.match(floatRegex);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},clampRgbUnit=t=>clamp(0,255,t),rgbUnit={...number,transform:t=>Math.round(clampRgbUnit(t))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+rgbUnit.transform(t)+", "+rgbUnit.transform(e)+", "+rgbUnit.transform(n)+", "+sanitize(alpha.transform(i))+")"};function parseHex(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+percent.transform(sanitize(e))+", "+percent.transform(sanitize(n))+", "+sanitize(alpha.transform(i))+")"},color={test:t=>rgba.test(t)||hex.test(t)||hsla.test(t),parse:t=>rgba.test(t)?rgba.parse(t):hsla.test(t)?hsla.parse(t):hex.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rgba.transform(t):hsla.transform(t)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(floatRegex))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(colorRegex))===null||n===void 0?void 0:n.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(complexRegex,f=>(color.test(f)?(i.color.push(o),s.push(COLOR_TOKEN),n.push(color.parse(f))):f.startsWith(VAR_FUNCTION_TOKEN)?(i.var.push(o),s.push(VAR_TOKEN),n.push(f)):(i.number.push(o),s.push(NUMBER_TOKEN),n.push(parseFloat(f))),++o,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:n,split:c,indexes:i,types:s}}function parseComplexValue(t){return analyseComplexValue(t).values}function createTransformer(t){const{split:e,types:n}=analyseComplexValue(t),i=e.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=e[l],s[l]!==void 0){const c=n[l];c===NUMBER_TOKEN?o+=sanitize(s[l]):c===COLOR_TOKEN?o+=color.transform(s[l]):o+=s[l]}return o}}const convertNumbersToZero=t=>typeof t=="number"?0:t;function getAnimatableNone$1(t){const e=parseComplexValue(t);return createTransformer(t)(e.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(floatRegex)||[];if(!i)return t;const s=n.replace(i,"");let o=maxDefaults.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+s+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:t=>{const e=t.match(functionRegex);return e?e.map(applyDefaultFilter).join(" "):t}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=t=>defaultValueTypes[t];function getAnimatableNone(t,e){let n=getDefaultValueType(t);return n!==filter&&(n=complex),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(t,e,n){let i=0,s;for(;i<t.length&&!s;){const o=t[i];typeof o=="string"&&!invalidTemplates.has(o)&&analyseComplexValue(o).values.length&&(s=t[i]),i++}if(s&&n)for(const o of e)t[o]=getAnimatableNone(n,s)}const isNumOrPxType=t=>t===number||t===px,getPosFromMatrix=(t,e)=>parseFloat(t.split(", ")[e]),getTranslateFromMatrix=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return getPosFromMatrix(s[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?getPosFromMatrix(o[1],t):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(t=>!transformKeys.has(t));function removeNonTranslationalTransform(t){const e=[];return nonTranslationalTransformKeys.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const positionalValues={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const t=Array.from(toResolve).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=removeNonTranslationalTransform(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,l])=>{var c;(c=i.getValue(o))===null||c===void 0||c.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(t=>t.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(e,n,i,s,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=s==null?void 0:s.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),s&&l===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(t){const e=splitCSSVariableRegex.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function getVariableValue(t,e,n=1){const[i,s]=parseCSSVariable(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const l=o.trim();return isNumericalString(l)?parseFloat(l):l}return isCSSVariableToken(s)?getVariableValue(s,e,n+1):s}const testValueType=t=>e=>e.test(t),auto={test:t=>t==="auto",parse:t=>t},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=t=>dimensionValueTypes.find(testValueType(t));class DOMKeyframesResolver extends KeyframeResolver{constructor(e,n,i,s,o){super(e,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let h=e[f];if(typeof h=="string"&&(h=h.trim(),isCSSVariableToken(h))){const p=getVariableValue(h,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(i)||e.length!==2)return;const[s,o]=e,l=findDimensionValueType(s),c=findDimensionValueType(o);if(l!==c)if(isNumOrPxType(l)&&isNumOrPxType(c))for(let f=0;f<e.length;f++){const h=e[f];typeof h=="string"&&(e[f]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)isNone(e[s])&&i.push(s);i.length&&makeNoneKeyframesAnimatable(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(i);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=positionalValues[i](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,h])=>{n.getValue(f).set(h)}),this.resolveNoneKeyframes()}}const isAnimatable=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(complex.test(t)||t==="0")&&!t.startsWith("url("));function hasKeyframesChanged(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function canAnimate(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=isAnimatable(s,e),c=isAnimatable(o,e);return!l||!c?!1:hasKeyframesChanged(t)||(n==="spring"||isGenerator(n))&&i}const isNotNull=t=>t!==null;function getFinalKeyframe(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(isNotNull),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||i===void 0?s[o]:i}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:o,delay:l,onComplete:c,onUpdate:f,isGenerator:h}=this.options;if(!h&&!canAnimate(e,i,s,o))if(l)this.options.duration=0;else{f&&f(getFinalKeyframe(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,n);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const mixNumber$1=(t,e,n)=>t+(e-t)*n;function hueToRgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hslaToRgba({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,f=2*n-c;s=hueToRgb(f,c,t+1/3),o=hueToRgb(f,c,t),l=hueToRgb(f,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function mixImmediate(t,e){return n=>n>0?e:t}const mixLinearColor=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},colorTypes=[hex,rgba,hsla],getColorType=t=>colorTypes.find(e=>e.test(t));function asRGBA(t){const e=getColorType(t);if(!e)return!1;let n=e.parse(t);return e===hsla&&(n=hslaToRgba(n)),n}const mixColor=(t,e)=>{const n=asRGBA(t),i=asRGBA(e);if(!n||!i)return mixImmediate(t,e);const s={...n};return o=>(s.red=mixLinearColor(n.red,i.red,o),s.green=mixLinearColor(n.green,i.green,o),s.blue=mixLinearColor(n.blue,i.blue,o),s.alpha=mixNumber$1(n.alpha,i.alpha,o),rgba.transform(s))},combineFunctions=(t,e)=>n=>e(t(n)),pipe=(...t)=>t.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(t,e){return invisibleValues.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function mixNumber(t,e){return n=>mixNumber$1(t,e,n)}function getMixer(t){return typeof t=="number"?mixNumber:typeof t=="string"?isCSSVariableToken(t)?mixImmediate:color.test(t)?mixColor:mixComplex:Array.isArray(t)?mixArray:typeof t=="object"?color.test(t)?mixColor:mixObject:mixImmediate}function mixArray(t,e){const n=[...t],i=n.length,s=t.map((o,l)=>getMixer(o)(o,e[l]));return o=>{for(let l=0;l<i;l++)n[l]=s[l](o);return n}}function mixObject(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=getMixer(t[s])(t[s],e[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function matchOrder(t,e){var n;const i=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=t.indexes[l][s[l]],f=(n=t.values[c])!==null&&n!==void 0?n:0;i[o]=f,s[l]++}return i}const mixComplex=(t,e)=>{const n=complex.createTransformer(e),i=analyseComplexValue(t),s=analyseComplexValue(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?invisibleValues.has(t)&&!s.values.length||invisibleValues.has(e)&&!i.values.length?mixVisibility(t,e):pipe(mixArray(matchOrder(i,s),s.values),n):mixImmediate(t,e)};function mix(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mixNumber$1(t,e,n):getMixer(t)(t,e)}const velocitySampleDuration=5;function calcGeneratorVelocity(t,e,n){const i=Math.max(e-velocitySampleDuration,0);return velocityPerSecond(n-t(i),e-i)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:t=springDefaults.duration,bounce:e=springDefaults.bounce,velocity:n=springDefaults.velocity,mass:i=springDefaults.mass}){let s,o,l=1-e;l=clamp(springDefaults.minDamping,springDefaults.maxDamping,l),t=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(t)),l<1?(s=h=>{const p=h*l,g=p*t,y=p-n,x=calcAngularFreq(h,l),S=Math.exp(-g);return safeMin-y/x*S},o=h=>{const g=h*l*t,y=g*n+n,x=Math.pow(l,2)*Math.pow(h,2)*t,S=Math.exp(-g),w=calcAngularFreq(Math.pow(h,2),l);return(-s(h)+safeMin>0?-1:1)*((y-x)*S)/w}):(s=h=>{const p=Math.exp(-h*t),g=(h-n)*t+1;return-.001+p*g},o=h=>{const p=Math.exp(-h*t),g=(n-h)*(t*t);return p*g});const c=5/t,f=approximateRoot(s,o,c);if(t=secondsToMilliseconds(t),isNaN(f))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:t};{const h=Math.pow(f,2)*i;return{stiffness:h,damping:l*2*Math.sqrt(i*h),duration:t}}}const rootIterations=12;function approximateRoot(t,e,n){let i=n;for(let s=1;s<rootIterations;s++)i=i-t(i)/e(i);return i}function calcAngularFreq(t,e){return t*Math.sqrt(1-e*e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(t,e){return e.some(n=>t[n]!==void 0)}function getSpringOptions(t){let e={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...t};if(!isSpringType(t,physicsKeys)&&isSpringType(t,durationKeys))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*clamp(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:springDefaults.mass,stiffness:s,damping:o}}else{const n=findSpring(t);e={...e,...n,mass:springDefaults.mass},e.isResolvedFromDuration=!0}return e}function spring(t=springDefaults.visualDuration,e=springDefaults.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:f,damping:h,mass:p,duration:g,velocity:y,isResolvedFromDuration:x}=getSpringOptions({...n,velocity:-millisecondsToSeconds(n.velocity||0)}),S=y||0,w=h/(2*Math.sqrt(f*p)),v=l-o,b=millisecondsToSeconds(Math.sqrt(f/p)),_=Math.abs(v)<5;i||(i=_?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),s||(s=_?springDefaults.restDelta.granular:springDefaults.restDelta.default);let E;if(w<1){const T=calcAngularFreq(b,w);E=L=>{const F=Math.exp(-w*b*L);return l-F*((S+w*b*v)/T*Math.sin(T*L)+v*Math.cos(T*L))}}else if(w===1)E=T=>l-Math.exp(-b*T)*(v+(S+b*v)*T);else{const T=b*Math.sqrt(w*w-1);E=L=>{const F=Math.exp(-w*b*L),C=Math.min(T*L,300);return l-F*((S+w*b*v)*Math.sinh(C)+T*v*Math.cosh(C))/T}}const k={calculatedDuration:x&&g||null,next:T=>{const L=E(T);if(x)c.done=T>=g;else{let F=0;w<1&&(F=T===0?secondsToMilliseconds(S):calcGeneratorVelocity(E,T,L));const C=Math.abs(F)<=i,O=Math.abs(l-L)<=s;c.done=C&&O}return c.value=c.done?l:L,c},toString:()=>{const T=Math.min(calcGeneratorDuration(k),maxGeneratorDuration),L=generateLinearEasing(F=>k.next(T*F).value,T,30);return T+"ms "+L}};return k}function inertia({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:f,restDelta:h=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},x=C=>c!==void 0&&C<c||f!==void 0&&C>f,S=C=>c===void 0?f:f===void 0||Math.abs(c-C)<Math.abs(f-C)?c:f;let w=n*e;const v=g+w,b=l===void 0?v:l(v);b!==v&&(w=b-g);const _=C=>-w*Math.exp(-C/i),E=C=>b+_(C),k=C=>{const O=_(C),P=E(C);y.done=Math.abs(O)<=h,y.value=y.done?b:P};let T,L;const F=C=>{x(y.value)&&(T=C,L=spring({keyframes:[y.value,S(y.value)],velocity:calcGeneratorVelocity(E,C,y.value),damping:s,stiffness:o,restDelta:h,restSpeed:p}))};return F(0),{calculatedDuration:null,next:C=>{let O=!1;return!L&&T===void 0&&(O=!0,k(C),F(C)),T!==void 0&&C>=T?L.next(C-T):(!O&&k(C),y)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=t=>Array.isArray(t)&&typeof t[0]!="number",easingLookup={linear:noop$1,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=t=>{if(isBezierDefinition(t)){invariant(t.length===4);const[e,n,i,s]=t;return cubicBezier(e,n,i,s)}else if(typeof t=="string")return invariant(easingLookup[t]!==void 0),easingLookup[t];return t};function createMixers(t,e,n){const i=[],s=n||mix,o=t.length-1;for(let l=0;l<o;l++){let c=s(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||noop$1:e;c=pipe(f,c)}i.push(c)}return i}function interpolate(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const o=t.length;if(invariant(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=createMixers(e,i,s),f=c.length,h=p=>{if(l&&p<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=progress(t[g],t[g+1],p);return c[g](y)};return n?p=>h(clamp(t[0],t[o-1],p)):h}function fillOffset(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=progress(0,e,i);t.push(mixNumber$1(n,1,s))}}function defaultOffset(t){const e=[0];return fillOffset(e,t.length-1),e}function convertOffsetToTimes(t,e){return t.map(n=>n*e)}function defaultEasing(t,e){return t.map(()=>e||easeInOut).splice(0,t.length-1)}function keyframes({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=isEasingArray(i)?i.map(easingDefinitionToFunction):easingDefinitionToFunction(i),o={done:!1,value:e[0]},l=convertOffsetToTimes(n&&n.length===e.length?n:defaultOffset(e),t),c=interpolate(l,e,{ease:Array.isArray(s)?s:defaultEasing(e,s)});return{calculatedDuration:t,next:f=>(o.value=c(f),o.done=f>=t,o)}}const frameloopDriver=t=>{const e=({timestamp:n})=>t(n);return{start:()=>frame.update(e,!0),stop:()=>cancelFrame(e),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=t=>t/100;class MainThreadAnimation extends BaseAnimation{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:s,keyframes:o}=this.options,l=(s==null?void 0:s.KeyframeResolver)||KeyframeResolver,c=(f,h)=>this.onKeyframesResolved(f,h);this.resolver=new l(o,c,n,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=this.options,c=isGenerator(n)?n:generators[n]||keyframes;let f,h;c!==keyframes&&typeof e[0]!="number"&&(f=pipe(percentToProgress,mix(e[0],e[1])),e=[0,100]);const p=c({...this.options,keyframes:e});o==="mirror"&&(h=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=calcGeneratorDuration(p));const{calculatedDuration:g}=p,y=g+s,x=y*(i+1)-s;return{generator:p,mirroredGenerator:h,mapPercentToKeyframes:f,calculatedDuration:g,resolvedDuration:y,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:f,calculatedDuration:h,totalDuration:p,resolvedDuration:g}=i;if(this.startTime===null)return o.next(0);const{delay:y,repeat:x,repeatType:S,repeatDelay:w,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-y*(this.speed>=0?1:-1),_=this.speed>=0?b<0:b>p;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let E=this.currentTime,k=o;if(x){const C=Math.min(this.currentTime,p)/g;let O=Math.floor(C),P=C%1;!P&&C>=1&&(P=1),P===1&&O--,O=Math.min(O,x+1),!!(O%2)&&(S==="reverse"?(P=1-P,w&&(P-=w/g)):S==="mirror"&&(k=l)),E=clamp(0,1,P)*g}const T=_?{done:!1,value:f[0]}:k.next(E);c&&(T.value=c(T.value));let{done:L}=T;!_&&h!==null&&(L=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return F&&s!==void 0&&(T.value=getFinalKeyframe(f,this.options,s)),v&&v(T.value),F&&this.finish(),T}get duration(){const{resolved:e}=this;return e?millisecondsToSeconds(e.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(e){e=secondsToMilliseconds(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=frameloopDriver,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(t,e,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:c="easeInOut",times:f}={}){const h={[e]:n};f&&(h.offset=f);const p=mapEasingToNativeEasing(c,s);return Array.isArray(p)&&(h.easing=p),t.animate(h,{delay:i,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(t){return isGenerator(t.type)||t.type==="spring"||!isWaapiSupportedEasing(t.ease)}function pregenerateKeyframes(t,e){const n=new MainThreadAnimation({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const s=[];let o=0;for(;!i.done&&o<maxDuration;)i=n.sample(o),s.push(i.value),o+=sampleDelta;return{times:void 0,keyframes:s,duration:o-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(t){return t in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(e){super(e);const{name:n,motionValue:i,element:s,keyframes:o}=this.options;this.resolver=new DOMKeyframesResolver(o,(l,c)=>this.onKeyframesResolved(l,c),n,i,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:s,ease:o,type:l,motionValue:c,name:f,startTime:h}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof o=="string"&&supportsLinearEasing()&&isUnsupportedEase(o)&&(o=unsupportedEasingFunctions[o]),requiresPregeneratedKeyframes(this.options)){const{onComplete:g,onUpdate:y,motionValue:x,element:S,...w}=this.options,v=pregenerateKeyframes(e,w);e=v.keyframes,e.length===1&&(e[1]=e[0]),i=v.duration,s=v.times,o=v.ease,l="keyframes"}const p=startWaapiAnimation(c.owner.current,f,e,{...this.options,duration:i,times:s,ease:o});return p.startTime=h??this.calcStartTime(),this.pendingTimeline?(attachTimeline(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:g}=this.options;c.set(getFinalKeyframe(e,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:i,times:s,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return millisecondsToSeconds(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return millisecondsToSeconds(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=secondsToMilliseconds(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return noop$1;const{animation:i}=n;attachTimeline(i,e)}return noop$1}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:s,type:o,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:p,onComplete:g,element:y,...x}=this.options,S=new MainThreadAnimation({...x,keyframes:i,duration:s,type:o,ease:l,times:c,isGenerator:!0}),w=secondsToMilliseconds(this.time);h.setWithVelocity(S.sample(w-sampleDelta).value,S.sample(w).value,sampleDelta)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:s,repeatType:o,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=n.owner.getProps();return supportsWaapi()&&i&&acceleratedValues.has(i)&&!f&&!h&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(t,{keyframes:e})=>e.length>2?keyframesTransition:transformProps.has(t)?t.startsWith("scale")?criticallyDampedSpring(e[1]):underDampedSpring:ease;function isTransitionDefined({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:f,elapsed:h,...p}){return!!Object.keys(p).length}const animateMotionValue=(t,e,n,i={},s,o)=>l=>{const c=getValueTransition(i,t)||{},f=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-secondsToMilliseconds(f);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:s};isTransitionDefined(c)||(p={...p,...getDefaultTransition(t,p)}),p.duration&&(p.duration=secondsToMilliseconds(p.duration)),p.repeatDelay&&(p.repeatDelay=secondsToMilliseconds(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),g&&!o&&e.get()!==void 0){const y=getFinalKeyframe(p.keyframes,c);if(y!==void 0)return frame.update(()=>{p.onUpdate(y),p.onComplete()}),new GroupPlaybackControls([])}return!o&&AcceleratedAnimation.supports(p)?new AcceleratedAnimation(p):new MainThreadAnimation(p)};function shouldBlockAnimation({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function animateTarget(t,e,{delay:n=0,transitionOverride:i,type:s}={}){var o;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;i&&(l=i);const h=[],p=s&&t.animationState&&t.animationState.getState()[s];for(const g in f){const y=t.getValue(g,(o=t.latestValues[g])!==null&&o!==void 0?o:null),x=f[g];if(x===void 0||p&&shouldBlockAnimation(p,g))continue;const S={delay:n,...getValueTransition(l||{},g)};let w=!1;if(window.MotionHandoffAnimation){const b=getOptimisedAppearId(t);if(b){const _=window.MotionHandoffAnimation(b,g,frame);_!==null&&(S.startTime=_,w=!0)}}addValueToWillChange(t,g),y.start(animateMotionValue(g,y,x,t.shouldReduceMotion&&positionalKeys.has(g)?{type:!1}:S,t,w));const v=y.animation;v&&h.push(v)}return c&&Promise.all(h).then(()=>{frame.update(()=>{c&&setTarget(t,c)})}),h}function animateVariant(t,e,n={}){var i;const s=resolveVariant(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(animateTarget(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=o;return animateChildren(t,e,p+h,g,y,n)}:()=>Promise.resolve(),{when:f}=o;if(f){const[h,p]=f==="beforeChildren"?[l,c]:[c,l];return h().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function animateChildren(t,e,n=0,i=0,s=1,o){const l=[],c=(t.variantChildren.size-1)*i,f=s===1?(h=0)=>h*i:(h=0)=>c-h*i;return Array.from(t.variantChildren).sort(sortByTreeOrder).forEach((h,p)=>{h.notify("AnimationStart",e),l.push(animateVariant(h,e,{...o,delay:n+f(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function sortByTreeOrder(t,e){return t.sortNodePosition(e)}function animateVisualElement(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>animateVariant(t,o,n));i=Promise.all(s)}else if(typeof e=="string")i=animateVariant(t,e,n);else{const s=typeof e=="function"?resolveVariant(t,e,n.custom):e;i=Promise.all(animateTarget(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function shallowCompare(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?getVariantContext(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<numVariantProps;n++){const i=variantProps[n],s=t.props[i];(isVariantLabel(s)||s===!1)&&(e[i]=s)}return e}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(t){return e=>Promise.all(e.map(({animation:n,options:i})=>animateVisualElement(t,n,i)))}function createAnimationState(t){let e=animateList(t),n=createState(),i=!0;const s=f=>(h,p)=>{var g;const y=resolveVariant(t,p,f==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(y){const{transition:x,transitionEnd:S,...w}=y;h={...h,...w,...S}}return h};function o(f){e=f(t)}function l(f){const{props:h}=t,p=getVariantContext(t.parent)||{},g=[],y=new Set;let x={},S=1/0;for(let v=0;v<numAnimationTypes;v++){const b=reversePriorityOrder[v],_=n[b],E=h[b]!==void 0?h[b]:p[b],k=isVariantLabel(E),T=b===f?_.isActive:null;T===!1&&(S=v);let L=E===p[b]&&E!==h[b]&&k;if(L&&i&&t.manuallyAnimateOnMount&&(L=!1),_.protectedKeys={...x},!_.isActive&&T===null||!E&&!_.prevProp||isAnimationControls(E)||typeof E=="boolean")continue;const F=checkVariantsDidChange(_.prevProp,E);let C=F||b===f&&_.isActive&&!L&&k||v>S&&k,O=!1;const P=Array.isArray(E)?E:[E];let G=P.reduce(s(b),{});T===!1&&(G={});const{prevResolvedValues:W={}}=_,J={...W,...G},ne=re=>{C=!0,y.has(re)&&(O=!0,y.delete(re)),_.needsAnimating[re]=!0;const ee=t.getValue(re);ee&&(ee.liveStyle=!1)};for(const re in J){const ee=G[re],be=W[re];if(x.hasOwnProperty(re))continue;let ke=!1;isKeyframesTarget(ee)&&isKeyframesTarget(be)?ke=!shallowCompare(ee,be):ke=ee!==be,ke?ee!=null?ne(re):y.add(re):ee!==void 0&&y.has(re)?ne(re):_.protectedKeys[re]=!0}_.prevProp=E,_.prevResolvedValues=G,_.isActive&&(x={...x,...G}),i&&t.blockInitialAnimation&&(C=!1),C&&(!(L&&F)||O)&&g.push(...P.map(re=>({animation:re,options:{type:b}})))}if(y.size){const v={};if(typeof h.initial!="boolean"){const b=resolveVariant(t,Array.isArray(h.initial)?h.initial[0]:h.initial);b&&b.transition&&(v.transition=b.transition)}y.forEach(b=>{const _=t.getBaseTarget(b),E=t.getValue(b);E&&(E.liveStyle=!0),v[b]=_??null}),g.push({animation:v})}let w=!!g.length;return i&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(g):Promise.resolve()}function c(f,h){var p;if(n[f].isActive===h)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(y=>{var x;return(x=y.animationState)===null||x===void 0?void 0:x.setActive(f,h)}),n[f].isActive=h;const g=l(f);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=createState(),i=!0}}}function checkVariantsDidChange(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!shallowCompare(e,t):!1}function createTypeState(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AnimationFeature extends Feature{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();isAnimationControls(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function extractEventInfo(t){return{point:{x:t.pageX,y:t.pageY}}}const addPointerInfo=t=>e=>isPrimaryPointer(e)&&t(e,extractEventInfo(e));function addPointerEvent(t,e,n,i){return addDomEvent(t,e,addPointerInfo(n),i)}const distance=(t,e)=>Math.abs(t-e);function distance2D(t,e){const n=distance(t.x,e.x),i=distance(t.y,e.y);return Math.sqrt(n**2+i**2)}class PanSession{constructor(e,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=getPanInfo(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=distance2D(g.offset,{x:0,y:0})>=3;if(!y&&!x)return;const{point:S}=g,{timestamp:w}=frameData;this.history.push({...S,timestamp:w});const{onStart:v,onMove:b}=this.handlers;y||(v&&v(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=transformPoint(y,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=getPanInfo(g.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,v),S&&S(g,v)},!isPrimaryPointer(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const l=extractEventInfo(e),c=transformPoint(l,this.transformPagePoint),{point:f}=c,{timestamp:h}=frameData;this.history=[{...f,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,getPanInfo(c,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(t,e){return e?{point:e(t.point)}:t}function subtractPoint(t,e){return{x:t.x-e.x,y:t.y-e.y}}function getPanInfo({point:t},e){return{point:t,delta:subtractPoint(t,lastDevicePoint(e)),offset:subtractPoint(t,startDevicePoint(e)),velocity:getVelocity(e,.1)}}function startDevicePoint(t){return t[0]}function lastDevicePoint(t){return t[t.length-1]}function getVelocity(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=lastDevicePoint(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>secondsToMilliseconds(e)));)n--;if(!i)return{x:0,y:0};const o=millisecondsToSeconds(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(t){return t.max-t.min}function isNear(t,e,n){return Math.abs(t-e)<=n}function calcAxisDelta(t,e,n,i=.5){t.origin=i,t.originPoint=mixNumber$1(e.min,e.max,t.origin),t.scale=calcLength(n)/calcLength(e),t.translate=mixNumber$1(n.min,n.max,t.origin)-t.originPoint,(t.scale>=SCALE_MIN&&t.scale<=SCALE_MAX||isNaN(t.scale))&&(t.scale=1),(t.translate>=TRANSLATE_MIN&&t.translate<=TRANSLATE_MAX||isNaN(t.translate))&&(t.translate=0)}function calcBoxDelta(t,e,n,i){calcAxisDelta(t.x,e.x,n.x,i?i.originX:void 0),calcAxisDelta(t.y,e.y,n.y,i?i.originY:void 0)}function calcRelativeAxis(t,e,n){t.min=n.min+e.min,t.max=t.min+calcLength(e)}function calcRelativeBox(t,e,n){calcRelativeAxis(t.x,e.x,n.x),calcRelativeAxis(t.y,e.y,n.y)}function calcRelativeAxisPosition(t,e,n){t.min=e.min-n.min,t.max=t.min+calcLength(e)}function calcRelativePosition(t,e,n){calcRelativeAxisPosition(t.x,e.x,n.x),calcRelativeAxisPosition(t.y,e.y,n.y)}function applyConstraints(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?mixNumber$1(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?mixNumber$1(n,t,i.max):Math.min(t,n)),t}function calcRelativeAxisConstraints(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function calcRelativeConstraints(t,{top:e,left:n,bottom:i,right:s}){return{x:calcRelativeAxisConstraints(t.x,n,s),y:calcRelativeAxisConstraints(t.y,e,i)}}function calcViewportAxisConstraints(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function calcViewportConstraints(t,e){return{x:calcViewportAxisConstraints(t.x,e.x),y:calcViewportAxisConstraints(t.y,e.y)}}function calcOrigin(t,e){let n=.5;const i=calcLength(t),s=calcLength(e);return s>i?n=progress(e.min,e.max-i,t.min):i>s&&(n=progress(t.min,t.max-s,e.min)),clamp(0,1,n)}function rebaseAxisConstraints(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const defaultElastic=.35;function resolveDragElastic(t=defaultElastic){return t===!1?t=0:t===!0&&(t=defaultElastic),{x:resolveAxisElastic(t,"left","right"),y:resolveAxisElastic(t,"top","bottom")}}function resolveAxisElastic(t,e,n){return{min:resolvePointElastic(t,e),max:resolvePointElastic(t,n)}}function resolvePointElastic(t,e){return typeof t=="number"?t:t[e]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(t){return[t("x"),t("y")]}function convertBoundingBoxToBox({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function convertBoxToBoundingBox({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function transformBoxPoints(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function isIdentityScale(t){return t===void 0||t===1}function hasScale({scale:t,scaleX:e,scaleY:n}){return!isIdentityScale(t)||!isIdentityScale(e)||!isIdentityScale(n)}function hasTransform(t){return hasScale(t)||has2DTranslate(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function has2DTranslate(t){return is2DTranslate(t.x)||is2DTranslate(t.y)}function is2DTranslate(t){return t&&t!=="0%"}function scalePoint(t,e,n){const i=t-n,s=e*i;return n+s}function applyPointDelta(t,e,n,i,s){return s!==void 0&&(t=scalePoint(t,s,i)),scalePoint(t,n,i)+e}function applyAxisDelta(t,e=0,n=1,i,s){t.min=applyPointDelta(t.min,e,n,i,s),t.max=applyPointDelta(t.max,e,n,i,s)}function applyBoxDelta(t,{x:e,y:n}){applyAxisDelta(t.x,e.translate,e.scale,e.originPoint),applyAxisDelta(t.y,n.translate,n.scale,n.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let c=0;c<s;c++){o=n[c],l=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&transformBox(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,applyBoxDelta(t,l)),i&&hasTransform(o.latestValues)&&transformBox(t,o.latestValues))}e.x<TREE_SCALE_SNAP_MAX&&e.x>TREE_SCALE_SNAP_MIN&&(e.x=1),e.y<TREE_SCALE_SNAP_MAX&&e.y>TREE_SCALE_SNAP_MIN&&(e.y=1)}function translateAxis(t,e){t.min=t.min+e,t.max=t.max+e}function transformAxis(t,e,n,i,s=.5){const o=mixNumber$1(t.min,t.max,s);applyAxisDelta(t,e,n,o,i)}function transformBox(t,e){transformAxis(t.x,e.x,e.scaleX,e.scale,e.originX),transformAxis(t.y,e.y,e.scaleY,e.scale,e.originY)}function measureViewportBox(t,e){return convertBoundingBoxToBox(transformBoxPoints(t.getBoundingClientRect(),e))}function measurePageBox(t,e,n){const i=measureViewportBox(t,n),{scroll:s}=e;return s&&(translateAxis(i.x,s.offset.x),translateAxis(i.y,s.offset.y)),i}const getContextWindow=({current:t})=>t?t.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(extractEventInfo(p).point)},o=(p,g)=>{const{drag:y,dragPropagation:x,onDragStart:S}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(v=>{let b=this.getAxisMotionValue(v).get()||0;if(percent.test(b)){const{projection:_}=this.visualElement;if(_&&_.layout){const E=_.layout.layoutBox[v];E&&(b=calcLength(E)*(parseFloat(b)/100))}}this.originPoint[v]=b}),S&&frame.postRender(()=>S(p,g)),addValueToWillChange(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(p,g)=>{const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:S,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:v}=g;if(x&&this.currentDirection===null){this.currentDirection=getCurrentDirection(v),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,v),this.updateAxis("y",g.point,v),this.visualElement.render(),w&&w(p,g)},c=(p,g)=>this.stop(p,g),f=()=>eachAxis(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new PanSession(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:getContextWindow(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&frame.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!shouldDrag(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=applyConstraints(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&isRefObject(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=calcRelativeConstraints(s.layoutBox,n):this.constraints=!1,this.elastic=resolveDragElastic(i),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=rebaseAxisConstraints(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!isRefObject(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=measurePageBox(i,s.root,this.visualElement.getTransformPagePoint());let l=calcViewportConstraints(s.layout.layoutBox,o);if(n){const c=n(convertBoxToBoundingBox(l));this.hasMutatedConstraints=!!c,c&&(l=convertBoundingBoxToBox(c))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},h=eachAxis(p=>{if(!shouldDrag(p,n,this.currentDirection))return;let g=f[p]||{};l&&(g={min:0,max:0});const y=s?200:1e6,x=s?40:1e7,S={type:"inertia",velocity:i?e[p]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return addValueToWillChange(this.visualElement,e),i.start(animateMotionValue(e,i,0,n,this.visualElement,!1))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eachAxis(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(n=>{const{drag:i}=this.getProps();if(!shouldDrag(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];o.set(e[n]-mixNumber$1(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!isRefObject(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};eachAxis(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const f=c.get();s[l]=calcOrigin({min:f,max:f},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),eachAxis(l=>{if(!shouldDrag(l,e,null))return;const c=this.getAxisMotionValue(l),{min:f,max:h}=this.constraints[l];c.set(mixNumber$1(f,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const e=this.visualElement.current,n=addPointerEvent(e,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();isRefObject(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),frame.read(i);const l=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(eachAxis(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=defaultElastic,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function shouldDrag(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function getCurrentDirection(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DragGesture extends Feature{constructor(e){super(e),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=t=>(e,n)=>{t&&frame.postRender(()=>t(e,n))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(n),onMove:i,onEnd:(o,l)=>{delete this.session,s&&frame.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const correctBorderRadius={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(px.test(t))t=parseFloat(t);else return t;const n=pixelsToPercent(t,e.target.x),i=pixelsToPercent(t,e.target.y);return`${n}% ${i}%`}},correctBoxShadow={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=complex.parse(t);if(s.length>5)return i;const o=complex.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,f=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=f;const h=mixNumber$1(c,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),o(s)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;addScaleCorrector(defaultScaleCorrectors),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,l=i.projection;return l&&(l.isPresent=o,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||frame.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),microtask.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(t){const[e,n]=usePresence(),i=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...t,layoutGroup:i,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:e,safeToRemove:n})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(t,e,n){const i=isMotionValue(t)?t:motionValue(t);return i.start(animateMotionValue("",i,e,n)),i.animation}function isSVGElement(t){return t instanceof SVGElement&&t.tagName!=="svg"}const compareByDepth=(t,e)=>t.depth-e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}function delay(t,e){const n=time.now(),i=({timestamp:s})=>{const o=s-n;o>=e&&(cancelFrame(i),t(o-e))};return frame.read(i,!0),()=>cancelFrame(i)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=t=>typeof t=="string"?parseFloat(t):t,isPx=t=>typeof t=="number"||px.test(t);function mixValues(t,e,n,i,s,o){s?(t.opacity=mixNumber$1(0,n.opacity!==void 0?n.opacity:1,easeCrossfadeIn(i)),t.opacityExit=mixNumber$1(e.opacity!==void 0?e.opacity:1,0,easeCrossfadeOut(i))):o&&(t.opacity=mixNumber$1(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let l=0;l<numBorders;l++){const c=`border${borders[l]}Radius`;let f=getRadius(e,c),h=getRadius(n,c);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||isPx(f)===isPx(h)?(t[c]=Math.max(mixNumber$1(asNumber(f),asNumber(h),i),0),(percent.test(h)||percent.test(f))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=mixNumber$1(e.rotate||0,n.rotate||0,i))}function getRadius(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$1);function compress(t,e,n){return i=>i<t?0:i>e?1:n(progress(t,e,i))}function copyAxisInto(t,e){t.min=e.min,t.max=e.max}function copyBoxInto(t,e){copyAxisInto(t.x,e.x),copyAxisInto(t.y,e.y)}function copyAxisDeltaInto(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function removePointDelta(t,e,n,i,s){return t-=e,t=scalePoint(t,1/n,i),s!==void 0&&(t=scalePoint(t,1/s,i)),t}function removeAxisDelta(t,e=0,n=1,i=.5,s,o=t,l=t){if(percent.test(e)&&(e=parseFloat(e),e=mixNumber$1(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=mixNumber$1(o.min,o.max,i);t===o&&(c-=e),t.min=removePointDelta(t.min,e,n,c,s),t.max=removePointDelta(t.max,e,n,c,s)}function removeAxisTransforms(t,e,[n,i,s],o,l){removeAxisDelta(t,e[n],e[i],e[s],e.scale,o,l)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(t,e,n,i){removeAxisTransforms(t.x,e,xKeys,n?n.x:void 0,i?i.x:void 0),removeAxisTransforms(t.y,e,yKeys,n?n.y:void 0,i?i.y:void 0)}function isAxisDeltaZero(t){return t.translate===0&&t.scale===1}function isDeltaZero(t){return isAxisDeltaZero(t.x)&&isAxisDeltaZero(t.y)}function axisEquals(t,e){return t.min===e.min&&t.max===e.max}function boxEquals(t,e){return axisEquals(t.x,e.x)&&axisEquals(t.y,e.y)}function axisEqualsRounded(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function boxEqualsRounded(t,e){return axisEqualsRounded(t.x,e.x)&&axisEqualsRounded(t.y,e.y)}function aspectRatio(t){return calcLength(t.x)/calcLength(t.y)}function axisDeltaEquals(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(t,e,n){let i="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:y,skewX:x,skewY:S}=n;h&&(i=`perspective(${h}px) ${i}`),p&&(i+=`rotate(${p}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),x&&(i+=`skewX(${x}deg) `),S&&(i+=`skewY(${S}deg) `)}const c=t.x.scale*e.x,f=t.y.scale*e.y;return(c!==1||f!==1)&&(i+=`scale(${c}, ${f})`),i||"none"}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function cancelTreeOptimisedTransformAnimations(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=getOptimisedAppearId(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",frame,!(s||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(i)}function createProjectionNode({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new SubscriptionManager),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const f=this.eventHandlers.get(l);f&&f.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(l),this.instance=l;const{layoutId:f,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||f)&&(this.isLayoutDirty=!0),t){let g;const y=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=delay(y,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||p.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=p.getProps(),_=!this.targetLayout||!boxEqualsRounded(this.targetLayout,S),E=!y&&x;if(this.options.layoutRoot||this.resumeFrom||E||y&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,E);const k={...getValueTransition(w,"layout"),onPlay:v,onComplete:b};(p.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else y||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const c=time.now();frameData.delta=clamp(0,1e3/60,c-frameData.timestamp),frameData.timestamp=c,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!isDeltaZero(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&(c||hasTransform(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return l&&(f=this.removeTransform(f)),roundBox(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return createBox();const f=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:p}=this.root;p&&(translateAxis(f.x,p.offset.x),translateAxis(f.y,p.offset.y))}return f}removeElementScroll(l){var c;const f=createBox();if(copyBoxInto(f,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return f;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&copyBoxInto(f,l),translateAxis(f.x,g.offset.x),translateAxis(f.y,g.offset.y))}return f}applyTransform(l,c=!1){const f=createBox();copyBoxInto(f,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&transformBox(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),hasTransform(p.latestValues)&&transformBox(f,p.latestValues)}return hasTransform(this.latestValues)&&transformBox(f,this.latestValues),f}removeTransform(l){const c=createBox();copyBoxInto(c,l);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!hasTransform(h.latestValues))continue;hasScale(h.latestValues)&&h.updateSnapshot();const p=createBox(),g=h.measurePageBox();copyBoxInto(p,g),removeBoxTransforms(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return hasTransform(this.latestValues)&&removeBoxTransforms(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,x.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=createBox());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(l,c=!1){const f=this.snapshot,h=f?f.latestValues:{},p={...this.latestValues},g=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=createBox(),x=f?f.source:void 0,S=this.layout?this.layout.source:void 0,w=x!==S,v=this.getStack(),b=!v||v.members.length<=1,_=!!(w&&!b&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let E;this.mixTargetDelta=k=>{const T=k/1e3;mixAxisDelta(g.x,l.x,T),mixAxisDelta(g.y,l.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,y,T),E&&boxEquals(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=createBox()),copyBoxInto(E,this.relativeTarget)),w&&(this.animationValues=p,mixValues(p,h,this.latestValues,T,_,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:f,layout:h,latestValues:p}=l;if(!(!c||!f||!h)){if(this!==l&&this.layout&&h&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||createBox();const g=calcLength(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+g;const y=calcLength(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+y}copyBoxInto(c,f),transformBox(c,p),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new NodeStack),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const h={};f.z&&resetDistortingTransform("z",l,h,this.animationValues);for(let p=0;p<transformAxes.length;p++)resetDistortingTransform(`rotate${transformAxes[p]}`,l,h,this.animationValues),resetDistortingTransform(`skew${transformAxes[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){var c,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const h={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=resolveMotionValue(l==null?void 0:l.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=resolveMotionValue(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(w.transform=p?p({},""):"none",this.hasProjected=!1),w}const y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,y),p&&(h.transform=p(y,h.transform));const{x,y:S}=this.projectionDelta;h.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,g.animationValues?h.opacity=g===this?(f=(c=y.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:h.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in scaleCorrectors){if(y[w]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:_}=scaleCorrectors[w],E=h.transform==="none"?y[w]:v(y[w],g);if(b){const k=b.length;for(let T=0;T<k;T++)h[b[T]]=E}else _?this.options.visualElement.renderState.vars[w]=E:h[w]=E}return this.options.layoutId&&(h.pointerEvents=g===this?resolveMotionValue(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(t){t.updateLayout()}function notifyLayoutUpdate(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:o}=t.options,l=n.source!==t.layout.source;o==="size"?eachAxis(g=>{const y=l?n.measuredBox[g]:n.layoutBox[g],x=calcLength(y);y.min=i[g].min,y.max=y.min+x}):shouldAnimatePositionOnly(o,n.layoutBox,i)&&eachAxis(g=>{const y=l?n.measuredBox[g]:n.layoutBox[g],x=calcLength(i[g]);y.max=y.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const c=createDelta();calcBoxDelta(c,i,n.layoutBox);const f=createDelta();l?calcBoxDelta(f,t.applyTransform(s,!0),n.measuredBox):calcBoxDelta(f,i,n.layoutBox);const h=!isDeltaZero(c);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:x}=g;if(y&&x){const S=createBox();calcRelativePosition(S,n.layoutBox,y.layoutBox);const w=createBox();calcRelativePosition(w,i,x.layoutBox),boxEqualsRounded(S,w)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:f,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function propagateDirtyNodes(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cleanDirtyNodes(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function clearSnapshot(t){t.clearSnapshot()}function clearMeasurements(t){t.clearMeasurements()}function clearIsLayoutDirty(t){t.isLayoutDirty=!1}function resetTransformStyle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function finishAnimation(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function resolveTargetDelta(t){t.resolveTargetDelta()}function calcProjection(t){t.calcProjection()}function resetSkewAndRotation(t){t.resetSkewAndRotation()}function removeLeadSnapshots(t){t.removeLeadSnapshot()}function mixAxisDelta(t,e,n){t.translate=mixNumber$1(e.translate,0,n),t.scale=mixNumber$1(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mixAxis(t,e,n,i){t.min=mixNumber$1(e.min,n.min,i),t.max=mixNumber$1(e.max,n.max,i)}function mixBox(t,e,n,i){mixAxis(t.x,e.x,n.x,i),mixAxis(t.y,e.y,n.y,i)}function hasOpacityCrossfade(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(t){t.min=roundPoint(t.min),t.max=roundPoint(t.max)}function roundBox(t){roundAxis(t.x),roundAxis(t.y)}function shouldAnimatePositionOnly(t,e,n){return t==="position"||t==="preserve-aspect"&&!isNear(aspectRatio(e),aspectRatio(n),.2)}function checkNodeWasScrollRoot(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(t,e)=>addDomEvent(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const t=new DocumentProjectionNode({});t.mount(window),t.setOptions({layoutScroll:!0}),rootProjectionNode.current=t}return rootProjectionNode.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&frame.postRender(()=>o(e,extractEventInfo(e)))}class HoverGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=hover(e,(n,i)=>(handleHoverEvent(this.node,i,"Start"),s=>handleHoverEvent(this.node,s,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&frame.postRender(()=>o(e,extractEventInfo(e)))}class PressGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=press(e,(n,i)=>(handlePressEvent(this.node,i,"Start"),(s,{success:o})=>handlePressEvent(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=t=>{const e=observerCallbacks.get(t.target);e&&e(t)},fireAllObserverCallbacks=t=>{t.forEach(fireObserverCallback)};function initIntersectionObserver({root:t,...e}){const n=t||document;observers.has(n)||observers.set(n,{});const i=observers.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(fireAllObserverCallbacks,{root:t,...e})),i[s]}function observeIntersection(t,e,n){const i=initIntersectionObserver(e);return observerCallbacks.set(t,n),i.observe(t),()=>{observerCallbacks.delete(t),i.unobserve(t)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:thresholdNames[s]},c=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=h?p:g;y&&y(f)};return observeIntersection(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(e,n))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>prefersReducedMotion.current=t.matches;t.addListener(e),e()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=t=>valueTypes.find(testValueType(t)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(t,e,n){for(const i in e){const s=e[i],o=n[i];if(isMotionValue(s))t.addValue(i,s);else if(isMotionValue(o))t.addValue(i,motionValue(s,{owner:t}));else if(o!==s)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,motionValue(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=time.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,frame.render(this.render,!1,!0))};const{latestValues:f,renderState:h,onUpdate:p}=l;this.onUpdate=p,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=isControllingVariants(n),this.isVariantNode=isVariantNode(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in y){const S=y[x];f[x]!==void 0&&isMotionValue(S)&&S.set(f[x],!1)}}mount(e){this.current=e,visualElementStore.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=transformProps.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&frame.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in featureDefinitions){const n=featureDefinitions[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<propEventHandlers.length;i++){const s=propEventHandlers[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=motionValue(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(isNumericalString(s)||isZeroValueString(s))?s=parseFloat(s):!findValueType(s)&&complex.test(n)&&(s=getAnimatableNone(e,n)),this.setBaseTarget(e,isMotionValue(s)?s.get():s)),isMotionValue(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const l=resolveVariantFromProps(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(i&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!isMotionValue(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function getComputedStyle$1(t){return window.getComputedStyle(t)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(e,n){if(transformProps.has(n)){const i=getDefaultValueType(n);return i&&i.default||0}else{const i=getComputedStyle$1(e),s=(isCSSVariableName(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return measureViewportBox(e,n)}build(e,n,i){buildHTMLStyles(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return scrapeMotionValuesFromProps$1(e,n,i)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&updateSVGDimensions(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(transformProps.has(n)){const i=getDefaultValueType(n);return i&&i.default||0}return n=camelCaseAttributes.has(n)?n:camelToDash(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return scrapeMotionValuesFromProps(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&frame.postRender(this.updateDimensions)}build(e,n,i){buildSVGAttrs(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,s){renderSVG(e,n,i,s)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(t,e)=>isSVGComponent(t)?new SVGVisualElement(e):new HTMLVisualElement(e,{allowProjection:t!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent),PageNavigation=({currentPage:t,totalPages:e,onPageChange:n,textContentWidth:i,pageMode:s})=>{function o(){return(window.innerWidth-i)/2}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[t>0&&jsxRuntimeExports.jsx(motion.div,{style:{...styles$1.arrow,...styles$1.arrowLeft,width:o()},onClick:()=>n(t-(s==="single"?1:2)),whileHover:{opacity:.6},whileTap:{scale:.95},children:jsxRuntimeExports.jsx(ArrowBackIos,{sx:styles$1.icon})}),t<e-1&&jsxRuntimeExports.jsx(motion.div,{style:{...styles$1.arrow,...styles$1.arrowRight,width:o()},onClick:()=>n(t+(s==="single"?1:2)),whileHover:{opacity:.6},whileTap:{scale:.95},children:jsxRuntimeExports.jsx(ArrowForwardIos,{sx:styles$1.icon})})]})},styles$1={arrow:{position:"absolute",top:0,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:1e3,opacity:.2,backdropFilter:"blur(15px)",WebkitBackdropFilter:"blur(15px)",userSelect:"none"},arrowLeft:{left:0,borderRadius:"0 12px 12px 0"},arrowRight:{right:0,borderRadius:"12px 0 0 12px"},icon:{fontSize:"2rem",color:"rgba(0,0,0,0.8)"}},f12="_f12_6fs93_1",f14="_f14_6fs93_9",f16="_f16_6fs93_17",f18="_f18_6fs93_25",f20="_f20_6fs93_33",f22="_f22_6fs93_41",styles={f12,f14,f16,f18,f20,f22},FB2Parser=({width:t,height:e,file:n,fontSize:i,pageMode:s,setPages:o,onLoadPages:l,onLoadDescription:c,currentPage:f})=>{const h=reactExports.useRef(),p=reactExports.useRef(),[g,y]=reactExports.useState();reactExports.useState("f"+i);const x=(v,b)=>{var L,F,C,O,P,G,W,J,ne,we,me,re,ee,be,ke,z,j,U,Y;let _={};const E=v.querySelector("title-info");if(E){_.bookTitle=((L=E.querySelector("book-title"))==null?void 0:L.textContent)||"Untitled Book",_.genre=((F=E.querySelector("genre"))==null?void 0:F.textContent)||"Unknown Genre",_.language=((C=E.querySelector("lang"))==null?void 0:C.textContent)||"Unknown Language";const ce=E.querySelector("author");if(ce){const ye=((O=ce.querySelector("first-name"))==null?void 0:O.textContent)||"",Ae=((P=ce.querySelector("middle-name"))==null?void 0:P.textContent)||"",ot=((G=ce.querySelector("last-name"))==null?void 0:G.textContent)||"";_.author=`${ye} ${Ae} ${ot}`.trim()}const ge=E.querySelector("annotation");ge&&(_.annotation=Array.from(ge.querySelectorAll("p")).map(ye=>ye.textContent.trim()));const he=(J=(W=E.querySelector("coverpage image"))==null?void 0:W.getAttribute("l:href"))==null?void 0:J.replace("#","");_.coverImage=`data:${(ne=b[he])==null?void 0:ne.type};base64,${(we=b[he])==null?void 0:we.data}`}const k=v.querySelector("document-info");k&&(_.documentInfo={nickname:((me=k.querySelector("author nickname"))==null?void 0:me.textContent)||"Unknown",programUsed:((re=k.querySelector("program-used"))==null?void 0:re.textContent)||"Unknown",date:((ee=k.querySelector("date"))==null?void 0:ee.textContent)||"Unknown Date",version:((be=k.querySelector("version"))==null?void 0:be.textContent)||"Unknown Version",id:((ke=k.querySelector("id"))==null?void 0:ke.textContent)||"Unknown ID"});const T=v.querySelector("publish-info");return T&&(_.publishInfo={publisher:((z=T.querySelector("publisher"))==null?void 0:z.textContent)||"Unknown Publisher",city:((j=T.querySelector("city"))==null?void 0:j.textContent)||"Unknown City",year:((U=T.querySelector("year"))==null?void 0:U.textContent)||"Unknown Year",isbn:((Y=T.querySelector("isbn"))==null?void 0:Y.textContent)||"Unknown ISBN"}),console.log(_),_},S=async(v,b)=>{var W;const E=new DOMParser().parseFromString(v,"application/xml"),k=E.getElementsByTagName("parsererror");k.length>0&&console.log("  ",k);let T={};Array.from(E.querySelectorAll("binary")).forEach(J=>{const ne=J.getAttribute("id"),we=J.getAttribute("content-type"),me=J.textContent.replace(/\s+/g,"");T[ne]={type:we,data:me}});let L={};(W=E.querySelector('body[name="notes"]'))==null||W.childNodes.forEach(J=>{J.nodeType===Node.ELEMENT_NODE&&J.getAttribute("id")&&(L[J.getAttribute("id")]=jsxRuntimeExports.jsx("i",{children:J.textContent}))});const F=E.querySelector("description");let C=x(F,T);c(C);const O=J=>{const ne=Array.from(J.childNodes).map(P),we={genre:()=>{},"first-name":()=>{},"middle-name":()=>{},"last-name":()=>{},author:()=>{},annotation:()=>{},date:()=>{},coverpage:()=>{},lang:()=>{},"title-info":()=>{},nickname:()=>{},"program-used":()=>{},"src-ocr":()=>{},id:()=>{},version:()=>{},"document-info":()=>{},publisher:()=>{},city:()=>{},year:()=>{},isbn:()=>{},"publish-info":()=>{},description:()=>{},"book-title":()=>{},epigraph:()=>jsxRuntimeExports.jsx("div",{className:"epigraph",children:ne}),p:()=>jsxRuntimeExports.jsx("div",{className:`justify-text ${styles["f"+b]}`,children:ne}),title:()=>jsxRuntimeExports.jsx(Typography,{variant:"h3",children:ne}),subtitle:()=>jsxRuntimeExports.jsx(Typography,{variant:"h4",children:ne}),strong:()=>jsxRuntimeExports.jsxs("strong",{children:[" ",ne," "]}),a:()=>{var re;const me=(re=J.getAttribute("l:href"))==null?void 0:re.replace("#","");return J.getAttribute("type")==="note"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("a",{href:me,children:ne})," (",L[me],")"]}):jsxRuntimeExports.jsx("a",{href:J.getAttribute("l:href"),children:ne})},section:()=>jsxRuntimeExports.jsx("section",{children:ne}),cite:()=>jsxRuntimeExports.jsx("cite",{children:ne}),sup:()=>jsxRuntimeExports.jsx("sup",{children:ne}),sub:()=>jsxRuntimeExports.jsx("sub",{children:ne}),emphasis:()=>jsxRuntimeExports.jsx("em",{children:ne}),"empty-line":()=>jsxRuntimeExports.jsx("div",{style:{height:"16px"}}),body:()=>jsxRuntimeExports.jsx("div",{className:"container",children:ne}),binary:()=>{},image:()=>{var re;const me=(re=J.getAttribute("l:href"))==null?void 0:re.replace("#","");if(me&&T[me]){const ee=`data:${T[me].type};base64,${T[me].data}`;return jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[" ",jsxRuntimeExports.jsx("img",{style:{maxHeight:"80%",maxWidth:"80%"},src:ee,alt:""})]})}return null}};return we[J.nodeName]?we[J.nodeName]():(console.log(` : <${J.nodeName}>`),J.attributes.length>0,jsxRuntimeExports.jsx("div",{className:"container",children:ne}))},P=J=>J.nodeType===Node.ELEMENT_NODE?O(J):J.nodeType===Node.TEXT_NODE&&J.nodeValue.trim()?J.parentNode.nodeName==="binary"?"":J.nodeValue.trim():null,G=P(E.documentElement);y(G),console.log("XML  !")};reactExports.useEffect(()=>{console.log("------------------------------------------------"),console.log(" "+t+"  "+e+" fontSize "+i+" pageMode "+s),S(n,i)},[n,t,e,i,s]);function w(v,b){const _=p.current;if(!_)return console.error("testContainerRef is not set to any element."),[v,"",0];function E(J){return _.firstElementChild.innerHTML=J,_.offsetHeight}function k(J){const ne=J.length,we=Math.ceil(ne/2),me=J.slice(0,we),re=J.slice(we);return[me,re]}function T(J,ne,we,me){let re=J,ee="",be="",ke=!1;for(let z=0;z<10||!ke;z++){const[j,U]=k(re);if(ne(ee+j)<=we-me?(ee+=j,re=U,ke=!0):(be=U+be,re=j,ke=!1),re.length<5)break}return be=re+be,[ee,be]}_.innerHTML=v;let L=0;const F=_.firstElementChild,C=F.cloneNode(!1),O=F.cloneNode(!1);let P=!1,G=Array.from(F.childNodes);for(let J=0;J<G.length;J++){const ne=G[J];let we=E(ne.nodeType===Node.TEXT_NODE?ne.textContent:ne.outerHTML);if(P){O.appendChild(ne);continue}if(we+L<b){L+=we,C.appendChild(ne);continue}if(ne.nodeType===Node.TEXT_NODE){const me=ne.textContent,[re,ee]=T(me,E,b,L);C.appendChild(document.createTextNode(re)),O.appendChild(document.createTextNode(ee))}else{const[me,re]=w(ne.outerHTML,b-L);C.appendChild(me),O.appendChild(re)}P=!0}const W=E(O.outerHTML);return[C,O,W]}return reactExports.useEffect(()=>{const v=h.current;if(v){const b=e;let _=0;const E=[];let k=[],T=null,L=0;const F=C=>{if(!C)return;T&&(k.push(T.outerHTML),_=L,T=null);const O=C.offsetHeight;if(C.nodeName==="SECTION")k.length>0&&(E.push(k),k=[],_=0),Array.from(C.children).forEach(P=>F(P));else if(C.className==="container"||C.className==="description")Array.from(C.children).forEach(P=>F(P));else if(C.className==="justify-text"&&_+O>b){let P=w(C.outerHTML,b-_);L=P[2],T=P[1],k.push(P[0].outerHTML),E.push(k),k=[],_=0}else _+O>b?(E.push(k),k=[],k.push(C.outerHTML),_=O):(_+=O,k.push(C.outerHTML))};Array.from(v.children).forEach(C=>F(C)),k.length>0&&E.push(k),console.log(`Total pages calculated: ${E.length}`),o(E),console.log(e),l(f,E.length)}},[g]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{style:{display:"flex"},children:jsxRuntimeExports.jsx("div",{ref:h,style:{width:t/(s==="single"?1:2),fontSize:`${i}px`,visibility:"hidden"},className:"container",children:g})}),jsxRuntimeExports.jsx("div",{ref:p,style:{width:t}})]})},FB2TitlePage=({book:t})=>jsxRuntimeExports.jsxs(Card,{sx:{maxWidth:500,margin:"auto",boxShadow:3,display:"flex",flexDirection:"column"},children:[t.coverImage&&jsxRuntimeExports.jsx(CardMedia,{component:"img",sx:{width:"100%",maxHeight:180,objectFit:"cover"},image:t.coverImage,alt:t.bookTitle}),jsxRuntimeExports.jsxs(CardContent,{sx:{padding:2,maxHeight:400,overflowY:"auto"},children:[t.bookTitle&&jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,children:t.bookTitle}),t.author&&jsxRuntimeExports.jsxs(Typography,{variant:"body2",color:"text.secondary",children:[jsxRuntimeExports.jsx("strong",{children:":"})," ",t.author]}),t.genre&&jsxRuntimeExports.jsxs(Typography,{variant:"body2",color:"text.secondary",children:[jsxRuntimeExports.jsx("strong",{children:":"})," ",t.genre]}),t.language&&jsxRuntimeExports.jsxs(Typography,{variant:"body2",color:"text.secondary",children:[jsxRuntimeExports.jsx("strong",{children:":"})," ",t.language]}),t.annotation&&t.annotation.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Divider,{sx:{my:1}}),t.annotation.map((e,n)=>jsxRuntimeExports.jsx(Typography,{variant:"body2",paragraph:!0,sx:{marginBottom:1},children:e},n)),jsxRuntimeExports.jsx(Divider,{sx:{my:1}})]}),t.publishInfo&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[t.publishInfo.publisher&&jsxRuntimeExports.jsxs(Typography,{variant:"body2",color:"text.secondary",children:[jsxRuntimeExports.jsx("strong",{children:":"})," ",t.publishInfo.publisher]}),t.publishInfo.city&&t.publishInfo.year&&jsxRuntimeExports.jsxs(Typography,{variant:"body2",color:"text.secondary",children:[t.publishInfo.city,", ",t.publishInfo.year]}),t.publishInfo.isbn&&jsxRuntimeExports.jsxs(Typography,{variant:"body2",color:"text.secondary",children:[jsxRuntimeExports.jsx("strong",{children:"ISBN:"})," ",t.publishInfo.isbn]})]})]})]}),FB2Reader=({file:t,fontSize:e,pageMode:n,height:i,width:s,onChangePage:o,lastPageNum:l=0,onLoadPages:c,book:f})=>{const[h,p]=reactExports.useState([]),[g,y]=reactExports.useState(l),[x,S]=reactExports.useState(!1),[w,v]=reactExports.useState({}),b=E=>{y(E),o&&o(E+1,h.length)};reactExports.useEffect(()=>{console.log(n)},[n]);const _=E=>{v(E)};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Button,{variant:"contained",onClick:()=>S(!0),sx:{marginBottom:2},children:""}),jsxRuntimeExports.jsx(PageNavigation,{currentPage:g,totalPages:h.length,onPageChange:b,pageMode:n,textContentWidth:s}),n==="double"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Grid2,{container:!0,spacing:2,children:[jsxRuntimeExports.jsx(Grid2,{item:!0,size:6,children:h[g]&&h[g].map((E,k)=>jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:E}},k))}),jsxRuntimeExports.jsx(Grid2,{item:!0,size:6,children:h[g+1]&&h[g+1].map((E,k)=>jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:E}},k))})]})}),n==="single"&&jsxRuntimeExports.jsx(Grid2,{container:!0,spacing:2,children:jsxRuntimeExports.jsx(Grid2,{item:!0,size:12,style:{scrollbarWidth:"none"},children:h[g]&&h[g].map((E,k)=>jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:E}},k))})}),jsxRuntimeExports.jsx(FB2Parser,{width:s,currentPage:g,pageMode:n,fontSize:e,height:i,onLoadDescription:_,setPages:p,onLoadPages:c,file:t}),jsxRuntimeExports.jsx(Modal,{open:x,onClose:()=>S(!1),"aria-labelledby":"book-details-modal",children:jsxRuntimeExports.jsxs(Box,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[jsxRuntimeExports.jsx(IconButton,{onClick:()=>S(!1),sx:{position:"absolute",top:8,right:8},children:jsxRuntimeExports.jsx(CloseIcon,{})}),jsxRuntimeExports.jsx(FB2TitlePage,{book:w})]})})]})};var lib={exports:{}},core_min={},pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(e,n){module.exports=n()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=z,e.bytesToString=K,e.createPromiseCapability=zt,e.createValidAbsoluteUrl=U,e.getModificationDate=nn,e.getVerbosityLevel=re,e.info=ee,e.isArrayBuffer=yt,e.isArrayEqual=Nt,e.objectFromMap=ve,e.objectSize=Z,e.setVerbosityLevel=me,e.shadow=Y,e.string32=ue,e.stringToBytes=ae,e.stringToPDFString=gt,e.stringToUTF8String=qe,e.unreachable=ke,e.utf8StringToString=dt,e.warn=be;const n=[1,0,0,1,0,0];e.IDENTITY_MATRIX=n;const i=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=i;const s=1.35;e.LINE_FACTOR=s;const o=.35;e.LINE_DESCENT_FACTOR=o;const l=o/s;e.BASELINE_FACTOR=l;const c={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=c;const f={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=f;const h="pdfjs_internal_editor_";e.AnnotationEditorPrefix=h;const p={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=p;const g={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=g;const y={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=y;const x={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=x;const S={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=S;const w={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=w;const v={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=v;const b={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=b;const _={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=_;const E={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=E;const k={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=k;const T={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=T;const L={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=L;const F={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=F;const C={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=C;const O={O:"PageOpen",C:"PageClose"};e.PageActionEventType=O;const P={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=P;const G={NONE:0,BINARY:1};e.CMapCompressionType=G;const W={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=W;const J={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};e.UNSUPPORTED_FEATURES=J;const ne={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=ne;let we=P.WARNINGS;function me(mt){Number.isInteger(mt)&&(we=mt)}function re(){return we}function ee(mt){we>=P.INFOS&&console.log(`Info: ${mt}`)}function be(mt){we>=P.WARNINGS&&console.log(`Warning: ${mt}`)}function ke(mt){throw new Error(mt)}function z(mt,Ue){mt||ke(Ue)}function j(mt){if(!mt)return!1;switch(mt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function U(mt,Ue=null,Me=null){if(!mt)return null;try{if(Me&&typeof mt=="string"){if(Me.addDefaultProtocol&&mt.startsWith("www.")){const cn=mt.match(/\./g);cn&&cn.length>=2&&(mt=`http://${mt}`)}if(Me.tryConvertEncoding)try{mt=qe(mt)}catch{}}const Mt=Ue?new URL(mt,Ue):new URL(mt);if(j(Mt))return Mt}catch{}return null}function Y(mt,Ue,Me,Mt=!1){return Object.defineProperty(mt,Ue,{value:Me,enumerable:!Mt,configurable:!0,writable:!1}),Me}const ce=function(){function Ue(Me,Mt){this.constructor===Ue&&ke("Cannot initialize BaseException."),this.message=Me,this.name=Mt}return Ue.prototype=new Error,Ue.constructor=Ue,Ue}();e.BaseException=ce;class ge extends ce{constructor(Ue,Me){super(Ue,"PasswordException"),this.code=Me}}e.PasswordException=ge;class he extends ce{constructor(Ue,Me){super(Ue,"UnknownErrorException"),this.details=Me}}e.UnknownErrorException=he;class ye extends ce{constructor(Ue){super(Ue,"InvalidPDFException")}}e.InvalidPDFException=ye;class Ae extends ce{constructor(Ue){super(Ue,"MissingPDFException")}}e.MissingPDFException=Ae;class ot extends ce{constructor(Ue,Me){super(Ue,"UnexpectedResponseException"),this.status=Me}}e.UnexpectedResponseException=ot;class Ie extends ce{constructor(Ue){super(Ue,"FormatError")}}e.FormatError=Ie;class V extends ce{constructor(Ue){super(Ue,"AbortException")}}e.AbortException=V;function K(mt){(typeof mt!="object"||mt===null||mt.length===void 0)&&ke("Invalid argument for bytesToString");const Ue=mt.length,Me=8192;if(Ue<Me)return String.fromCharCode.apply(null,mt);const Mt=[];for(let cn=0;cn<Ue;cn+=Me){const te=Math.min(cn+Me,Ue),vt=mt.subarray(cn,te);Mt.push(String.fromCharCode.apply(null,vt))}return Mt.join("")}function ae(mt){typeof mt!="string"&&ke("Invalid argument for stringToBytes");const Ue=mt.length,Me=new Uint8Array(Ue);for(let Mt=0;Mt<Ue;++Mt)Me[Mt]=mt.charCodeAt(Mt)&255;return Me}function ue(mt){return String.fromCharCode(mt>>24&255,mt>>16&255,mt>>8&255,mt&255)}function Z(mt){return Object.keys(mt).length}function ve(mt){const Ue=Object.create(null);for(const[Me,Mt]of mt)Ue[Me]=Mt;return Ue}function Pe(){const mt=new Uint8Array(4);return mt[0]=1,new Uint32Array(mt.buffer,0,1)[0]===1}function Fe(){try{return new Function(""),!0}catch{return!1}}class it{static get isLittleEndian(){return Y(this,"isLittleEndian",Pe())}static get isEvalSupported(){return Y(this,"isEvalSupported",Fe())}static get isOffscreenCanvasSupported(){return Y(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Y(this,"platform",{isWin:!1,isMac:!1}):Y(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}e.FeatureTest=it;const fe=[...Array(256).keys()].map(mt=>mt.toString(16).padStart(2,"0"));class xe{static makeHexColor(Ue,Me,Mt){return`#${fe[Ue]}${fe[Me]}${fe[Mt]}`}static scaleMinMax(Ue,Me){let Mt;Ue[0]?(Ue[0]<0&&(Mt=Me[0],Me[0]=Me[1],Me[1]=Mt),Me[0]*=Ue[0],Me[1]*=Ue[0],Ue[3]<0&&(Mt=Me[2],Me[2]=Me[3],Me[3]=Mt),Me[2]*=Ue[3],Me[3]*=Ue[3]):(Mt=Me[0],Me[0]=Me[2],Me[2]=Mt,Mt=Me[1],Me[1]=Me[3],Me[3]=Mt,Ue[1]<0&&(Mt=Me[2],Me[2]=Me[3],Me[3]=Mt),Me[2]*=Ue[1],Me[3]*=Ue[1],Ue[2]<0&&(Mt=Me[0],Me[0]=Me[1],Me[1]=Mt),Me[0]*=Ue[2],Me[1]*=Ue[2]),Me[0]+=Ue[4],Me[1]+=Ue[4],Me[2]+=Ue[5],Me[3]+=Ue[5]}static transform(Ue,Me){return[Ue[0]*Me[0]+Ue[2]*Me[1],Ue[1]*Me[0]+Ue[3]*Me[1],Ue[0]*Me[2]+Ue[2]*Me[3],Ue[1]*Me[2]+Ue[3]*Me[3],Ue[0]*Me[4]+Ue[2]*Me[5]+Ue[4],Ue[1]*Me[4]+Ue[3]*Me[5]+Ue[5]]}static applyTransform(Ue,Me){const Mt=Ue[0]*Me[0]+Ue[1]*Me[2]+Me[4],cn=Ue[0]*Me[1]+Ue[1]*Me[3]+Me[5];return[Mt,cn]}static applyInverseTransform(Ue,Me){const Mt=Me[0]*Me[3]-Me[1]*Me[2],cn=(Ue[0]*Me[3]-Ue[1]*Me[2]+Me[2]*Me[5]-Me[4]*Me[3])/Mt,te=(-Ue[0]*Me[1]+Ue[1]*Me[0]+Me[4]*Me[1]-Me[5]*Me[0])/Mt;return[cn,te]}static getAxialAlignedBoundingBox(Ue,Me){const Mt=xe.applyTransform(Ue,Me),cn=xe.applyTransform(Ue.slice(2,4),Me),te=xe.applyTransform([Ue[0],Ue[3]],Me),vt=xe.applyTransform([Ue[2],Ue[1]],Me);return[Math.min(Mt[0],cn[0],te[0],vt[0]),Math.min(Mt[1],cn[1],te[1],vt[1]),Math.max(Mt[0],cn[0],te[0],vt[0]),Math.max(Mt[1],cn[1],te[1],vt[1])]}static inverseTransform(Ue){const Me=Ue[0]*Ue[3]-Ue[1]*Ue[2];return[Ue[3]/Me,-Ue[1]/Me,-Ue[2]/Me,Ue[0]/Me,(Ue[2]*Ue[5]-Ue[4]*Ue[3])/Me,(Ue[4]*Ue[1]-Ue[5]*Ue[0])/Me]}static singularValueDecompose2dScale(Ue){const Me=[Ue[0],Ue[2],Ue[1],Ue[3]],Mt=Ue[0]*Me[0]+Ue[1]*Me[2],cn=Ue[0]*Me[1]+Ue[1]*Me[3],te=Ue[2]*Me[0]+Ue[3]*Me[2],vt=Ue[2]*Me[1]+Ue[3]*Me[3],It=(Mt+vt)/2,Dt=Math.sqrt((Mt+vt)**2-4*(Mt*vt-te*cn))/2,Ee=It+Dt||1,Et=It-Dt||1;return[Math.sqrt(Ee),Math.sqrt(Et)]}static normalizeRect(Ue){const Me=Ue.slice(0);return Ue[0]>Ue[2]&&(Me[0]=Ue[2],Me[2]=Ue[0]),Ue[1]>Ue[3]&&(Me[1]=Ue[3],Me[3]=Ue[1]),Me}static intersect(Ue,Me){const Mt=Math.max(Math.min(Ue[0],Ue[2]),Math.min(Me[0],Me[2])),cn=Math.min(Math.max(Ue[0],Ue[2]),Math.max(Me[0],Me[2]));if(Mt>cn)return null;const te=Math.max(Math.min(Ue[1],Ue[3]),Math.min(Me[1],Me[3])),vt=Math.min(Math.max(Ue[1],Ue[3]),Math.max(Me[1],Me[3]));return te>vt?null:[Mt,te,cn,vt]}static bezierBoundingBox(Ue,Me,Mt,cn,te,vt,It,Dt){const Ee=[],Et=[[],[]];let I,X,Ce,N,Ne,Je,se,Be;for(let Vt=0;Vt<2;++Vt){if(Vt===0?(X=6*Ue-12*Mt+6*te,I=-3*Ue+9*Mt-9*te+3*It,Ce=3*Mt-3*Ue):(X=6*Me-12*cn+6*vt,I=-3*Me+9*cn-9*vt+3*Dt,Ce=3*cn-3*Me),Math.abs(I)<1e-12){if(Math.abs(X)<1e-12)continue;N=-Ce/X,0<N&&N<1&&Ee.push(N);continue}se=X*X-4*Ce*I,Be=Math.sqrt(se),!(se<0)&&(Ne=(-X+Be)/(2*I),0<Ne&&Ne<1&&Ee.push(Ne),Je=(-X-Be)/(2*I),0<Je&&Je<1&&Ee.push(Je))}let ft=Ee.length,Zt;const Lt=ft;for(;ft--;)N=Ee[ft],Zt=1-N,Et[0][ft]=Zt*Zt*Zt*Ue+3*Zt*Zt*N*Mt+3*Zt*N*N*te+N*N*N*It,Et[1][ft]=Zt*Zt*Zt*Me+3*Zt*Zt*N*cn+3*Zt*N*N*vt+N*N*N*Dt;return Et[0][Lt]=Ue,Et[1][Lt]=Me,Et[0][Lt+1]=It,Et[1][Lt+1]=Dt,Et[0].length=Et[1].length=Lt+2,[Math.min(...Et[0]),Math.min(...Et[1]),Math.max(...Et[0]),Math.max(...Et[1])]}}e.Util=xe;const Se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function gt(mt){if(mt[0]>=""){let Me;if(mt[0]===""&&mt[1]===""?Me="utf-16be":mt[0]===""&&mt[1]===""?Me="utf-16le":mt[0]===""&&mt[1]===""&&mt[2]===""&&(Me="utf-8"),Me)try{const Mt=new TextDecoder(Me,{fatal:!0}),cn=ae(mt);return Mt.decode(cn)}catch(Mt){be(`stringToPDFString: "${Mt}".`)}}const Ue=[];for(let Me=0,Mt=mt.length;Me<Mt;Me++){const cn=Se[mt.charCodeAt(Me)];Ue.push(cn?String.fromCharCode(cn):mt.charAt(Me))}return Ue.join("")}function qe(mt){return decodeURIComponent(escape(mt))}function dt(mt){return unescape(encodeURIComponent(mt))}function yt(mt){return typeof mt=="object"&&mt!==null&&mt.byteLength!==void 0}function Nt(mt,Ue){if(mt.length!==Ue.length)return!1;for(let Me=0,Mt=mt.length;Me<Mt;Me++)if(mt[Me]!==Ue[Me])return!1;return!0}function nn(mt=new Date){return[mt.getUTCFullYear().toString(),(mt.getUTCMonth()+1).toString().padStart(2,"0"),mt.getUTCDate().toString().padStart(2,"0"),mt.getUTCHours().toString().padStart(2,"0"),mt.getUTCMinutes().toString().padStart(2,"0"),mt.getUTCSeconds().toString().padStart(2,"0")].join("")}function zt(){const mt=Object.create(null);let Ue=!1;return Object.defineProperty(mt,"settled",{get(){return Ue}}),mt.promise=new Promise(function(Me,Mt){mt.resolve=function(cn){Ue=!0,Me(cn)},mt.reject=function(cn){Ue=!0,Mt(cn)}}),mt}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var t,e,i,s,o,l,c,f,h,p,nu,y,x,ru,w,v;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:_,NodeCMapReaderFactory:E,NodeStandardFontDataFactory:k}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=_,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=E,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=k}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:_}=__w_pdfjs_require__(21);createPDFNetworkStream=E=>new _(E)}else{const{PDFNetworkStream:_}=__w_pdfjs_require__(24),{PDFFetchStream:E}=__w_pdfjs_require__(25);createPDFNetworkStream=k=>(0,_display_utils.isValidFetchUrl)(k.url)?new E(k):new _(k)}function getDocument(_){if(typeof _=="string"||_ instanceof URL)_={url:_};else if((0,_util.isArrayBuffer)(_))_={data:_};else if(_ instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),_={range:_};else if(typeof _!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!_.url&&!_.data&&!_.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const E=new PDFDocumentLoadingTask,k=_.url?getUrlProp(_.url):null,T=_.data?getDataProp(_.data):null,L=_.httpHeaders||null,F=_.withCredentials===!0,C=_.password??null,O=_.range instanceof PDFDataRangeTransport?_.range:null,P=Number.isInteger(_.rangeChunkSize)&&_.rangeChunkSize>0?_.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let G=_.worker instanceof PDFWorker?_.worker:null;const W=_.verbosity,J=typeof _.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(_.docBaseUrl)?_.docBaseUrl:null,ne=typeof _.cMapUrl=="string"?_.cMapUrl:null,we=_.cMapPacked!==!1,me=_.CMapReaderFactory||DefaultCMapReaderFactory,re=typeof _.standardFontDataUrl=="string"?_.standardFontDataUrl:null,ee=_.StandardFontDataFactory||DefaultStandardFontDataFactory,be=_.stopAtErrors!==!0,ke=Number.isInteger(_.maxImageSize)&&_.maxImageSize>-1?_.maxImageSize:-1,z=_.isEvalSupported!==!1,j=typeof _.isOffscreenCanvasSupported=="boolean"?_.isOffscreenCanvasSupported:!_is_node.isNodeJS,U=typeof _.disableFontFace=="boolean"?_.disableFontFace:_is_node.isNodeJS,Y=_.fontExtraProperties===!0,ce=_.enableXfa===!0,ge=_.ownerDocument||globalThis.document,he=_.disableRange===!0,ye=_.disableStream===!0,Ae=_.disableAutoFetch===!0,ot=_.pdfBug===!0,Ie=O?O.length:_.length??NaN,V=typeof _.useSystemFonts=="boolean"?_.useSystemFonts:!_is_node.isNodeJS&&!U,K=typeof _.useWorkerFetch=="boolean"?_.useWorkerFetch:me===_display_utils.DOMCMapReaderFactory&&ee===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(ne,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(re,document.baseURI),ae=null;(0,_util.setVerbosityLevel)(W);const ue=K?null:{cMapReaderFactory:new me({baseUrl:ne,isCompressed:we}),standardFontDataFactory:new ee({baseUrl:re})};if(!G){const Fe={verbosity:W,port:_worker_options.GlobalWorkerOptions.workerPort};G=Fe.port?PDFWorker.fromPort(Fe):new PDFWorker(Fe),E._worker=G}const Z=E.docId,ve={docId:Z,apiVersion:"3.4.120",data:T,password:C,disableAutoFetch:Ae,rangeChunkSize:P,length:Ie,docBaseUrl:J,enableXfa:ce,evaluatorOptions:{maxImageSize:ke,disableFontFace:U,ignoreErrors:be,isEvalSupported:z,isOffscreenCanvasSupported:j,fontExtraProperties:Y,useSystemFonts:V,cMapUrl:K?ne:null,standardFontDataUrl:K?re:null}},Pe={ignoreErrors:be,isEvalSupported:z,disableFontFace:U,fontExtraProperties:Y,enableXfa:ce,ownerDocument:ge,disableAutoFetch:Ae,pdfBug:ot,styleElement:ae};return G.promise.then(function(){if(E.destroyed)throw new Error("Loading aborted");const Fe=_fetchDocument(G,ve),it=new Promise(function(fe){let xe;O?xe=new _transport_stream.PDFDataTransportStream({length:Ie,initialData:O.initialData,progressiveDone:O.progressiveDone,contentDispositionFilename:O.contentDispositionFilename,disableRange:he,disableStream:ye},O):T||(xe=createPDFNetworkStream({url:k,length:Ie,httpHeaders:L,withCredentials:F,rangeChunkSize:P,disableRange:he,disableStream:ye})),fe(xe)});return Promise.all([Fe,it]).then(function([fe,xe]){if(E.destroyed)throw new Error("Loading aborted");const Se=new _message_handler.MessageHandler(Z,fe,G.port),gt=new WorkerTransport(Se,E,xe,Pe,ue);E._transport=gt,Se.send("Ready",null)})}).catch(E._capability.reject),E}async function _fetchDocument(_,E){if(_.destroyed)throw new Error("Worker was destroyed");const k=await _.messageHandler.sendWithPromise("GetDocRequest",E,E.data?[E.data.buffer]:null);if(_.destroyed)throw new Error("Worker was destroyed");return k}function getUrlProp(_){if(_ instanceof URL)return _.href;try{return new URL(_,window.location).href}catch{if(_is_node.isNodeJS&&typeof _=="string")return _}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(_){if(_is_node.isNodeJS&&typeof Buffer<"u"&&_ instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(_);if(_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength)return _;if(typeof _=="string")return(0,_util.stringToBytes)(_);if(typeof _=="object"&&!isNaN(_==null?void 0:_.length)||(0,_util.isArrayBuffer)(_))return new Uint8Array(_);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const n=class n{constructor(){Gt(this,e,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${tu(n,t)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return de(this,e)}set onUnsupportedFeature(E){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),ln(this,e,E)}get promise(){return this._capability.promise}async destroy(){var E;this.destroyed=!0,await((E=this._transport)==null?void 0:E.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};t=new WeakMap,e=new WeakMap,Gt(n,t,0);let PDFDocumentLoadingTask=n;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(E,k,T=!1,L=null){this.length=E,this.initialData=k,this.progressiveDone=T,this.contentDispositionFilename=L,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(E){this._rangeListeners.push(E)}addProgressListener(E){this._progressListeners.push(E)}addProgressiveReadListener(E){this._progressiveReadListeners.push(E)}addProgressiveDoneListener(E){this._progressiveDoneListeners.push(E)}onDataRange(E,k){for(const T of this._rangeListeners)T(E,k)}onDataProgress(E,k){this._readyCapability.promise.then(()=>{for(const T of this._progressListeners)T(E,k)})}onDataProgressiveRead(E){this._readyCapability.promise.then(()=>{for(const k of this._progressiveReadListeners)k(E)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const E of this._progressiveDoneListeners)E()})}transportReady(){this._readyCapability.resolve()}requestDataRange(E,k){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(E,k){this._pdfInfo=E,this._transport=k}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(E){return this._transport.getPage(E)}getPageIndex(E){return this._transport.getPageIndex(E)}getDestinations(){return this._transport.getDestinations()}getDestination(E){return this._transport.getDestination(E)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(E=!1){return this._transport.startCleanup(E||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(E,k,T,L,F=!1){this._pageIndex=E,this._pageInfo=k,this._ownerDocument=L,this._transport=T,this._stats=F?new _display_utils.StatTimer:null,this._pdfBug=F,this.commonObjs=T.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:E,rotation:k=this.rotate,offsetX:T=0,offsetY:L=0,dontFlip:F=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:E,rotation:k,offsetX:T,offsetY:L,dontFlip:F})}getAnnotations({intent:E="display"}={}){const k=this._transport.getRenderingIntent(E);return this._transport.getAnnotations(this._pageIndex,k.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var E;return((E=this._transport._htmlForXfa)==null?void 0:E.children[this._pageIndex])||null}render({canvasContext:E,viewport:k,intent:T="display",annotationMode:L=_util.AnnotationMode.ENABLE,transform:F=null,canvasFactory:C=null,background:O=null,optionalContentConfigPromise:P=null,annotationCanvasMap:G=null,pageColors:W=null,printAnnotationStorage:J=null}){var z,j;(z=this._stats)==null||z.time("Overall");const ne=this._transport.getRenderingIntent(T,L,J);this.pendingCleanup=!1,P||(P=this._transport.getOptionalContentConfig());let we=this._intentStates.get(ne.cacheKey);we||(we=Object.create(null),this._intentStates.set(ne.cacheKey,we)),we.streamReaderCancelTimeout&&(clearTimeout(we.streamReaderCancelTimeout),we.streamReaderCancelTimeout=null);const me=C||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),re=!!(ne.renderingIntent&_util.RenderingIntentFlag.PRINT);we.displayReadyCapability||(we.displayReadyCapability=(0,_util.createPromiseCapability)(),we.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(j=this._stats)==null||j.time("Page Request"),this._pumpOperatorList(ne));const ee=U=>{var Y,ce;we.renderTasks.delete(be),(this.cleanupAfterRender||re)&&(this.pendingCleanup=!0),this._tryCleanup(),U?(be.capability.reject(U),this._abortOperatorList({intentState:we,reason:U instanceof Error?U:new Error(U)})):be.capability.resolve(),(Y=this._stats)==null||Y.timeEnd("Rendering"),(ce=this._stats)==null||ce.timeEnd("Overall")},be=new InternalRenderTask({callback:ee,params:{canvasContext:E,viewport:k,transform:F,background:O},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:G,operatorList:we.operatorList,pageIndex:this._pageIndex,canvasFactory:me,useRequestAnimationFrame:!re,pdfBug:this._pdfBug,pageColors:W});(we.renderTasks||(we.renderTasks=new Set)).add(be);const ke=be.task;return Promise.all([we.displayReadyCapability.promise,P]).then(([U,Y])=>{var ce;if(this.pendingCleanup){ee();return}(ce=this._stats)==null||ce.time("Rendering"),be.initializeGraphics({transparency:U,optionalContentConfig:Y}),be.operatorListChanged()}).catch(ee),ke}getOperatorList({intent:E="display",annotationMode:k=_util.AnnotationMode.ENABLE,printAnnotationStorage:T=null}={}){var P;function L(){C.operatorList.lastChunk&&(C.opListReadCapability.resolve(C.operatorList),C.renderTasks.delete(O))}const F=this._transport.getRenderingIntent(E,k,T,!0);let C=this._intentStates.get(F.cacheKey);C||(C=Object.create(null),this._intentStates.set(F.cacheKey,C));let O;return C.opListReadCapability||(O=Object.create(null),O.operatorListChanged=L,C.opListReadCapability=(0,_util.createPromiseCapability)(),(C.renderTasks||(C.renderTasks=new Set)).add(O),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(P=this._stats)==null||P.time("Page Request"),this._pumpOperatorList(F)),C.opListReadCapability.promise}streamTextContent({disableCombineTextItems:E=!1,includeMarkedContent:k=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:E!==!0,includeMarkedContent:k===!0},{highWaterMark:100,size(L){return L.items.length}})}getTextContent(E={}){if(this._transport._htmlForXfa)return this.getXfa().then(T=>_xfa_text.XfaText.textContent(T));const k=this.streamTextContent(E);return new Promise(function(T,L){function F(){C.read().then(function({value:P,done:G}){if(G){T(O);return}Object.assign(O.styles,P.styles),O.items.push(...P.items),F()},L)}const C=k.getReader(),O={items:[],styles:Object.create(null)};F()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const E=[];for(const k of this._intentStates.values())if(this._abortOperatorList({intentState:k,reason:new Error("Page was destroyed."),force:!0}),!k.opListReadCapability)for(const T of k.renderTasks)E.push(T.completed),T.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(E)}cleanup(E=!1){return this.pendingCleanup=!0,this._tryCleanup(E)}_tryCleanup(E=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:k,operatorList:T}of this._intentStates.values())if(k.size>0||!T.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(E,k){var L,F;const T=this._intentStates.get(k);T&&((L=this._stats)==null||L.timeEnd("Page Request"),(F=T.displayReadyCapability)==null||F.resolve(E))}_renderPageChunk(E,k){for(let T=0,L=E.length;T<L;T++)k.operatorList.fnArray.push(E.fnArray[T]),k.operatorList.argsArray.push(E.argsArray[T]);k.operatorList.lastChunk=E.lastChunk,k.operatorList.separateAnnots=E.separateAnnots;for(const T of k.renderTasks)T.operatorListChanged();E.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:E,cacheKey:k,annotationStorageMap:T}){const F=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:E,cacheKey:k,annotationStorage:T}).getReader(),C=this._intentStates.get(k);C.streamReader=F;const O=()=>{F.read().then(({value:P,done:G})=>{if(G){C.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(P,C),O())},P=>{if(C.streamReader=null,!this._transport.destroyed){if(C.operatorList){C.operatorList.lastChunk=!0;for(const G of C.renderTasks)G.operatorListChanged();this._tryCleanup()}if(C.displayReadyCapability)C.displayReadyCapability.reject(P);else if(C.opListReadCapability)C.opListReadCapability.reject(P);else throw P}})};O()}_abortOperatorList({intentState:E,reason:k,force:T=!1}){if(E.streamReader){if(E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null),!T){if(E.renderTasks.size>0)return;if(k instanceof _display_utils.RenderingCancelledException){let L=RENDERING_CANCELLED_TIMEOUT;k.extraDelay>0&&k.extraDelay<1e3&&(L+=k.extraDelay),E.streamReaderCancelTimeout=setTimeout(()=>{E.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:E,reason:k,force:!0})},L);return}}if(E.streamReader.cancel(new _util.AbortException(k.message)).catch(()=>{}),E.streamReader=null,!this._transport.destroyed){for(const[L,F]of this._intentStates)if(F===E){this._intentStates.delete(L);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Gt(this,i,new Set);Gt(this,s,Promise.resolve())}postMessage(E,k){const T={data:structuredClone(E,k)};de(this,s).then(()=>{for(const L of de(this,i))L.call(this,T)})}addEventListener(E,k){de(this,i).add(k)}removeEventListener(E,k){de(this,i).delete(k)}terminate(){de(this,i).clear()}}i=new WeakMap,s=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const _=(o=document==null?void 0:document.currentScript)==null?void 0:o.src;_&&(PDFWorkerUtil.fallbackWorkerSrc=_.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(_,E){let k;try{if(k=new URL(_),!k.origin||k.origin==="null")return!1}catch{return!1}const T=new URL(E,k);return k.origin===T.origin},PDFWorkerUtil.createCDNWrapper=function(_){const E=`importScripts("${_}");`;return URL.createObjectURL(new Blob([E]))}}const _PDFWorker=class _PDFWorker{constructor({name:_=null,port:E=null,verbosity:k=(0,_util.getVerbosityLevel)()}={}){if(E&&de(_PDFWorker,l).has(E))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=_,this.destroyed=!1,this.verbosity=k,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,E){de(_PDFWorker,l).set(E,this),this._initializeFromPort(E);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(_){this._port=_,this._messageHandler=new _message_handler.MessageHandler("main","worker",_),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:_}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,_)||(_=PDFWorkerUtil.createCDNWrapper(new URL(_,window.location).href));const E=new Worker(_),k=new _message_handler.MessageHandler("main","worker",E),T=()=>{E.removeEventListener("error",L),k.destroy(),E.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},L=()=>{this._webWorker||T()};E.addEventListener("error",L),k.on("test",C=>{if(E.removeEventListener("error",L),this.destroyed){T();return}C?(this._messageHandler=k,this._port=E,this._webWorker=E,this._readyCapability.resolve(),k.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),k.destroy(),E.terminate())}),k.on("ready",C=>{if(E.removeEventListener("error",L),this.destroyed){T();return}try{F()}catch{this._setupFakeWorker()}});const F=()=>{const C=new Uint8Array;k.send("test",C,[C.buffer])};F();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(_=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const E=new LoopbackPort;this._port=E;const k=`fake${PDFWorkerUtil.fakeWorkerId++}`,T=new _message_handler.MessageHandler(k+"_worker",k,E);_.setup(T,E);const L=new _message_handler.MessageHandler(k,k+"_worker",E);this._messageHandler=L,this._readyCapability.resolve(),L.send("configure",{verbosity:this.verbosity})}).catch(_=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${_.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),de(_PDFWorker,l).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(_){if(!(_!=null&&_.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return de(this,l).has(_.port)?de(this,l).get(_.port):new _PDFWorker(_)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var _;try{return((_=globalThis.pdfjsWorker)==null?void 0:_.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};l=new WeakMap,Gt(_PDFWorker,l,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(E,k,T,L,F){Gt(this,p);Gt(this,c,new Map);Gt(this,f,new Map);Gt(this,h,new Map);this.messageHandler=E,this.loadingTask=k,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:L.ownerDocument,styleElement:L.styleElement}),this._params=L,this.cMapReaderFactory=F==null?void 0:F.cMapReaderFactory,this.standardFontDataFactory=F==null?void 0:F.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=T,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(E,k=_util.AnnotationMode.ENABLE,T=null,L=!1){let F=_util.RenderingIntentFlag.DISPLAY,C=null;switch(E){case"any":F=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":F=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${E}`)}switch(k){case _util.AnnotationMode.DISABLE:F+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:F+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:F+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,C=(F&_util.RenderingIntentFlag.PRINT&&T instanceof _annotation_storage.PrintAnnotationStorage?T:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${k}`)}return L&&(F+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:F,cacheKey:`${F}_${_annotation_storage.AnnotationStorage.getHash(C)}`,annotationStorageMap:C}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const E=[];for(const T of de(this,f).values())E.push(T._destroy());de(this,f).clear(),de(this,h).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const k=this.messageHandler.sendWithPromise("Terminate",null);return E.push(k),Promise.all(E).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),de(this,c).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:E,loadingTask:k}=this;E.on("GetReader",(T,L)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=F=>{this._lastProgress={loaded:F.loaded,total:F.total}},L.onPull=()=>{this._fullReader.read().then(function({value:F,done:C}){if(C){L.close();return}(0,_util.assert)(F instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),L.enqueue(new Uint8Array(F),1,[F])}).catch(F=>{L.error(F)})},L.onCancel=F=>{this._fullReader.cancel(F),L.ready.catch(C=>{if(!this.destroyed)throw C})}}),E.on("ReaderHeadersReady",T=>{const L=(0,_util.createPromiseCapability)(),F=this._fullReader;return F.headersReady.then(()=>{var C;(!F.isStreamingSupported||!F.isRangeSupported)&&(this._lastProgress&&((C=k.onProgress)==null||C.call(k,this._lastProgress)),F.onProgress=O=>{var P;(P=k.onProgress)==null||P.call(k,{loaded:O.loaded,total:O.total})}),L.resolve({isStreamingSupported:F.isStreamingSupported,isRangeSupported:F.isRangeSupported,contentLength:F.contentLength})},L.reject),L.promise}),E.on("GetRangeReader",(T,L)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const F=this._networkStream.getRangeReader(T.begin,T.end);if(!F){L.close();return}L.onPull=()=>{F.read().then(function({value:C,done:O}){if(O){L.close();return}(0,_util.assert)(C instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),L.enqueue(new Uint8Array(C),1,[C])}).catch(C=>{L.error(C)})},L.onCancel=C=>{F.cancel(C),L.ready.catch(O=>{if(!this.destroyed)throw O})}}),E.on("GetDoc",({pdfInfo:T})=>{this._numPages=T.numPages,this._htmlForXfa=T.htmlForXfa,delete T.htmlForXfa,k._capability.resolve(new PDFDocumentProxy(T,this))}),E.on("DocException",function(T){let L;switch(T.name){case"PasswordException":L=new _util.PasswordException(T.message,T.code);break;case"InvalidPDFException":L=new _util.InvalidPDFException(T.message);break;case"MissingPDFException":L=new _util.MissingPDFException(T.message);break;case"UnexpectedResponseException":L=new _util.UnexpectedResponseException(T.message,T.status);break;case"UnknownErrorException":L=new _util.UnknownErrorException(T.message,T.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}k._capability.reject(L)}),E.on("PasswordRequest",T=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),k.onPassword){const L=F=>{F instanceof Error?this._passwordCapability.reject(F):this._passwordCapability.resolve({password:F})};try{k.onPassword(L,T.code)}catch(F){this._passwordCapability.reject(F)}}else this._passwordCapability.reject(new _util.PasswordException(T.message,T.code));return this._passwordCapability.promise}),E.on("DataLoaded",T=>{var L;(L=k.onProgress)==null||L.call(k,{loaded:T.length,total:T.length}),this.downloadInfoCapability.resolve(T)}),E.on("StartRenderPage",T=>{if(this.destroyed)return;de(this,f).get(T.pageIndex)._startRenderPage(T.transparency,T.cacheKey)}),E.on("commonobj",([T,L,F])=>{var C;if(!this.destroyed&&!this.commonObjs.has(T))switch(L){case"Font":const O=this._params;if("error"in F){const W=F.error;(0,_util.warn)(`Error during font loading: ${W}`),this.commonObjs.resolve(T,W);break}let P=null;O.pdfBug&&((C=globalThis.FontInspector)!=null&&C.enabled)&&(P={registerFont(W,J){globalThis.FontInspector.fontAdded(W,J)}});const G=new _font_loader.FontFaceObject(F,{isEvalSupported:O.isEvalSupported,disableFontFace:O.disableFontFace,ignoreErrors:O.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:P});this.fontLoader.bind(G).catch(W=>E.sendWithPromise("FontFallback",{id:T})).finally(()=>{!O.fontExtraProperties&&G.data&&(G.data=null),this.commonObjs.resolve(T,G)});break;case"FontPath":case"Image":this.commonObjs.resolve(T,F);break;default:throw new Error(`Got unknown common object type ${L}`)}}),E.on("obj",([T,L,F,C])=>{var P;if(this.destroyed)return;const O=de(this,f).get(L);if(!O.objs.has(T))switch(F){case"Image":O.objs.resolve(T,C);const G=8e6;if(C){let W;if(C.bitmap){const{width:J,height:ne}=C;W=J*ne*4}else W=((P=C.data)==null?void 0:P.length)||0;W>G&&(O.cleanupAfterRender=!0)}break;case"Pattern":O.objs.resolve(T,C);break;default:throw new Error(`Got unknown object type ${F}`)}}),E.on("DocProgress",T=>{var L;this.destroyed||(L=k.onProgress)==null||L.call(k,{loaded:T.loaded,total:T.total})}),E.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),E.on("FetchBuiltInCMap",T=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(T):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),E.on("FetchStandardFontData",T=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(T):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:E}){var k,T;this.destroyed||(T=(k=this.loadingTask).onUnsupportedFeature)==null||T.call(k,E)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var E;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((E=this._fullReader)==null?void 0:E.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(E){if(!Number.isInteger(E)||E<=0||E>this._numPages)return Promise.reject(new Error("Invalid page request."));const k=E-1,T=de(this,h).get(k);if(T)return T;const L=this.messageHandler.sendWithPromise("GetPage",{pageIndex:k}).then(F=>{if(this.destroyed)throw new Error("Transport destroyed");const C=new PDFPageProxy(k,F,this,this._params.ownerDocument,this._params.pdfBug);return de(this,f).set(k,C),C});return de(this,h).set(k,L),L}getPageIndex(E){return typeof E!="object"||E===null||!Number.isInteger(E.num)||E.num<0||!Number.isInteger(E.gen)||E.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:E.num,gen:E.gen})}getAnnotations(E,k){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:E,intent:k})}getFieldObjects(){return Ft(this,p,nu).call(this,"GetFieldObjects")}hasJSActions(){return Ft(this,p,nu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(E){return typeof E!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:E})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(E){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:E})}getStructTree(E){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:E})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(E=>new _optional_content_config.OptionalContentConfig(E))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const E="GetMetadata",k=de(this,c).get(E);if(k)return k;const T=this.messageHandler.sendWithPromise(E,null).then(L=>{var F,C;return{info:L[0],metadata:L[1]?new _metadata.Metadata(L[1]):null,contentDispositionFilename:((F=this._fullReader)==null?void 0:F.filename)??null,contentLength:((C=this._fullReader)==null?void 0:C.contentLength)??null}});return de(this,c).set(E,T),T}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(E=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const k of de(this,f).values())if(!k.cleanup())throw new Error(`startCleanup: Page ${k.pageNumber} is currently rendering.`);this.commonObjs.clear(),E||this.fontLoader.clear(),de(this,c).clear()}}get loadingParams(){const{disableAutoFetch:E,enableXfa:k}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:E,enableXfa:k})}}c=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakSet,nu=function(E,k=null){const T=de(this,c).get(E);if(T)return T;const L=this.messageHandler.sendWithPromise(E,k);return de(this,c).set(E,L),L};class PDFObjects{constructor(){Gt(this,x);Gt(this,y,Object.create(null))}get(E,k=null){if(k){const L=Ft(this,x,ru).call(this,E);return L.capability.promise.then(()=>k(L.data)),null}const T=de(this,y)[E];if(!(T!=null&&T.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${E}.`);return T.data}has(E){const k=de(this,y)[E];return(k==null?void 0:k.capability.settled)||!1}resolve(E,k=null){const T=Ft(this,x,ru).call(this,E);T.data=k,T.capability.resolve()}clear(){var E;for(const k in de(this,y)){const{data:T}=de(this,y)[k];(E=T==null?void 0:T.bitmap)==null||E.close()}ln(this,y,Object.create(null))}}y=new WeakMap,x=new WeakSet,ru=function(E){const k=de(this,y)[E];return k||(de(this,y)[E]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(E){Gt(this,w,null);ln(this,w,E),this.onContinue=null}get promise(){return de(this,w).capability.promise}cancel(E=0){de(this,w).cancel(null,E)}get separateAnnots(){const{separateAnnots:E}=de(this,w).operatorList;if(!E)return!1;const{annotationCanvasMap:k}=de(this,w);return E.form||E.canvas&&(k==null?void 0:k.size)>0}}w=new WeakMap,exports.RenderTask=RenderTask;const b=class b{constructor({callback:E,params:k,objs:T,commonObjs:L,annotationCanvasMap:F,operatorList:C,pageIndex:O,canvasFactory:P,useRequestAnimationFrame:G=!1,pdfBug:W=!1,pageColors:J=null}){this.callback=E,this.params=k,this.objs=T,this.commonObjs=L,this.annotationCanvasMap=F,this.operatorListIdx=null,this.operatorList=C,this._pageIndex=O,this.canvasFactory=P,this._pdfBug=W,this.pageColors=J,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=G===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=k.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:E=!1,optionalContentConfig:k}){var O,P;if(this.cancelled)return;if(this._canvas){if(de(b,v).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");de(b,v).add(this._canvas)}this._pdfBug&&((O=globalThis.StepperManager)!=null&&O.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:T,viewport:L,transform:F,background:C}=this.params;this.gfx=new _canvas.CanvasGraphics(T,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:k},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:F,viewport:L,transparency:E,background:C}),this.operatorListIdx=0,this.graphicsReady=!0,(P=this.graphicsReadyCallback)==null||P.call(this)}cancel(E=null,k=0){var T;this.running=!1,this.cancelled=!0,(T=this.gfx)==null||T.endDrawing(),this._canvas&&de(b,v).delete(this._canvas),this.callback(E||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",k))}operatorListChanged(){var E;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(E=this.stepper)==null||E.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&de(b,v).delete(this._canvas),this.callback())))}};v=new WeakMap,Gt(b,v,new WeakSet);let InternalRenderTask=b;const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(t,e,n)=>{var f,h,p,ld,y;Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var i=n(1),s=n(4),o=n(8);class l{constructor(){Gt(this,p);Gt(this,f,!1);Gt(this,h,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(S,w){const v=de(this,h).get(S);return v===void 0?w:Object.assign(w,v)}getRawValue(S){return de(this,h).get(S)}remove(S){if(de(this,h).delete(S),de(this,h).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const w of de(this,h).values())if(w instanceof s.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(S,w){const v=de(this,h).get(S);let b=!1;if(v!==void 0)for(const[_,E]of Object.entries(w))v[_]!==E&&(b=!0,v[_]=E);else b=!0,de(this,h).set(S,w);b&&Ft(this,p,ld).call(this),w instanceof s.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(w.constructor._type)}has(S){return de(this,h).has(S)}getAll(){return de(this,h).size>0?(0,i.objectFromMap)(de(this,h)):null}setAll(S){for(const[w,v]of Object.entries(S))this.setValue(w,v)}get size(){return de(this,h).size}resetModified(){de(this,f)&&(ln(this,f,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new c(this)}get serializable(){if(de(this,h).size===0)return null;const S=new Map;for(const[w,v]of de(this,h)){const b=v instanceof s.AnnotationEditor?v.serialize():v;b&&S.set(w,b)}return S}static getHash(S){if(!S)return"";const w=new o.MurmurHash3_64;for(const[v,b]of S)w.update(`${v}:${JSON.stringify(b)}`);return w.hexdigest()}}f=new WeakMap,h=new WeakMap,p=new WeakSet,ld=function(){de(this,f)||(ln(this,f,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=l;class c extends l{constructor(w){super();Gt(this,y,null);ln(this,y,structuredClone(w.serializable))}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return de(this,y)}}y=new WeakMap,e.PrintAnnotationStorage=c},(t,e,n)=>{var l,c,f,h,p,g;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var i=n(5),s=n(1);const y=class y{constructor(S){Gt(this,l,this.focusin.bind(this));Gt(this,c,this.focusout.bind(this));Gt(this,f,!1);Gt(this,h,!1);Gt(this,p,!1);wr(this,"_uiManager",null);Gt(this,g,y._zIndex++);this.constructor===y&&(0,s.unreachable)("Cannot initialize AnnotationEditor."),this.parent=S.parent,this.id=S.id,this.width=this.height=null,this.pageIndex=S.parent.pageIndex,this.name=S.name,this.div=null,this._uiManager=S.uiManager;const{rotation:w,rawDims:{pageWidth:v,pageHeight:b,pageX:_,pageY:E}}=this.parent.viewport;this.rotation=w,this.pageDimensions=[v,b],this.pageTranslation=[_,E];const[k,T]=this.parentDimensions;this.x=S.x/k,this.y=S.y/T,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,s.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(S){this._uiManager.addCommands(S)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=de(this,g)}setParent(S){S!==null&&(this.pageIndex=S.pageIndex,this.pageDimensions=S.pageDimensions),this.parent=S}focusin(S){de(this,f)?ln(this,f,!1):this.parent.setSelected(this)}focusout(S){var v;if(!this.isAttachedToDOM)return;const w=S.relatedTarget;w!=null&&w.closest(`#${this.id}`)||(S.preventDefault(),(v=this.parent)!=null&&v.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(S){const w=this.parent.div.getBoundingClientRect();this.startX=S.clientX-w.x,this.startY=S.clientY-w.y,S.dataTransfer.setData("text/plain",this.id),S.dataTransfer.effectAllowed="move"}setAt(S,w,v,b){const[_,E]=this.parentDimensions;[v,b]=this.screenToPageTranslation(v,b),this.x=(S+v)/_,this.y=(w+b)/E,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(S,w){const[v,b]=this.parentDimensions;[S,w]=this.screenToPageTranslation(S,w),this.x+=S/v,this.y+=w/b,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(S,w){switch(this.parentRotation){case 90:return[w,-S];case 180:return[-S,-w];case 270:return[-w,S];default:return[S,w]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:S}=this._uiManager.viewParameters,[w,v]=this.pageDimensions;return[w*S,v*S]}setDims(S,w){const[v,b]=this.parentDimensions;this.div.style.width=`${100*S/v}%`,this.div.style.height=`${100*w/b}%`}fixDims(){const{style:S}=this.div,{height:w,width:v}=S,b=v.endsWith("%"),_=w.endsWith("%");if(b&&_)return;const[E,k]=this.parentDimensions;b||(S.width=`${100*parseFloat(v)/E}%`),_||(S.height=`${100*parseFloat(w)/k}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",de(this,l)),this.div.addEventListener("focusout",de(this,c));const[S,w]=this.getInitialTranslation();return this.translate(S,w),(0,i.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(S){const{isMac:w}=s.FeatureTest.platform;if(S.button!==0||S.ctrlKey&&w){S.preventDefault();return}S.ctrlKey&&!w||S.shiftKey||S.metaKey&&w?this.parent.toggleSelected(this):this.parent.setSelected(this),ln(this,f,!0)}getRect(S,w){const v=this.parentScale,[b,_]=this.pageDimensions,[E,k]=this.pageTranslation,T=S/v,L=w/v,F=this.x*b,C=this.y*_,O=this.width*b,P=this.height*_;switch(this.rotation){case 0:return[F+T+E,_-C-L-P+k,F+T+O+E,_-C-L+k];case 90:return[F+L+E,_-C+T+k,F+L+P+E,_-C+T+O+k];case 180:return[F-T-O+E,_-C+L+k,F-T+E,_-C+L+P+k];case 270:return[F-L-P+E,_-C-T-O+k,F-L+E,_-C-T+k];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(S,w){const[v,b,_,E]=S,k=_-v,T=E-b;switch(this.rotation){case 0:return[v,w-E,k,T];case 90:return[v,w-b,T,k];case 180:return[_,w-b,k,T];case 270:return[_,w-E,T,k];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ln(this,p,!0)}disableEditMode(){ln(this,p,!1)}isInEditMode(){return de(this,p)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var S;(S=this.div)==null||S.addEventListener("focusin",de(this,l))}serialize(){(0,s.unreachable)("An editor must be serializable")}static deserialize(S,w,v){const b=new this.prototype.constructor({parent:w,id:w.getNextId(),uiManager:v});b.rotation=S.rotation;const[_,E]=b.pageDimensions,[k,T,L,F]=b.getRectInCurrentCoords(S.rect,E);return b.x=k/_,b.y=T/E,b.width=L/_,b.height=F/E,b}remove(){this.div.removeEventListener("focusin",de(this,l)),this.div.removeEventListener("focusout",de(this,c)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var S;(S=this.div)==null||S.classList.add("selectedEditor")}unselect(){var S;(S=this.div)==null||S.classList.remove("selectedEditor")}updateParams(S,w){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return de(this,h)}set isEditing(S){ln(this,h,S),S?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};l=new WeakMap,c=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,g=new WeakMap,wr(y,"_colorManager",new i.ColorManager),wr(y,"_zIndex",1);let o=y;e.AnnotationEditor=o},(t,e,n)=>{var y,x,S,w,v,b,ud,k,T,L,F,C,O,P,G,W,J,ne,we,me,re,ee,be,ke,z,j,U,Y,ce,ge,he,cd,iu,dd,fd,rs,Ko,hd,pd,su,Xo,ou;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=o,e.opacityToHex=l;var i=n(1),s=n(6);function o(it,fe,xe){for(const Se of xe)fe.addEventListener(Se,it[Se].bind(it))}function l(it){return Math.round(Math.min(255,Math.max(1,255*it))).toString(16).padStart(2,"0")}class c{constructor(){Gt(this,y,0)}getId(){return`${i.AnnotationEditorPrefix}${tu(this,y)._++}`}}y=new WeakMap;class f{constructor(fe=128){Gt(this,x,[]);Gt(this,S,!1);Gt(this,w);Gt(this,v,-1);ln(this,w,fe)}add({cmd:fe,undo:xe,mustExec:Se,type:gt=NaN,overwriteIfSameType:qe=!1,keepUndo:dt=!1}){if(Se&&fe(),de(this,S))return;const yt={cmd:fe,undo:xe,type:gt};if(de(this,v)===-1){de(this,x).length>0&&(de(this,x).length=0),ln(this,v,0),de(this,x).push(yt);return}if(qe&&de(this,x)[de(this,v)].type===gt){dt&&(yt.undo=de(this,x)[de(this,v)].undo),de(this,x)[de(this,v)]=yt;return}const Nt=de(this,v)+1;Nt===de(this,w)?de(this,x).splice(0,1):(ln(this,v,Nt),Nt<de(this,x).length&&de(this,x).splice(Nt)),de(this,x).push(yt)}undo(){de(this,v)!==-1&&(ln(this,S,!0),de(this,x)[de(this,v)].undo(),ln(this,S,!1),ln(this,v,de(this,v)-1))}redo(){de(this,v)<de(this,x).length-1&&(ln(this,v,de(this,v)+1),ln(this,S,!0),de(this,x)[de(this,v)].cmd(),ln(this,S,!1))}hasSomethingToUndo(){return de(this,v)!==-1}hasSomethingToRedo(){return de(this,v)<de(this,x).length-1}destroy(){ln(this,x,null)}}x=new WeakMap,S=new WeakMap,w=new WeakMap,v=new WeakMap,e.CommandManager=f;class h{constructor(fe){Gt(this,b);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:xe}=i.FeatureTest.platform;for(const[Se,gt]of fe)for(const qe of Se){const dt=qe.startsWith("mac+");xe&&dt?(this.callbacks.set(qe.slice(4),gt),this.allKeys.add(qe.split("+").at(-1))):!xe&&!dt&&(this.callbacks.set(qe,gt),this.allKeys.add(qe.split("+").at(-1)))}}exec(fe,xe){if(!this.allKeys.has(xe.key))return;const Se=this.callbacks.get(Ft(this,b,ud).call(this,xe));Se&&(Se.bind(fe)(),xe.stopPropagation(),xe.preventDefault())}}b=new WeakSet,ud=function(fe){fe.altKey&&this.buffer.push("alt"),fe.ctrlKey&&this.buffer.push("ctrl"),fe.metaKey&&this.buffer.push("meta"),fe.shiftKey&&this.buffer.push("shift"),this.buffer.push(fe.key);const xe=this.buffer.join("+");return this.buffer.length=0,xe},e.KeyboardManager=h;const E=class E{get _colors(){const fe=new Map([["CanvasText",null],["Canvas",null]]);return(0,s.getColorValues)(fe),(0,i.shadow)(this,"_colors",fe)}convert(fe){const xe=(0,s.getRGB)(fe);if(!window.matchMedia("(forced-colors: active)").matches)return xe;for(const[Se,gt]of this._colors)if(gt.every((qe,dt)=>qe===xe[dt]))return E._colorsMapping.get(Se);return xe}getHexCode(fe){const xe=this._colors.get(fe);return xe?i.Util.makeHexColor(...xe):fe}};wr(E,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let p=E;e.ColorManager=p;const Fe=class Fe{constructor(fe,xe,Se){Gt(this,he);Gt(this,k,null);Gt(this,T,new Map);Gt(this,L,new Map);Gt(this,F,null);Gt(this,C,new f);Gt(this,O,0);Gt(this,P,null);Gt(this,G,new Set);Gt(this,W,null);Gt(this,J,new c);Gt(this,ne,!1);Gt(this,we,i.AnnotationEditorType.NONE);Gt(this,me,new Set);Gt(this,re,this.copy.bind(this));Gt(this,ee,this.cut.bind(this));Gt(this,be,this.paste.bind(this));Gt(this,ke,this.keydown.bind(this));Gt(this,z,this.onEditingAction.bind(this));Gt(this,j,this.onPageChanging.bind(this));Gt(this,U,this.onScaleChanging.bind(this));Gt(this,Y,this.onRotationChanging.bind(this));Gt(this,ce,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Gt(this,ge,null);ln(this,ge,fe),ln(this,W,xe),de(this,W)._on("editingaction",de(this,z)),de(this,W)._on("pagechanging",de(this,j)),de(this,W)._on("scalechanging",de(this,U)),de(this,W)._on("rotationchanging",de(this,Y)),ln(this,F,Se),this.viewParameters={realScale:s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){Ft(this,he,iu).call(this),de(this,W)._off("editingaction",de(this,z)),de(this,W)._off("pagechanging",de(this,j)),de(this,W)._off("scalechanging",de(this,U)),de(this,W)._off("rotationchanging",de(this,Y));for(const fe of de(this,L).values())fe.destroy();de(this,L).clear(),de(this,T).clear(),de(this,G).clear(),ln(this,k,null),de(this,me).clear(),de(this,C).destroy()}onPageChanging({pageNumber:fe}){ln(this,O,fe-1)}focusMainContainer(){de(this,ge).focus()}addShouldRescale(fe){de(this,G).add(fe)}removeShouldRescale(fe){de(this,G).delete(fe)}onScaleChanging({scale:fe}){this.commitOrRemove(),this.viewParameters.realScale=fe*s.PixelsPerInch.PDF_TO_CSS_UNITS;for(const xe of de(this,G))xe.onScaleChanging()}onRotationChanging({pagesRotation:fe}){this.commitOrRemove(),this.viewParameters.rotation=fe}addToAnnotationStorage(fe){!fe.isEmpty()&&de(this,F)&&!de(this,F).has(fe.id)&&de(this,F).setValue(fe.id,fe)}copy(fe){if(fe.preventDefault(),de(this,k)&&de(this,k).commitOrRemove(),!this.hasSelection)return;const xe=[];for(const Se of de(this,me))Se.isEmpty()||xe.push(Se.serialize());xe.length!==0&&fe.clipboardData.setData("application/pdfjs",JSON.stringify(xe))}cut(fe){this.copy(fe),this.delete()}paste(fe){fe.preventDefault();let xe=fe.clipboardData.getData("application/pdfjs");if(!xe)return;try{xe=JSON.parse(xe)}catch(gt){(0,i.warn)(`paste: "${gt.message}".`);return}if(!Array.isArray(xe))return;this.unselectAll();const Se=de(this,L).get(de(this,O));try{const gt=[];for(const yt of xe){const Nt=Se.deserialize(yt);if(!Nt)return;gt.push(Nt)}const qe=()=>{for(const yt of gt)Ft(this,he,su).call(this,yt);Ft(this,he,ou).call(this,gt)},dt=()=>{for(const yt of gt)yt.remove()};this.addCommands({cmd:qe,undo:dt,mustExec:!0})}catch(gt){(0,i.warn)(`paste: "${gt.message}".`)}}keydown(fe){var xe;(xe=this.getActive())!=null&&xe.shouldGetKeyboardEvents()||Fe._keyboardManager.exec(this,fe)}onEditingAction(fe){["undo","redo","delete","selectAll"].includes(fe.name)&&this[fe.name]()}setEditingState(fe){fe?(Ft(this,he,cd).call(this),Ft(this,he,dd).call(this),Ft(this,he,rs).call(this,{isEditing:de(this,we)!==i.AnnotationEditorType.NONE,isEmpty:Ft(this,he,Xo).call(this),hasSomethingToUndo:de(this,C).hasSomethingToUndo(),hasSomethingToRedo:de(this,C).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ft(this,he,iu).call(this),Ft(this,he,fd).call(this),Ft(this,he,rs).call(this,{isEditing:!1}))}registerEditorTypes(fe){if(!de(this,P)){ln(this,P,fe);for(const xe of de(this,P))Ft(this,he,Ko).call(this,xe.defaultPropertiesToUpdate)}}getId(){return de(this,J).getId()}get currentLayer(){return de(this,L).get(de(this,O))}get currentPageIndex(){return de(this,O)}addLayer(fe){de(this,L).set(fe.pageIndex,fe),de(this,ne)?fe.enable():fe.disable()}removeLayer(fe){de(this,L).delete(fe.pageIndex)}updateMode(fe){if(ln(this,we,fe),fe===i.AnnotationEditorType.NONE)this.setEditingState(!1),Ft(this,he,pd).call(this);else{this.setEditingState(!0),Ft(this,he,hd).call(this);for(const xe of de(this,L).values())xe.updateMode(fe)}}updateToolbar(fe){fe!==de(this,we)&&de(this,W).dispatch("switchannotationeditormode",{source:this,mode:fe})}updateParams(fe,xe){if(de(this,P)){for(const Se of de(this,me))Se.updateParams(fe,xe);for(const Se of de(this,P))Se.updateDefaultParams(fe,xe)}}getEditors(fe){const xe=[];for(const Se of de(this,T).values())Se.pageIndex===fe&&xe.push(Se);return xe}getEditor(fe){return de(this,T).get(fe)}addEditor(fe){de(this,T).set(fe.id,fe)}removeEditor(fe){var xe;de(this,T).delete(fe.id),this.unselect(fe),(xe=de(this,F))==null||xe.remove(fe.id)}setActiveEditor(fe){de(this,k)!==fe&&(ln(this,k,fe),fe&&Ft(this,he,Ko).call(this,fe.propertiesToUpdate))}toggleSelected(fe){if(de(this,me).has(fe)){de(this,me).delete(fe),fe.unselect(),Ft(this,he,rs).call(this,{hasSelectedEditor:this.hasSelection});return}de(this,me).add(fe),fe.select(),Ft(this,he,Ko).call(this,fe.propertiesToUpdate),Ft(this,he,rs).call(this,{hasSelectedEditor:!0})}setSelected(fe){for(const xe of de(this,me))xe!==fe&&xe.unselect();de(this,me).clear(),de(this,me).add(fe),fe.select(),Ft(this,he,Ko).call(this,fe.propertiesToUpdate),Ft(this,he,rs).call(this,{hasSelectedEditor:!0})}isSelected(fe){return de(this,me).has(fe)}unselect(fe){fe.unselect(),de(this,me).delete(fe),Ft(this,he,rs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return de(this,me).size!==0}undo(){de(this,C).undo(),Ft(this,he,rs).call(this,{hasSomethingToUndo:de(this,C).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ft(this,he,Xo).call(this)})}redo(){de(this,C).redo(),Ft(this,he,rs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:de(this,C).hasSomethingToRedo(),isEmpty:Ft(this,he,Xo).call(this)})}addCommands(fe){de(this,C).add(fe),Ft(this,he,rs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ft(this,he,Xo).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const fe=[...de(this,me)],xe=()=>{for(const gt of fe)gt.remove()},Se=()=>{for(const gt of fe)Ft(this,he,su).call(this,gt)};this.addCommands({cmd:xe,undo:Se,mustExec:!0})}commitOrRemove(){var fe;(fe=de(this,k))==null||fe.commitOrRemove()}selectAll(){for(const fe of de(this,me))fe.commit();Ft(this,he,ou).call(this,de(this,T).values())}unselectAll(){if(de(this,k)){de(this,k).commitOrRemove();return}if(de(this,me).size!==0){for(const fe of de(this,me))fe.unselect();de(this,me).clear(),Ft(this,he,rs).call(this,{hasSelectedEditor:!1})}}isActive(fe){return de(this,k)===fe}getActive(){return de(this,k)}getMode(){return de(this,we)}};k=new WeakMap,T=new WeakMap,L=new WeakMap,F=new WeakMap,C=new WeakMap,O=new WeakMap,P=new WeakMap,G=new WeakMap,W=new WeakMap,J=new WeakMap,ne=new WeakMap,we=new WeakMap,me=new WeakMap,re=new WeakMap,ee=new WeakMap,be=new WeakMap,ke=new WeakMap,z=new WeakMap,j=new WeakMap,U=new WeakMap,Y=new WeakMap,ce=new WeakMap,ge=new WeakMap,he=new WeakSet,cd=function(){de(this,ge).addEventListener("keydown",de(this,ke))},iu=function(){de(this,ge).removeEventListener("keydown",de(this,ke))},dd=function(){document.addEventListener("copy",de(this,re)),document.addEventListener("cut",de(this,ee)),document.addEventListener("paste",de(this,be))},fd=function(){document.removeEventListener("copy",de(this,re)),document.removeEventListener("cut",de(this,ee)),document.removeEventListener("paste",de(this,be))},rs=function(fe){Object.entries(fe).some(([Se,gt])=>de(this,ce)[Se]!==gt)&&de(this,W).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(de(this,ce),fe)})},Ko=function(fe){de(this,W).dispatch("annotationeditorparamschanged",{source:this,details:fe})},hd=function(){if(!de(this,ne)){ln(this,ne,!0);for(const fe of de(this,L).values())fe.enable()}},pd=function(){if(this.unselectAll(),de(this,ne)){ln(this,ne,!1);for(const fe of de(this,L).values())fe.disable()}},su=function(fe){const xe=de(this,L).get(fe.pageIndex);xe?xe.addOrRebuild(fe):this.addEditor(fe)},Xo=function(){if(de(this,T).size===0)return!0;if(de(this,T).size===1)for(const fe of de(this,T).values())return fe.isEmpty();return!1},ou=function(fe){de(this,me).clear();for(const xe of fe)xe.isEmpty()||(de(this,me).add(xe),xe.select());Ft(this,he,rs).call(this,{hasSelectedEditor:!0})},wr(Fe,"_keyboardManager",new h([[["ctrl+a","mac+meta+a"],Fe.prototype.selectAll],[["ctrl+z","mac+meta+z"],Fe.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Fe.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Fe.prototype.delete],[["Escape","mac+Escape"],Fe.prototype.unselectAll]]));let g=Fe;e.AnnotationEditorUIManager=g},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=L,e.getColorValues=G,e.getCurrentTransform=W,e.getCurrentTransformInverse=J,e.getFilenameFromUrl=b,e.getPdfFilenameFromUrl=_,e.getRGB=P,e.getXfaPageViewport=O,e.isDataScheme=w,e.isPdfFile=v,e.isValidFetchUrl=k,e.loadScript=T,e.setLayerDimensions=ne;var i=n(7),s=n(1);const o="http://www.w3.org/2000/svg",l="pdfjs_internal_id_";e.AnnotationPrefix=l;const we=class we{};wr(we,"CSS",96),wr(we,"PDF",72),wr(we,"PDF_TO_CSS_UNITS",we.CSS/we.PDF);let c=we;e.PixelsPerInch=c;class f extends i.BaseCanvasFactory{constructor({ownerDocument:re=globalThis.document}={}){super(),this._document=re}_createCanvas(re,ee){const be=this._document.createElement("canvas");return be.width=re,be.height=ee,be}}e.DOMCanvasFactory=f;async function h(me,re=!1){if(k(me,document.baseURI)){const ee=await fetch(me);if(!ee.ok)throw new Error(ee.statusText);return re?new Uint8Array(await ee.arrayBuffer()):(0,s.stringToBytes)(await ee.text())}return new Promise((ee,be)=>{const ke=new XMLHttpRequest;ke.open("GET",me,!0),re&&(ke.responseType="arraybuffer"),ke.onreadystatechange=()=>{if(ke.readyState===XMLHttpRequest.DONE){if(ke.status===200||ke.status===0){let z;if(re&&ke.response?z=new Uint8Array(ke.response):!re&&ke.responseText&&(z=(0,s.stringToBytes)(ke.responseText)),z){ee(z);return}}be(new Error(ke.statusText))}},ke.send(null)})}class p extends i.BaseCMapReaderFactory{_fetchData(re,ee){return h(re,this.isCompressed).then(be=>({cMapData:be,compressionType:ee}))}}e.DOMCMapReaderFactory=p;class g extends i.BaseStandardFontDataFactory{_fetchData(re){return h(re,!0)}}e.DOMStandardFontDataFactory=g;class y extends i.BaseSVGFactory{_createSVG(re){return document.createElementNS(o,re)}}e.DOMSVGFactory=y;class x{constructor({viewBox:re,scale:ee,rotation:be,offsetX:ke=0,offsetY:z=0,dontFlip:j=!1}){this.viewBox=re,this.scale=ee,this.rotation=be,this.offsetX=ke,this.offsetY=z;const U=(re[2]+re[0])/2,Y=(re[3]+re[1])/2;let ce,ge,he,ye;switch(be%=360,be<0&&(be+=360),be){case 180:ce=-1,ge=0,he=0,ye=1;break;case 90:ce=0,ge=1,he=1,ye=0;break;case 270:ce=0,ge=-1,he=-1,ye=0;break;case 0:ce=1,ge=0,he=0,ye=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}j&&(he=-he,ye=-ye);let Ae,ot,Ie,V;ce===0?(Ae=Math.abs(Y-re[1])*ee+ke,ot=Math.abs(U-re[0])*ee+z,Ie=(re[3]-re[1])*ee,V=(re[2]-re[0])*ee):(Ae=Math.abs(U-re[0])*ee+ke,ot=Math.abs(Y-re[1])*ee+z,Ie=(re[2]-re[0])*ee,V=(re[3]-re[1])*ee),this.transform=[ce*ee,ge*ee,he*ee,ye*ee,Ae-ce*ee*U-he*ee*Y,ot-ge*ee*U-ye*ee*Y],this.width=Ie,this.height=V}get rawDims(){const{viewBox:re}=this;return(0,s.shadow)(this,"rawDims",{pageWidth:re[2]-re[0],pageHeight:re[3]-re[1],pageX:re[0],pageY:re[1]})}clone({scale:re=this.scale,rotation:ee=this.rotation,offsetX:be=this.offsetX,offsetY:ke=this.offsetY,dontFlip:z=!1}={}){return new x({viewBox:this.viewBox.slice(),scale:re,rotation:ee,offsetX:be,offsetY:ke,dontFlip:z})}convertToViewportPoint(re,ee){return s.Util.applyTransform([re,ee],this.transform)}convertToViewportRectangle(re){const ee=s.Util.applyTransform([re[0],re[1]],this.transform),be=s.Util.applyTransform([re[2],re[3]],this.transform);return[ee[0],ee[1],be[0],be[1]]}convertToPdfPoint(re,ee){return s.Util.applyInverseTransform([re,ee],this.transform)}}e.PageViewport=x;class S extends s.BaseException{constructor(re,ee,be=0){super(re,"RenderingCancelledException"),this.type=ee,this.extraDelay=be}}e.RenderingCancelledException=S;function w(me){const re=me.length;let ee=0;for(;ee<re&&me[ee].trim()==="";)ee++;return me.substring(ee,ee+5).toLowerCase()==="data:"}function v(me){return typeof me=="string"&&/\.pdf$/i.test(me)}function b(me,re=!1){return re||([me]=me.split(/[#?]/,1)),me.substring(me.lastIndexOf("/")+1)}function _(me,re="document.pdf"){if(typeof me!="string")return re;if(w(me))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),re;const ee=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,be=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ke=ee.exec(me);let z=be.exec(ke[1])||be.exec(ke[2])||be.exec(ke[3]);if(z&&(z=z[0],z.includes("%")))try{z=be.exec(decodeURIComponent(z))[0]}catch{}return z||re}class E{constructor(){wr(this,"started",Object.create(null));wr(this,"times",[])}time(re){re in this.started&&(0,s.warn)(`Timer is already running for ${re}`),this.started[re]=Date.now()}timeEnd(re){re in this.started||(0,s.warn)(`Timer has not been started for ${re}`),this.times.push({name:re,start:this.started[re],end:Date.now()}),delete this.started[re]}toString(){const re=[];let ee=0;for(const{name:be}of this.times)ee=Math.max(be.length,ee);for(const{name:be,start:ke,end:z}of this.times)re.push(`${be.padEnd(ee)} ${z-ke}ms
`);return re.join("")}}e.StatTimer=E;function k(me,re){try{const{protocol:ee}=re?new URL(me,re):new URL(me);return ee==="http:"||ee==="https:"}catch{return!1}}function T(me,re=!1){return new Promise((ee,be)=>{const ke=document.createElement("script");ke.src=me,ke.onload=function(z){re&&ke.remove(),ee(z)},ke.onerror=function(){be(new Error(`Cannot load script at: ${ke.src}`))},(document.head||document.documentElement).append(ke)})}function L(me){console.log("Deprecated API usage: "+me)}let F;class C{static toDateObject(re){if(!re||typeof re!="string")return null;F||(F=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ee=F.exec(re);if(!ee)return null;const be=parseInt(ee[1],10);let ke=parseInt(ee[2],10);ke=ke>=1&&ke<=12?ke-1:0;let z=parseInt(ee[3],10);z=z>=1&&z<=31?z:1;let j=parseInt(ee[4],10);j=j>=0&&j<=23?j:0;let U=parseInt(ee[5],10);U=U>=0&&U<=59?U:0;let Y=parseInt(ee[6],10);Y=Y>=0&&Y<=59?Y:0;const ce=ee[7]||"Z";let ge=parseInt(ee[8],10);ge=ge>=0&&ge<=23?ge:0;let he=parseInt(ee[9],10)||0;return he=he>=0&&he<=59?he:0,ce==="-"?(j+=ge,U+=he):ce==="+"&&(j-=ge,U-=he),new Date(Date.UTC(be,ke,z,j,U,Y))}}e.PDFDateString=C;function O(me,{scale:re=1,rotation:ee=0}){const{width:be,height:ke}=me.attributes.style,z=[0,0,parseInt(be),parseInt(ke)];return new x({viewBox:z,scale:re,rotation:ee})}function P(me){if(me.startsWith("#")){const re=parseInt(me.slice(1),16);return[(re&16711680)>>16,(re&65280)>>8,re&255]}return me.startsWith("rgb(")?me.slice(4,-1).split(",").map(re=>parseInt(re)):me.startsWith("rgba(")?me.slice(5,-1).split(",").map(re=>parseInt(re)).slice(0,3):((0,s.warn)(`Not a valid color format: "${me}"`),[0,0,0])}function G(me){const re=document.createElement("span");re.style.visibility="hidden",document.body.append(re);for(const ee of me.keys()){re.style.color=ee;const be=window.getComputedStyle(re).color;me.set(ee,P(be))}re.remove()}function W(me){const{a:re,b:ee,c:be,d:ke,e:z,f:j}=me.getTransform();return[re,ee,be,ke,z,j]}function J(me){const{a:re,b:ee,c:be,d:ke,e:z,f:j}=me.getTransform().invertSelf();return[re,ee,be,ke,z,j]}function ne(me,re,ee=!1,be=!0){if(re instanceof x){const{pageWidth:ke,pageHeight:z}=re.rawDims,{style:j}=me,U=`calc(var(--scale-factor) * ${ke}px)`,Y=`calc(var(--scale-factor) * ${z}px)`;!ee||re.rotation%180===0?(j.width=U,j.height=Y):(j.width=Y,j.height=U)}be&&me.setAttribute("data-main-rotation",re.rotation)}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var i=n(1);class s{constructor(){this.constructor===s&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(h,p){if(h<=0||p<=0)throw new Error("Invalid canvas size");const g=this._createCanvas(h,p);return{canvas:g,context:g.getContext("2d")}}reset(h,p,g){if(!h.canvas)throw new Error("Canvas is not specified");if(p<=0||g<=0)throw new Error("Invalid canvas size");h.canvas.width=p,h.canvas.height=g}destroy(h){if(!h.canvas)throw new Error("Canvas is not specified");h.canvas.width=0,h.canvas.height=0,h.canvas=null,h.context=null}_createCanvas(h,p){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=s;class o{constructor({baseUrl:h=null,isCompressed:p=!0}){this.constructor===o&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=h,this.isCompressed=p}async fetch({name:h}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!h)throw new Error("CMap name must be specified.");const p=this.baseUrl+h+(this.isCompressed?".bcmap":""),g=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(p,g).catch(y=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${p}`)})}_fetchData(h,p){(0,i.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=o;class l{constructor({baseUrl:h=null}){this.constructor===l&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=h}async fetch({filename:h}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!h)throw new Error("Font filename must be specified.");const p=`${this.baseUrl}${h}`;return this._fetchData(p).catch(g=>{throw new Error(`Unable to load font data at: ${p}`)})}_fetchData(h){(0,i.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=l;class c{constructor(){this.constructor===c&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(h,p,g=!1){if(h<=0||p<=0)throw new Error("Invalid SVG dimensions");const y=this._createSVG("svg:svg");return y.setAttribute("version","1.1"),g||(y.setAttribute("width",`${h}px`),y.setAttribute("height",`${p}px`)),y.setAttribute("preserveAspectRatio","none"),y.setAttribute("viewBox",`0 0 ${h} ${p}`),y}createElement(h){if(typeof h!="string")throw new Error("Invalid SVG element type");return this._createSVG(h)}_createSVG(h){(0,i.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=c},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var i=n(1);const s=3285377520,o=4294901760,l=65535;class c{constructor(h){this.h1=h?h&4294967295:s,this.h2=h?h&4294967295:s}update(h){let p,g;if(typeof h=="string"){p=new Uint8Array(h.length*2),g=0;for(let F=0,C=h.length;F<C;F++){const O=h.charCodeAt(F);O<=255?p[g++]=O:(p[g++]=O>>>8,p[g++]=O&255)}}else if((0,i.isArrayBuffer)(h))p=h.slice(),g=p.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const y=g>>2,x=g-y*4,S=new Uint32Array(p.buffer,0,y);let w=0,v=0,b=this.h1,_=this.h2;const E=3432918353,k=461845907,T=E&l,L=k&l;for(let F=0;F<y;F++)F&1?(w=S[F],w=w*E&o|w*T&l,w=w<<15|w>>>17,w=w*k&o|w*L&l,b^=w,b=b<<13|b>>>19,b=b*5+3864292196):(v=S[F],v=v*E&o|v*T&l,v=v<<15|v>>>17,v=v*k&o|v*L&l,_^=v,_=_<<13|_>>>19,_=_*5+3864292196);switch(w=0,x){case 3:w^=p[y*4+2]<<16;case 2:w^=p[y*4+1]<<8;case 1:w^=p[y*4],w=w*E&o|w*T&l,w=w<<15|w>>>17,w=w*k&o|w*L&l,y&1?b^=w:_^=w}this.h1=b,this.h2=_}hexdigest(){let h=this.h1,p=this.h2;return h^=p>>>1,h=h*3981806797&o|h*36045&l,p=p*4283543511&o|((p<<16|h>>>16)*2950163797&o)>>>16,h^=p>>>1,h=h*444984403&o|h*60499&l,p=p*3301882366&o|((p<<16|h>>>16)*3120437893&o)>>>16,h^=p>>>1,(h>>>0).toString(16).padStart(8,"0")+(p>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=c},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var i=n(1),s=n(10);class o{constructor({onUnsupportedFeature:f,ownerDocument:h=globalThis.document,styleElement:p=null}){this._onUnsupportedFeature=f,this._document=h,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(f){this.nativeFontFaces.push(f),this._document.fonts.add(f)}insertRule(f){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const h=this.styleElement.sheet;h.insertRule(f,h.cssRules.length)}clear(){for(const f of this.nativeFontFaces)this._document.fonts.delete(f);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(f){if(f.attached||f.missingFile)return;if(f.attached=!0,this.isFontLoadingAPISupported){const p=f.createNativeFontFace();if(p){this.addNativeFontFace(p);try{await p.loaded}catch(g){throw this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)(`Failed to load font '${p.family}': '${g}'.`),f.disableFontFace=!0,g}}return}const h=f.createFontFaceRule();if(h){if(this.insertRule(h),this.isSyncFontLoadingSupported)return;await new Promise(p=>{const g=this._queueLoadingCallback(p);this._prepareFontLoadEvent(f,g)})}}get isFontLoadingAPISupported(){var h;const f=!!((h=this._document)!=null&&h.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",f)}get isSyncFontLoadingSupported(){let f=!1;return(s.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(f=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",f)}_queueLoadingCallback(f){function h(){for((0,i.assert)(!g.done,"completeRequest() cannot be called twice."),g.done=!0;p.length>0&&p[0].done;){const y=p.shift();setTimeout(y.callback,0)}}const{loadingRequests:p}=this,g={done:!1,complete:h,callback:f};return p.push(g),g}get _loadTestFont(){const f=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",f)}_prepareFontLoadEvent(f,h){function p(G,W){return G.charCodeAt(W)<<24|G.charCodeAt(W+1)<<16|G.charCodeAt(W+2)<<8|G.charCodeAt(W+3)&255}function g(G,W,J,ne){const we=G.substring(0,W),me=G.substring(W+J);return we+ne+me}let y,x;const S=this._document.createElement("canvas");S.width=1,S.height=1;const w=S.getContext("2d");let v=0;function b(G,W){if(++v>30){(0,i.warn)("Load test font never loaded."),W();return}if(w.font="30px "+G,w.fillText(".",0,20),w.getImageData(0,0,1,1).data[3]>0){W();return}setTimeout(b.bind(null,G,W))}const _=`lt${Date.now()}${this.loadTestFontId++}`;let E=this._loadTestFont;E=g(E,976,_.length,_);const T=16,L=1482184792;let F=p(E,T);for(y=0,x=_.length-3;y<x;y+=4)F=F-L+p(_,y)|0;y<_.length&&(F=F-L+p(_+"XXX",y)|0),E=g(E,T,4,(0,i.string32)(F));const C=`url(data:font/opentype;base64,${btoa(E)});`,O=`@font-face {font-family:"${_}";src:${C}}`;this.insertRule(O);const P=this._document.createElement("div");P.style.visibility="hidden",P.style.width=P.style.height="10px",P.style.position="absolute",P.style.top=P.style.left="0px";for(const G of[f.loadedName,_]){const W=this._document.createElement("span");W.textContent="Hi",W.style.fontFamily=G,P.append(W)}this._document.body.append(P),b(_,()=>{P.remove(),h.complete()})}}e.FontLoader=o;class l{constructor(f,{isEvalSupported:h=!0,disableFontFace:p=!1,ignoreErrors:g=!1,onUnsupportedFeature:y,fontRegistry:x=null}){this.compiledGlyphs=Object.create(null);for(const S in f)this[S]=f[S];this.isEvalSupported=h!==!1,this.disableFontFace=p===!0,this.ignoreErrors=g===!0,this._onUnsupportedFeature=y,this.fontRegistry=x}createNativeFontFace(){var h;if(!this.data||this.disableFontFace)return null;let f;if(!this.cssFontInfo)f=new FontFace(this.loadedName,this.data,{});else{const p={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(p.style=`oblique ${this.cssFontInfo.italicAngle}deg`),f=new FontFace(this.cssFontInfo.fontFamily,this.data,p)}return(h=this.fontRegistry)==null||h.registerFont(this),f}createFontFaceRule(){var g;if(!this.data||this.disableFontFace)return null;const f=(0,i.bytesToString)(this.data),h=`url(data:${this.mimetype};base64,${btoa(f)});`;let p;if(!this.cssFontInfo)p=`@font-face {font-family:"${this.loadedName}";src:${h}}`;else{let y=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(y+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),p=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${y}src:${h}}`}return(g=this.fontRegistry)==null||g.registerFont(this,h),p}getPathGenerator(f,h){if(this.compiledGlyphs[h]!==void 0)return this.compiledGlyphs[h];let p;try{p=f.get(this.loadedName+"_path_"+h)}catch(g){if(!this.ignoreErrors)throw g;return this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)(`getPathGenerator - ignoring character: "${g}".`),this.compiledGlyphs[h]=function(y,x){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const g=[];for(const y of p){const x=y.args!==void 0?y.args.join(","):"";g.push("c.",y.cmd,"(",x,`);
`)}return this.compiledGlyphs[h]=new Function("c","size",g.join(""))}return this.compiledGlyphs[h]=function(g,y){for(const x of p)x.cmd==="scale"&&(x.args=[y,-y]),g[x.cmd].apply(g,x.args)}}}e.FontFaceObject=l},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const n=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=n},(t,e,n)=>{var ee,au;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var i=n(1),s=n(6),o=n(12),l=n(13);const c=16,f=100,h=4096,p=15,g=10,y=1e3,x=16;function S(z,j){if(z._removeMirroring)throw new Error("Context is already forwarding operations.");z.__originalSave=z.save,z.__originalRestore=z.restore,z.__originalRotate=z.rotate,z.__originalScale=z.scale,z.__originalTranslate=z.translate,z.__originalTransform=z.transform,z.__originalSetTransform=z.setTransform,z.__originalResetTransform=z.resetTransform,z.__originalClip=z.clip,z.__originalMoveTo=z.moveTo,z.__originalLineTo=z.lineTo,z.__originalBezierCurveTo=z.bezierCurveTo,z.__originalRect=z.rect,z.__originalClosePath=z.closePath,z.__originalBeginPath=z.beginPath,z._removeMirroring=()=>{z.save=z.__originalSave,z.restore=z.__originalRestore,z.rotate=z.__originalRotate,z.scale=z.__originalScale,z.translate=z.__originalTranslate,z.transform=z.__originalTransform,z.setTransform=z.__originalSetTransform,z.resetTransform=z.__originalResetTransform,z.clip=z.__originalClip,z.moveTo=z.__originalMoveTo,z.lineTo=z.__originalLineTo,z.bezierCurveTo=z.__originalBezierCurveTo,z.rect=z.__originalRect,z.closePath=z.__originalClosePath,z.beginPath=z.__originalBeginPath,delete z._removeMirroring},z.save=function(){j.save(),this.__originalSave()},z.restore=function(){j.restore(),this.__originalRestore()},z.translate=function(Y,ce){j.translate(Y,ce),this.__originalTranslate(Y,ce)},z.scale=function(Y,ce){j.scale(Y,ce),this.__originalScale(Y,ce)},z.transform=function(Y,ce,ge,he,ye,Ae){j.transform(Y,ce,ge,he,ye,Ae),this.__originalTransform(Y,ce,ge,he,ye,Ae)},z.setTransform=function(Y,ce,ge,he,ye,Ae){j.setTransform(Y,ce,ge,he,ye,Ae),this.__originalSetTransform(Y,ce,ge,he,ye,Ae)},z.resetTransform=function(){j.resetTransform(),this.__originalResetTransform()},z.rotate=function(Y){j.rotate(Y),this.__originalRotate(Y)},z.clip=function(Y){j.clip(Y),this.__originalClip(Y)},z.moveTo=function(U,Y){j.moveTo(U,Y),this.__originalMoveTo(U,Y)},z.lineTo=function(U,Y){j.lineTo(U,Y),this.__originalLineTo(U,Y)},z.bezierCurveTo=function(U,Y,ce,ge,he,ye){j.bezierCurveTo(U,Y,ce,ge,he,ye),this.__originalBezierCurveTo(U,Y,ce,ge,he,ye)},z.rect=function(U,Y,ce,ge){j.rect(U,Y,ce,ge),this.__originalRect(U,Y,ce,ge)},z.closePath=function(){j.closePath(),this.__originalClosePath()},z.beginPath=function(){j.beginPath(),this.__originalBeginPath()}}class w{constructor(j){this.canvasFactory=j,this.cache=Object.create(null)}getCanvas(j,U,Y){let ce;return this.cache[j]!==void 0?(ce=this.cache[j],this.canvasFactory.reset(ce,U,Y)):(ce=this.canvasFactory.create(U,Y),this.cache[j]=ce),ce}delete(j){delete this.cache[j]}clear(){for(const j in this.cache){const U=this.cache[j];this.canvasFactory.destroy(U),delete this.cache[j]}}}function v(z,j,U,Y,ce,ge,he,ye,Ae,ot){const[Ie,V,K,ae,ue,Z]=(0,s.getCurrentTransform)(z);if(V===0&&K===0){const Fe=he*Ie+ue,it=Math.round(Fe),fe=ye*ae+Z,xe=Math.round(fe),Se=(he+Ae)*Ie+ue,gt=Math.abs(Math.round(Se)-it)||1,qe=(ye+ot)*ae+Z,dt=Math.abs(Math.round(qe)-xe)||1;return z.setTransform(Math.sign(Ie),0,0,Math.sign(ae),it,xe),z.drawImage(j,U,Y,ce,ge,0,0,gt,dt),z.setTransform(Ie,V,K,ae,ue,Z),[gt,dt]}if(Ie===0&&ae===0){const Fe=ye*K+ue,it=Math.round(Fe),fe=he*V+Z,xe=Math.round(fe),Se=(ye+ot)*K+ue,gt=Math.abs(Math.round(Se)-it)||1,qe=(he+Ae)*V+Z,dt=Math.abs(Math.round(qe)-xe)||1;return z.setTransform(0,Math.sign(V),Math.sign(K),0,it,xe),z.drawImage(j,U,Y,ce,ge,0,0,dt,gt),z.setTransform(Ie,V,K,ae,ue,Z),[dt,gt]}z.drawImage(j,U,Y,ce,ge,he,ye,Ae,ot);const ve=Math.hypot(Ie,V),Pe=Math.hypot(K,ae);return[ve*Ae,Pe*ot]}function b(z){const{width:j,height:U}=z;if(j>y||U>y)return null;const Y=1e3,ce=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ge=j+1;let he=new Uint8Array(ge*(U+1)),ye,Ae,ot;const Ie=j+7&-8;let V=new Uint8Array(Ie*U),K=0;for(const Pe of z.data){let Fe=128;for(;Fe>0;)V[K++]=Pe&Fe?0:255,Fe>>=1}let ae=0;for(K=0,V[K]!==0&&(he[0]=1,++ae),Ae=1;Ae<j;Ae++)V[K]!==V[K+1]&&(he[Ae]=V[K]?2:1,++ae),K++;for(V[K]!==0&&(he[Ae]=2,++ae),ye=1;ye<U;ye++){K=ye*Ie,ot=ye*ge,V[K-Ie]!==V[K]&&(he[ot]=V[K]?1:8,++ae);let Pe=(V[K]?4:0)+(V[K-Ie]?8:0);for(Ae=1;Ae<j;Ae++)Pe=(Pe>>2)+(V[K+1]?4:0)+(V[K-Ie+1]?8:0),ce[Pe]&&(he[ot+Ae]=ce[Pe],++ae),K++;if(V[K-Ie]!==V[K]&&(he[ot+Ae]=V[K]?2:4,++ae),ae>Y)return null}for(K=Ie*(U-1),ot=ye*ge,V[K]!==0&&(he[ot]=8,++ae),Ae=1;Ae<j;Ae++)V[K]!==V[K+1]&&(he[ot+Ae]=V[K]?4:8,++ae),K++;if(V[K]!==0&&(he[ot+Ae]=4,++ae),ae>Y)return null;const ue=new Int32Array([0,ge,-1,0,-ge,0,0,0,1]),Z=new Path2D;for(ye=0;ae&&ye<=U;ye++){let Pe=ye*ge;const Fe=Pe+j;for(;Pe<Fe&&!he[Pe];)Pe++;if(Pe===Fe)continue;Z.moveTo(Pe%ge,ye);const it=Pe;let fe=he[Pe];do{const xe=ue[fe];do Pe+=xe;while(!he[Pe]);const Se=he[Pe];Se!==5&&Se!==10?(fe=Se,he[Pe]=0):(fe=Se&51*fe>>4,he[Pe]&=fe>>2|fe<<2),Z.lineTo(Pe%ge,Pe/ge|0),he[Pe]||--ae}while(it!==Pe);--ye}return V=null,he=null,function(Pe){Pe.save(),Pe.scale(1/j,-1/U),Pe.translate(0,-U),Pe.fill(Z),Pe.beginPath(),Pe.restore()}}class _{constructor(j,U){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,j,U])}clone(){const j=Object.create(this);return j.clipBox=this.clipBox.slice(),j}setCurrentPoint(j,U){this.x=j,this.y=U}updatePathMinMax(j,U,Y){[U,Y]=i.Util.applyTransform([U,Y],j),this.minX=Math.min(this.minX,U),this.minY=Math.min(this.minY,Y),this.maxX=Math.max(this.maxX,U),this.maxY=Math.max(this.maxY,Y)}updateRectMinMax(j,U){const Y=i.Util.applyTransform(U,j),ce=i.Util.applyTransform(U.slice(2),j);this.minX=Math.min(this.minX,Y[0],ce[0]),this.minY=Math.min(this.minY,Y[1],ce[1]),this.maxX=Math.max(this.maxX,Y[0],ce[0]),this.maxY=Math.max(this.maxY,Y[1],ce[1])}updateScalingPathMinMax(j,U){i.Util.scaleMinMax(j,U),this.minX=Math.min(this.minX,U[0]),this.maxX=Math.max(this.maxX,U[1]),this.minY=Math.min(this.minY,U[2]),this.maxY=Math.max(this.maxY,U[3])}updateCurvePathMinMax(j,U,Y,ce,ge,he,ye,Ae,ot,Ie){const V=i.Util.bezierBoundingBox(U,Y,ce,ge,he,ye,Ae,ot);if(Ie){Ie[0]=Math.min(Ie[0],V[0],V[2]),Ie[1]=Math.max(Ie[1],V[0],V[2]),Ie[2]=Math.min(Ie[2],V[1],V[3]),Ie[3]=Math.max(Ie[3],V[1],V[3]);return}this.updateRectMinMax(j,V)}getPathBoundingBox(j=o.PathType.FILL,U=null){const Y=[this.minX,this.minY,this.maxX,this.maxY];if(j===o.PathType.STROKE){U||(0,i.unreachable)("Stroke bounding box must include transform.");const ce=i.Util.singularValueDecompose2dScale(U),ge=ce[0]*this.lineWidth/2,he=ce[1]*this.lineWidth/2;Y[0]-=ge,Y[1]-=he,Y[2]+=ge,Y[3]+=he}return Y}updateClipFromPath(){const j=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(j||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(j){this.clipBox=j,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(j=o.PathType.FILL,U=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(j,U))}}function E(z,j,U=null){if(typeof ImageData<"u"&&j instanceof ImageData){z.putImageData(j,0,0);return}const Y=j.height,ce=j.width,ge=Y%x,he=(Y-ge)/x,ye=ge===0?he:he+1,Ae=z.createImageData(ce,x);let ot=0,Ie;const V=j.data,K=Ae.data;let ae,ue,Z,ve,Pe,Fe,it,fe;if(U)switch(U.length){case 1:Pe=U[0],Fe=U[0],it=U[0],fe=U[0];break;case 4:Pe=U[0],Fe=U[1],it=U[2],fe=U[3];break}if(j.kind===i.ImageKind.GRAYSCALE_1BPP){const xe=V.byteLength,Se=new Uint32Array(K.buffer,0,K.byteLength>>2),gt=Se.length,qe=ce+7>>3;let dt=4294967295,yt=i.FeatureTest.isLittleEndian?4278190080:255;for(fe&&fe[0]===255&&fe[255]===0&&([dt,yt]=[yt,dt]),ae=0;ae<ye;ae++){for(Z=ae<he?x:ge,Ie=0,ue=0;ue<Z;ue++){const Nt=xe-ot;let nn=0;const zt=Nt>qe?ce:Nt*8-7,mt=zt&-8;let Ue=0,Me=0;for(;nn<mt;nn+=8)Me=V[ot++],Se[Ie++]=Me&128?dt:yt,Se[Ie++]=Me&64?dt:yt,Se[Ie++]=Me&32?dt:yt,Se[Ie++]=Me&16?dt:yt,Se[Ie++]=Me&8?dt:yt,Se[Ie++]=Me&4?dt:yt,Se[Ie++]=Me&2?dt:yt,Se[Ie++]=Me&1?dt:yt;for(;nn<zt;nn++)Ue===0&&(Me=V[ot++],Ue=128),Se[Ie++]=Me&Ue?dt:yt,Ue>>=1}for(;Ie<gt;)Se[Ie++]=0;z.putImageData(Ae,0,ae*x)}}else if(j.kind===i.ImageKind.RGBA_32BPP){const xe=!!(Pe||Fe||it);for(ue=0,ve=ce*x*4,ae=0;ae<he;ae++){if(K.set(V.subarray(ot,ot+ve)),ot+=ve,xe)for(let Se=0;Se<ve;Se+=4)Pe&&(K[Se+0]=Pe[K[Se+0]]),Fe&&(K[Se+1]=Fe[K[Se+1]]),it&&(K[Se+2]=it[K[Se+2]]);z.putImageData(Ae,0,ue),ue+=x}if(ae<ye){if(ve=ce*ge*4,K.set(V.subarray(ot,ot+ve)),xe)for(let Se=0;Se<ve;Se+=4)Pe&&(K[Se+0]=Pe[K[Se+0]]),Fe&&(K[Se+1]=Fe[K[Se+1]]),it&&(K[Se+2]=it[K[Se+2]]);z.putImageData(Ae,0,ue)}}else if(j.kind===i.ImageKind.RGB_24BPP){const xe=!!(Pe||Fe||it);for(Z=x,ve=ce*Z,ae=0;ae<ye;ae++){for(ae>=he&&(Z=ge,ve=ce*Z),Ie=0,ue=ve;ue--;)K[Ie++]=V[ot++],K[Ie++]=V[ot++],K[Ie++]=V[ot++],K[Ie++]=255;if(xe)for(let Se=0;Se<Ie;Se+=4)Pe&&(K[Se+0]=Pe[K[Se+0]]),Fe&&(K[Se+1]=Fe[K[Se+1]]),it&&(K[Se+2]=it[K[Se+2]]);z.putImageData(Ae,0,ae*x)}}else throw new Error(`bad image kind: ${j.kind}`)}function k(z,j){if(j.bitmap){z.drawImage(j.bitmap,0,0);return}const U=j.height,Y=j.width,ce=U%x,ge=(U-ce)/x,he=ce===0?ge:ge+1,ye=z.createImageData(Y,x);let Ae=0;const ot=j.data,Ie=ye.data;for(let V=0;V<he;V++){const K=V<ge?x:ce;({srcPos:Ae}=(0,l.applyMaskImageData)({src:ot,srcPos:Ae,dest:Ie,width:Y,height:K})),z.putImageData(ye,0,V*x)}}function T(z,j){const U=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const Y of U)z[Y]!==void 0&&(j[Y]=z[Y]);z.setLineDash!==void 0&&(j.setLineDash(z.getLineDash()),j.lineDashOffset=z.lineDashOffset)}function L(z,j){z.strokeStyle=z.fillStyle=j||"#000000",z.fillRule="nonzero",z.globalAlpha=1,z.lineWidth=1,z.lineCap="butt",z.lineJoin="miter",z.miterLimit=10,z.globalCompositeOperation="source-over",z.font="10px sans-serif",z.setLineDash!==void 0&&(z.setLineDash([]),z.lineDashOffset=0)}function F(z,j,U,Y){const ce=z.length;for(let ge=3;ge<ce;ge+=4){const he=z[ge];if(he===0)z[ge-3]=j,z[ge-2]=U,z[ge-1]=Y;else if(he<255){const ye=255-he;z[ge-3]=z[ge-3]*he+j*ye>>8,z[ge-2]=z[ge-2]*he+U*ye>>8,z[ge-1]=z[ge-1]*he+Y*ye>>8}}}function C(z,j,U){const Y=z.length,ce=1/255;for(let ge=3;ge<Y;ge+=4){const he=U?U[z[ge]]:z[ge];j[ge]=j[ge]*he*ce|0}}function O(z,j,U){const Y=z.length;for(let ce=3;ce<Y;ce+=4){const ge=z[ce-3]*77+z[ce-2]*152+z[ce-1]*28;j[ce]=U?j[ce]*U[ge>>8]>>8:j[ce]*ge>>16}}function P(z,j,U,Y,ce,ge,he,ye,Ae,ot,Ie){const V=!!ge,K=V?ge[0]:0,ae=V?ge[1]:0,ue=V?ge[2]:0;let Z;ce==="Luminosity"?Z=O:Z=C;const Pe=Math.min(Y,Math.ceil(1048576/U));for(let Fe=0;Fe<Y;Fe+=Pe){const it=Math.min(Pe,Y-Fe),fe=z.getImageData(ye-ot,Fe+(Ae-Ie),U,it),xe=j.getImageData(ye,Fe+Ae,U,it);V&&F(fe.data,K,ae,ue),Z(fe.data,xe.data,he),j.putImageData(xe,ye,Fe+Ae)}}function G(z,j,U,Y){const ce=Y[0],ge=Y[1],he=Y[2]-ce,ye=Y[3]-ge;he===0||ye===0||(P(j.context,U,he,ye,j.subtype,j.backdrop,j.transferMap,ce,ge,j.offsetX,j.offsetY),z.save(),z.globalAlpha=1,z.globalCompositeOperation="source-over",z.setTransform(1,0,0,1,0,0),z.drawImage(U.canvas,0,0),z.restore())}function W(z,j){const U=i.Util.singularValueDecompose2dScale(z);U[0]=Math.fround(U[0]),U[1]=Math.fround(U[1]);const Y=Math.fround((globalThis.devicePixelRatio||1)*s.PixelsPerInch.PDF_TO_CSS_UNITS);return j!==void 0?j:U[0]<=Y||U[1]<=Y}const J=["butt","round","square"],ne=["miter","round","bevel"],we={},me={},ke=class ke{constructor(j,U,Y,ce,{optionalContentConfig:ge,markedContentStack:he=null},ye,Ae){Gt(this,ee);this.ctx=j,this.current=new _(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=U,this.objs=Y,this.canvasFactory=ce,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=he||[],this.optionalContentConfig=ge,this.cachedCanvases=new w(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ye,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Ae==null?void 0:Ae.background)||null,this.foregroundColor=(Ae==null?void 0:Ae.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(j,U=null){return typeof j=="string"?j.startsWith("g_")?this.commonObjs.get(j):this.objs.get(j):U}beginDrawing({transform:j,viewport:U,transparency:Y=!1,background:ce=null}){const ge=this.ctx.canvas.width,he=this.ctx.canvas.height,ye=ce||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Ae=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ot=this.backgroundColor=this.ctx.fillStyle;let Ie=!0,V=ye;if(this.ctx.fillStyle=ye,V=this.ctx.fillStyle,Ie=typeof V=="string"&&/^#[0-9A-Fa-f]{6}$/.test(V),Ae==="#000000"&&ot==="#ffffff"||Ae===ot||!Ie)this.foregroundColor=this.backgroundColor=null;else{const[K,ae,ue]=(0,s.getRGB)(V),Z=Pe=>(Pe/=255,Pe<=.03928?Pe/12.92:((Pe+.055)/1.055)**2.4),ve=Math.round(.2126*Z(K)+.7152*Z(ae)+.0722*Z(ue));this.selectColor=(Pe,Fe,it)=>{const fe=.2126*Z(Pe)+.7152*Z(Fe)+.0722*Z(it);return Math.round(fe)===ve?ot:Ae}}}if(this.ctx.fillStyle=this.backgroundColor||ye,this.ctx.fillRect(0,0,ge,he),this.ctx.restore(),Y){const Ae=this.cachedCanvases.getCanvas("transparent",ge,he);this.compositeCtx=this.ctx,this.transparentCanvas=Ae.canvas,this.ctx=Ae.context,this.ctx.save(),this.ctx.transform(...(0,s.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),L(this.ctx,this.foregroundColor),j&&(this.ctx.transform(...j),this.outputScaleX=j[0],this.outputScaleY=j[0]),this.ctx.transform(...U.transform),this.viewportScale=U.scale,this.baseTransform=(0,s.getCurrentTransform)(this.ctx)}executeOperatorList(j,U,Y,ce){const ge=j.argsArray,he=j.fnArray;let ye=U||0;const Ae=ge.length;if(Ae===ye)return ye;const ot=Ae-ye>g&&typeof Y=="function",Ie=ot?Date.now()+p:0;let V=0;const K=this.commonObjs,ae=this.objs;let ue;for(;;){if(ce!==void 0&&ye===ce.nextBreakPoint)return ce.breakIt(ye,Y),ye;if(ue=he[ye],ue!==i.OPS.dependency)this[ue].apply(this,ge[ye]);else for(const Z of ge[ye]){const ve=Z.startsWith("g_")?K:ae;if(!ve.has(Z))return ve.get(Z,Y),ye}if(ye++,ye===Ae)return ye;if(ot&&++V>g){if(Date.now()>Ie)return Y(),ye;V=0}}}endDrawing(){Ft(this,ee,au).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const j of this._cachedBitmapsMap.values()){for(const U of j.values())typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement&&(U.width=U.height=0);j.clear()}this._cachedBitmapsMap.clear()}_scaleImage(j,U){const Y=j.width,ce=j.height;let ge=Math.max(Math.hypot(U[0],U[1]),1),he=Math.max(Math.hypot(U[2],U[3]),1),ye=Y,Ae=ce,ot="prescale1",Ie,V;for(;ge>2&&ye>1||he>2&&Ae>1;){let K=ye,ae=Ae;ge>2&&ye>1&&(K=Math.ceil(ye/2),ge/=ye/K),he>2&&Ae>1&&(ae=Math.ceil(Ae/2),he/=Ae/ae),Ie=this.cachedCanvases.getCanvas(ot,K,ae),V=Ie.context,V.clearRect(0,0,K,ae),V.drawImage(j,0,0,ye,Ae,0,0,K,ae),j=Ie.canvas,ye=K,Ae=ae,ot=ot==="prescale1"?"prescale2":"prescale1"}return{img:j,paintWidth:ye,paintHeight:Ae}}_createMaskCanvas(j){const U=this.ctx,{width:Y,height:ce}=j,ge=this.current.fillColor,he=this.current.patternFill,ye=(0,s.getCurrentTransform)(U);let Ae,ot,Ie,V;if((j.bitmap||j.data)&&j.count>1){const gt=j.bitmap||j.data.buffer;ot=JSON.stringify(he?ye:[ye.slice(0,4),ge]),Ae=this._cachedBitmapsMap.get(gt),Ae||(Ae=new Map,this._cachedBitmapsMap.set(gt,Ae));const qe=Ae.get(ot);if(qe&&!he){const dt=Math.round(Math.min(ye[0],ye[2])+ye[4]),yt=Math.round(Math.min(ye[1],ye[3])+ye[5]);return{canvas:qe,offsetX:dt,offsetY:yt}}Ie=qe}Ie||(V=this.cachedCanvases.getCanvas("maskCanvas",Y,ce),k(V.context,j));let K=i.Util.transform(ye,[1/Y,0,0,-1/ce,0,0]);K=i.Util.transform(K,[1,0,0,1,0,-ce]);const ae=i.Util.applyTransform([0,0],K),ue=i.Util.applyTransform([Y,ce],K),Z=i.Util.normalizeRect([ae[0],ae[1],ue[0],ue[1]]),ve=Math.round(Z[2]-Z[0])||1,Pe=Math.round(Z[3]-Z[1])||1,Fe=this.cachedCanvases.getCanvas("fillCanvas",ve,Pe),it=Fe.context,fe=Math.min(ae[0],ue[0]),xe=Math.min(ae[1],ue[1]);it.translate(-fe,-xe),it.transform(...K),Ie||(Ie=this._scaleImage(V.canvas,(0,s.getCurrentTransformInverse)(it)),Ie=Ie.img,Ae&&he&&Ae.set(ot,Ie)),it.imageSmoothingEnabled=W((0,s.getCurrentTransform)(it),j.interpolate),v(it,Ie,0,0,Ie.width,Ie.height,0,0,Y,ce),it.globalCompositeOperation="source-in";const Se=i.Util.transform((0,s.getCurrentTransformInverse)(it),[1,0,0,1,-fe,-xe]);return it.fillStyle=he?ge.getPattern(U,this,Se,o.PathType.FILL):ge,it.fillRect(0,0,Y,ce),Ae&&!he&&(this.cachedCanvases.delete("fillCanvas"),Ae.set(ot,Fe.canvas)),{canvas:Fe.canvas,offsetX:Math.round(fe),offsetY:Math.round(xe)}}setLineWidth(j){j!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=j,this.ctx.lineWidth=j}setLineCap(j){this.ctx.lineCap=J[j]}setLineJoin(j){this.ctx.lineJoin=ne[j]}setMiterLimit(j){this.ctx.miterLimit=j}setDash(j,U){const Y=this.ctx;Y.setLineDash!==void 0&&(Y.setLineDash(j),Y.lineDashOffset=U)}setRenderingIntent(j){}setFlatness(j){}setGState(j){for(const[U,Y]of j)switch(U){case"LW":this.setLineWidth(Y);break;case"LC":this.setLineCap(Y);break;case"LJ":this.setLineJoin(Y);break;case"ML":this.setMiterLimit(Y);break;case"D":this.setDash(Y[0],Y[1]);break;case"RI":this.setRenderingIntent(Y);break;case"FL":this.setFlatness(Y);break;case"Font":this.setFont(Y[0],Y[1]);break;case"CA":this.current.strokeAlpha=Y;break;case"ca":this.current.fillAlpha=Y,this.ctx.globalAlpha=Y;break;case"BM":this.ctx.globalCompositeOperation=Y;break;case"SMask":this.current.activeSMask=Y?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Y}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const j=this.inSMaskMode;this.current.activeSMask&&!j?this.beginSMaskMode():!this.current.activeSMask&&j&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const j=this.ctx.canvas.width,U=this.ctx.canvas.height,Y="smaskGroupAt"+this.groupLevel,ce=this.cachedCanvases.getCanvas(Y,j,U);this.suspendedCtx=this.ctx,this.ctx=ce.context;const ge=this.ctx;ge.setTransform(...(0,s.getCurrentTransform)(this.suspendedCtx)),T(this.suspendedCtx,ge),S(ge,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),T(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(j){if(!this.current.activeSMask)return;j?(j[0]=Math.floor(j[0]),j[1]=Math.floor(j[1]),j[2]=Math.ceil(j[2]),j[3]=Math.ceil(j[3])):j=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const U=this.current.activeSMask,Y=this.suspendedCtx;G(Y,U,this.ctx,j),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(T(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const j=this.current;this.stateStack.push(j),this.current=j.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),T(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(j,U,Y,ce,ge,he){this.ctx.transform(j,U,Y,ce,ge,he),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(j,U,Y){const ce=this.ctx,ge=this.current;let he=ge.x,ye=ge.y,Ae,ot;const Ie=(0,s.getCurrentTransform)(ce),V=Ie[0]===0&&Ie[3]===0||Ie[1]===0&&Ie[2]===0,K=V?Y.slice(0):null;for(let ae=0,ue=0,Z=j.length;ae<Z;ae++)switch(j[ae]|0){case i.OPS.rectangle:he=U[ue++],ye=U[ue++];const ve=U[ue++],Pe=U[ue++],Fe=he+ve,it=ye+Pe;ce.moveTo(he,ye),ve===0||Pe===0?ce.lineTo(Fe,it):(ce.lineTo(Fe,ye),ce.lineTo(Fe,it),ce.lineTo(he,it)),V||ge.updateRectMinMax(Ie,[he,ye,Fe,it]),ce.closePath();break;case i.OPS.moveTo:he=U[ue++],ye=U[ue++],ce.moveTo(he,ye),V||ge.updatePathMinMax(Ie,he,ye);break;case i.OPS.lineTo:he=U[ue++],ye=U[ue++],ce.lineTo(he,ye),V||ge.updatePathMinMax(Ie,he,ye);break;case i.OPS.curveTo:Ae=he,ot=ye,he=U[ue+4],ye=U[ue+5],ce.bezierCurveTo(U[ue],U[ue+1],U[ue+2],U[ue+3],he,ye),ge.updateCurvePathMinMax(Ie,Ae,ot,U[ue],U[ue+1],U[ue+2],U[ue+3],he,ye,K),ue+=6;break;case i.OPS.curveTo2:Ae=he,ot=ye,ce.bezierCurveTo(he,ye,U[ue],U[ue+1],U[ue+2],U[ue+3]),ge.updateCurvePathMinMax(Ie,Ae,ot,he,ye,U[ue],U[ue+1],U[ue+2],U[ue+3],K),he=U[ue+2],ye=U[ue+3],ue+=4;break;case i.OPS.curveTo3:Ae=he,ot=ye,he=U[ue+2],ye=U[ue+3],ce.bezierCurveTo(U[ue],U[ue+1],he,ye,he,ye),ge.updateCurvePathMinMax(Ie,Ae,ot,U[ue],U[ue+1],he,ye,he,ye,K),ue+=4;break;case i.OPS.closePath:ce.closePath();break}V&&ge.updateScalingPathMinMax(Ie,K),ge.setCurrentPoint(he,ye)}closePath(){this.ctx.closePath()}stroke(j=!0){const U=this.ctx,Y=this.current.strokeColor;U.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Y=="object"&&(Y!=null&&Y.getPattern)?(U.save(),U.strokeStyle=Y.getPattern(U,this,(0,s.getCurrentTransformInverse)(U),o.PathType.STROKE),this.rescaleAndStroke(!1),U.restore()):this.rescaleAndStroke(!0)),j&&this.consumePath(this.current.getClippedPathBoundingBox()),U.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(j=!0){const U=this.ctx,Y=this.current.fillColor,ce=this.current.patternFill;let ge=!1;ce&&(U.save(),U.fillStyle=Y.getPattern(U,this,(0,s.getCurrentTransformInverse)(U),o.PathType.FILL),ge=!0);const he=this.current.getClippedPathBoundingBox();this.contentVisible&&he!==null&&(this.pendingEOFill?(U.fill("evenodd"),this.pendingEOFill=!1):U.fill()),ge&&U.restore(),j&&this.consumePath(he)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=we}eoClip(){this.pendingClip=me}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const j=this.pendingTextPaths,U=this.ctx;if(j===void 0){U.beginPath();return}U.save(),U.beginPath();for(const Y of j)U.setTransform(...Y.transform),U.translate(Y.x,Y.y),Y.addToPath(U,Y.fontSize);U.restore(),U.clip(),U.beginPath(),delete this.pendingTextPaths}setCharSpacing(j){this.current.charSpacing=j}setWordSpacing(j){this.current.wordSpacing=j}setHScale(j){this.current.textHScale=j/100}setLeading(j){this.current.leading=-j}setFont(j,U){const Y=this.commonObjs.get(j),ce=this.current;if(!Y)throw new Error(`Can't find font for ${j}`);if(ce.fontMatrix=Y.fontMatrix||i.FONT_IDENTITY_MATRIX,(ce.fontMatrix[0]===0||ce.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+j),U<0?(U=-U,ce.fontDirection=-1):ce.fontDirection=1,this.current.font=Y,this.current.fontSize=U,Y.isType3Font)return;const ge=Y.loadedName||"sans-serif";let he="normal";Y.black?he="900":Y.bold&&(he="bold");const ye=Y.italic?"italic":"normal",Ae=`"${ge}", ${Y.fallbackName}`;let ot=U;U<c?ot=c:U>f&&(ot=f),this.current.fontSizeScale=U/ot,this.ctx.font=`${ye} ${he} ${ot}px ${Ae}`}setTextRenderingMode(j){this.current.textRenderingMode=j}setTextRise(j){this.current.textRise=j}moveText(j,U){this.current.x=this.current.lineX+=j,this.current.y=this.current.lineY+=U}setLeadingMoveText(j,U){this.setLeading(-U),this.moveText(j,U)}setTextMatrix(j,U,Y,ce,ge,he){this.current.textMatrix=[j,U,Y,ce,ge,he],this.current.textMatrixScale=Math.hypot(j,U),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(j,U,Y,ce){const ge=this.ctx,he=this.current,ye=he.font,Ae=he.textRenderingMode,ot=he.fontSize/he.fontSizeScale,Ie=Ae&i.TextRenderingMode.FILL_STROKE_MASK,V=!!(Ae&i.TextRenderingMode.ADD_TO_PATH_FLAG),K=he.patternFill&&!ye.missingFile;let ae;(ye.disableFontFace||V||K)&&(ae=ye.getPathGenerator(this.commonObjs,j)),ye.disableFontFace||K?(ge.save(),ge.translate(U,Y),ge.beginPath(),ae(ge,ot),ce&&ge.setTransform(...ce),(Ie===i.TextRenderingMode.FILL||Ie===i.TextRenderingMode.FILL_STROKE)&&ge.fill(),(Ie===i.TextRenderingMode.STROKE||Ie===i.TextRenderingMode.FILL_STROKE)&&ge.stroke(),ge.restore()):((Ie===i.TextRenderingMode.FILL||Ie===i.TextRenderingMode.FILL_STROKE)&&ge.fillText(j,U,Y),(Ie===i.TextRenderingMode.STROKE||Ie===i.TextRenderingMode.FILL_STROKE)&&ge.strokeText(j,U,Y)),V&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,s.getCurrentTransform)(ge),x:U,y:Y,fontSize:ot,addToPath:ae})}get isFontSubpixelAAEnabled(){const{context:j}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);j.scale(1.5,1),j.fillText("I",0,10);const U=j.getImageData(0,0,10,10).data;let Y=!1;for(let ce=3;ce<U.length;ce+=4)if(U[ce]>0&&U[ce]<255){Y=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",Y)}showText(j){const U=this.current,Y=U.font;if(Y.isType3Font)return this.showType3Text(j);const ce=U.fontSize;if(ce===0)return;const ge=this.ctx,he=U.fontSizeScale,ye=U.charSpacing,Ae=U.wordSpacing,ot=U.fontDirection,Ie=U.textHScale*ot,V=j.length,K=Y.vertical,ae=K?1:-1,ue=Y.defaultVMetrics,Z=ce*U.fontMatrix[0],ve=U.textRenderingMode===i.TextRenderingMode.FILL&&!Y.disableFontFace&&!U.patternFill;ge.save(),ge.transform(...U.textMatrix),ge.translate(U.x,U.y+U.textRise),ot>0?ge.scale(Ie,-1):ge.scale(Ie,1);let Pe;if(U.patternFill){ge.save();const Se=U.fillColor.getPattern(ge,this,(0,s.getCurrentTransformInverse)(ge),o.PathType.FILL);Pe=(0,s.getCurrentTransform)(ge),ge.restore(),ge.fillStyle=Se}let Fe=U.lineWidth;const it=U.textMatrixScale;if(it===0||Fe===0){const Se=U.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(Se===i.TextRenderingMode.STROKE||Se===i.TextRenderingMode.FILL_STROKE)&&(Fe=this.getSinglePixelWidth())}else Fe/=it;if(he!==1&&(ge.scale(he,he),Fe/=he),ge.lineWidth=Fe,Y.isInvalidPDFjsFont){const Se=[];let gt=0;for(const qe of j)Se.push(qe.unicode),gt+=qe.width;ge.fillText(Se.join(""),0,0),U.x+=gt*Z*Ie,ge.restore(),this.compose();return}let fe=0,xe;for(xe=0;xe<V;++xe){const Se=j[xe];if(typeof Se=="number"){fe+=ae*Se*ce/1e3;continue}let gt=!1;const qe=(Se.isSpace?Ae:0)+ye,dt=Se.fontChar,yt=Se.accent;let Nt,nn,zt=Se.width;if(K){const Ue=Se.vmetric||ue,Me=-(Se.vmetric?Ue[1]:zt*.5)*Z,Mt=Ue[2]*Z;zt=Ue?-Ue[0]:zt,Nt=Me/he,nn=(fe+Mt)/he}else Nt=fe/he,nn=0;if(Y.remeasure&&zt>0){const Ue=ge.measureText(dt).width*1e3/ce*he;if(zt<Ue&&this.isFontSubpixelAAEnabled){const Me=zt/Ue;gt=!0,ge.save(),ge.scale(Me,1),Nt/=Me}else zt!==Ue&&(Nt+=(zt-Ue)/2e3*ce/he)}if(this.contentVisible&&(Se.isInFont||Y.missingFile)){if(ve&&!yt)ge.fillText(dt,Nt,nn);else if(this.paintChar(dt,Nt,nn,Pe),yt){const Ue=Nt+ce*yt.offset.x/he,Me=nn-ce*yt.offset.y/he;this.paintChar(yt.fontChar,Ue,Me,Pe)}}let mt;K?mt=zt*Z-qe*ot:mt=zt*Z+qe*ot,fe+=mt,gt&&ge.restore()}K?U.y-=fe:U.x+=fe*Ie,ge.restore(),this.compose()}showType3Text(j){const U=this.ctx,Y=this.current,ce=Y.font,ge=Y.fontSize,he=Y.fontDirection,ye=ce.vertical?1:-1,Ae=Y.charSpacing,ot=Y.wordSpacing,Ie=Y.textHScale*he,V=Y.fontMatrix||i.FONT_IDENTITY_MATRIX,K=j.length,ae=Y.textRenderingMode===i.TextRenderingMode.INVISIBLE;let ue,Z,ve,Pe;if(!(ae||ge===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,U.save(),U.transform(...Y.textMatrix),U.translate(Y.x,Y.y),U.scale(Ie,he),ue=0;ue<K;++ue){if(Z=j[ue],typeof Z=="number"){Pe=ye*Z*ge/1e3,this.ctx.translate(Pe,0),Y.x+=Pe*Ie;continue}const Fe=(Z.isSpace?ot:0)+Ae,it=ce.charProcOperatorList[Z.operatorListId];if(!it){(0,i.warn)(`Type3 character "${Z.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Z,this.save(),U.scale(ge,ge),U.transform(...V),this.executeOperatorList(it),this.restore()),ve=i.Util.applyTransform([Z.width,0],V)[0]*ge+Fe,U.translate(ve,0),Y.x+=ve*Ie}U.restore(),this.processingType3=null}}setCharWidth(j,U){}setCharWidthAndBounds(j,U,Y,ce,ge,he){this.ctx.rect(Y,ce,ge-Y,he-ce),this.ctx.clip(),this.endPath()}getColorN_Pattern(j){let U;if(j[0]==="TilingPattern"){const Y=j[1],ce=this.baseTransform||(0,s.getCurrentTransform)(this.ctx),ge={createCanvasGraphics:he=>new ke(he,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};U=new o.TilingPattern(j,Y,this.ctx,ge,ce)}else U=this._getPattern(j[1],j[2]);return U}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(j,U,Y){var ge;const ce=((ge=this.selectColor)==null?void 0:ge.call(this,j,U,Y))||i.Util.makeHexColor(j,U,Y);this.ctx.strokeStyle=ce,this.current.strokeColor=ce}setFillRGBColor(j,U,Y){var ge;const ce=((ge=this.selectColor)==null?void 0:ge.call(this,j,U,Y))||i.Util.makeHexColor(j,U,Y);this.ctx.fillStyle=ce,this.current.fillColor=ce,this.current.patternFill=!1}_getPattern(j,U=null){let Y;return this.cachedPatterns.has(j)?Y=this.cachedPatterns.get(j):(Y=(0,o.getShadingPattern)(this.objs.get(j)),this.cachedPatterns.set(j,Y)),U&&(Y.matrix=U),Y}shadingFill(j){if(!this.contentVisible)return;const U=this.ctx;this.save();const Y=this._getPattern(j);U.fillStyle=Y.getPattern(U,this,(0,s.getCurrentTransformInverse)(U),o.PathType.SHADING);const ce=(0,s.getCurrentTransformInverse)(U);if(ce){const ge=U.canvas,he=ge.width,ye=ge.height,Ae=i.Util.applyTransform([0,0],ce),ot=i.Util.applyTransform([0,ye],ce),Ie=i.Util.applyTransform([he,0],ce),V=i.Util.applyTransform([he,ye],ce),K=Math.min(Ae[0],ot[0],Ie[0],V[0]),ae=Math.min(Ae[1],ot[1],Ie[1],V[1]),ue=Math.max(Ae[0],ot[0],Ie[0],V[0]),Z=Math.max(Ae[1],ot[1],Ie[1],V[1]);this.ctx.fillRect(K,ae,ue-K,Z-ae)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(j,U){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(j)&&j.length===6&&this.transform(...j),this.baseTransform=(0,s.getCurrentTransform)(this.ctx),U)){const Y=U[2]-U[0],ce=U[3]-U[1];this.ctx.rect(U[0],U[1],Y,ce),this.current.updateRectMinMax((0,s.getCurrentTransform)(this.ctx),U),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(j){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const U=this.ctx;j.isolated||(0,i.info)("TODO: Support non-isolated groups."),j.knockout&&(0,i.warn)("Knockout groups not supported.");const Y=(0,s.getCurrentTransform)(U);if(j.matrix&&U.transform(...j.matrix),!j.bbox)throw new Error("Bounding box is required.");let ce=i.Util.getAxialAlignedBoundingBox(j.bbox,(0,s.getCurrentTransform)(U));const ge=[0,0,U.canvas.width,U.canvas.height];ce=i.Util.intersect(ce,ge)||[0,0,0,0];const he=Math.floor(ce[0]),ye=Math.floor(ce[1]);let Ae=Math.max(Math.ceil(ce[2])-he,1),ot=Math.max(Math.ceil(ce[3])-ye,1),Ie=1,V=1;Ae>h&&(Ie=Ae/h,Ae=h),ot>h&&(V=ot/h,ot=h),this.current.startNewPathAndClipBox([0,0,Ae,ot]);let K="groupAt"+this.groupLevel;j.smask&&(K+="_smask_"+this.smaskCounter++%2);const ae=this.cachedCanvases.getCanvas(K,Ae,ot),ue=ae.context;ue.scale(1/Ie,1/V),ue.translate(-he,-ye),ue.transform(...Y),j.smask?this.smaskStack.push({canvas:ae.canvas,context:ue,offsetX:he,offsetY:ye,scaleX:Ie,scaleY:V,subtype:j.smask.subtype,backdrop:j.smask.backdrop,transferMap:j.smask.transferMap||null,startTransformInverse:null}):(U.setTransform(1,0,0,1,0,0),U.translate(he,ye),U.scale(Ie,V),U.save()),T(U,ue),this.ctx=ue,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(U),this.groupLevel++}endGroup(j){if(!this.contentVisible)return;this.groupLevel--;const U=this.ctx,Y=this.groupStack.pop();if(this.ctx=Y,this.ctx.imageSmoothingEnabled=!1,j.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ce=(0,s.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ce);const ge=i.Util.getAxialAlignedBoundingBox([0,0,U.canvas.width,U.canvas.height],ce);this.ctx.drawImage(U.canvas,0,0),this.ctx.restore(),this.compose(ge)}}beginAnnotation(j,U,Y,ce,ge){if(Ft(this,ee,au).call(this),L(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(U)&&U.length===4){const he=U[2]-U[0],ye=U[3]-U[1];if(ge&&this.annotationCanvasMap){Y=Y.slice(),Y[4]-=U[0],Y[5]-=U[1],U=U.slice(),U[0]=U[1]=0,U[2]=he,U[3]=ye;const[Ae,ot]=i.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(this.ctx)),{viewportScale:Ie}=this,V=Math.ceil(he*this.outputScaleX*Ie),K=Math.ceil(ye*this.outputScaleY*Ie);this.annotationCanvas=this.canvasFactory.create(V,K);const{canvas:ae,context:ue}=this.annotationCanvas;this.annotationCanvasMap.set(j,ae),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ue,this.ctx.setTransform(Ae,0,0,-ot,0,ye*ot),L(this.ctx,this.foregroundColor)}else L(this.ctx,this.foregroundColor),this.ctx.rect(U[0],U[1],he,ye),this.ctx.clip(),this.endPath()}this.current=new _(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Y),this.transform(...ce)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(j){if(!this.contentVisible)return;const U=j.count;j=this.getObject(j.data,j),j.count=U;const Y=this.ctx,ce=this.processingType3;if(ce&&(ce.compiled===void 0&&(ce.compiled=b(j)),ce.compiled)){ce.compiled(Y);return}const ge=this._createMaskCanvas(j),he=ge.canvas;Y.save(),Y.setTransform(1,0,0,1,0,0),Y.drawImage(he,ge.offsetX,ge.offsetY),Y.restore(),this.compose()}paintImageMaskXObjectRepeat(j,U,Y=0,ce=0,ge,he){if(!this.contentVisible)return;j=this.getObject(j.data,j);const ye=this.ctx;ye.save();const Ae=(0,s.getCurrentTransform)(ye);ye.transform(U,Y,ce,ge,0,0);const ot=this._createMaskCanvas(j);ye.setTransform(1,0,0,1,ot.offsetX-Ae[4],ot.offsetY-Ae[5]);for(let Ie=0,V=he.length;Ie<V;Ie+=2){const K=i.Util.transform(Ae,[U,Y,ce,ge,he[Ie],he[Ie+1]]),[ae,ue]=i.Util.applyTransform([0,0],K);ye.drawImage(ot.canvas,ae,ue)}ye.restore(),this.compose()}paintImageMaskXObjectGroup(j){if(!this.contentVisible)return;const U=this.ctx,Y=this.current.fillColor,ce=this.current.patternFill;for(const ge of j){const{data:he,width:ye,height:Ae,transform:ot}=ge,Ie=this.cachedCanvases.getCanvas("maskCanvas",ye,Ae),V=Ie.context;V.save();const K=this.getObject(he,ge);k(V,K),V.globalCompositeOperation="source-in",V.fillStyle=ce?Y.getPattern(V,this,(0,s.getCurrentTransformInverse)(U),o.PathType.FILL):Y,V.fillRect(0,0,ye,Ae),V.restore(),U.save(),U.transform(...ot),U.scale(1,-1),v(U,Ie.canvas,0,0,ye,Ae,0,-1,1,1),U.restore()}this.compose()}paintImageXObject(j){if(!this.contentVisible)return;const U=this.getObject(j);if(!U){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(U)}paintImageXObjectRepeat(j,U,Y,ce){if(!this.contentVisible)return;const ge=this.getObject(j);if(!ge){(0,i.warn)("Dependent image isn't ready yet");return}const he=ge.width,ye=ge.height,Ae=[];for(let ot=0,Ie=ce.length;ot<Ie;ot+=2)Ae.push({transform:[U,0,0,Y,ce[ot],ce[ot+1]],x:0,y:0,w:he,h:ye});this.paintInlineImageXObjectGroup(ge,Ae)}paintInlineImageXObject(j){if(!this.contentVisible)return;const U=j.width,Y=j.height,ce=this.ctx;this.save(),ce.scale(1/U,-1/Y);let ge;if(typeof HTMLElement=="function"&&j instanceof HTMLElement||!j.data)ge=j;else{const ye=this.cachedCanvases.getCanvas("inlineImage",U,Y),Ae=ye.context;E(Ae,j,this.current.transferMaps),ge=ye.canvas}const he=this._scaleImage(ge,(0,s.getCurrentTransformInverse)(ce));ce.imageSmoothingEnabled=W((0,s.getCurrentTransform)(ce),j.interpolate),v(ce,he.img,0,0,he.paintWidth,he.paintHeight,0,-Y,U,Y),this.compose(),this.restore()}paintInlineImageXObjectGroup(j,U){if(!this.contentVisible)return;const Y=this.ctx,ce=j.width,ge=j.height,he=this.cachedCanvases.getCanvas("inlineImage",ce,ge),ye=he.context;E(ye,j,this.current.transferMaps);for(const Ae of U)Y.save(),Y.transform(...Ae.transform),Y.scale(1,-1),v(Y,he.canvas,Ae.x,Ae.y,Ae.w,Ae.h,0,-1,1,1),Y.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(j){}markPointProps(j,U){}beginMarkedContent(j){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(j,U){j==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(U)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(j){const U=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(j);const Y=this.ctx;this.pendingClip&&(U||(this.pendingClip===me?Y.clip("evenodd"):Y.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Y.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const j=(0,s.getCurrentTransform)(this.ctx);if(j[1]===0&&j[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(j[0]),Math.abs(j[3]));else{const U=Math.abs(j[0]*j[3]-j[2]*j[1]),Y=Math.hypot(j[0],j[2]),ce=Math.hypot(j[1],j[3]);this._cachedGetSinglePixelWidth=Math.max(Y,ce)/U}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:j}=this.current,U=(0,s.getCurrentTransform)(this.ctx);let Y,ce;if(U[1]===0&&U[2]===0){const ge=Math.abs(U[0]),he=Math.abs(U[3]);if(j===0)Y=1/ge,ce=1/he;else{const ye=ge*j,Ae=he*j;Y=ye<1?1/ye:1,ce=Ae<1?1/Ae:1}}else{const ge=Math.abs(U[0]*U[3]-U[2]*U[1]),he=Math.hypot(U[0],U[1]),ye=Math.hypot(U[2],U[3]);if(j===0)Y=ye/ge,ce=he/ge;else{const Ae=j*ge;Y=ye>Ae?ye/Ae:1,ce=he>Ae?he/Ae:1}}this._cachedScaleForStroking=[Y,ce]}return this._cachedScaleForStroking}rescaleAndStroke(j){const{ctx:U}=this,{lineWidth:Y}=this.current,[ce,ge]=this.getScaleForStroking();if(U.lineWidth=Y||1,ce===1&&ge===1){U.stroke();return}let he,ye,Ae;j&&(he=(0,s.getCurrentTransform)(U),ye=U.getLineDash().slice(),Ae=U.lineDashOffset),U.scale(ce,ge);const ot=Math.max(ce,ge);U.setLineDash(U.getLineDash().map(Ie=>Ie/ot)),U.lineDashOffset/=ot,U.stroke(),j&&(U.setTransform(...he),U.setLineDash(ye),U.lineDashOffset=Ae)}isContentVisible(){for(let j=this.markedContentStack.length-1;j>=0;j--)if(!this.markedContentStack[j].visible)return!1;return!0}};ee=new WeakSet,au=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let re=ke;e.CanvasGraphics=re;for(const z in i.OPS)re.prototype[z]!==void 0&&(re.prototype[i.OPS[z]]=re.prototype[z])},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=x;var i=n(1),s=n(6);const o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=o;function l(v,b){if(!b)return;const _=b[2]-b[0],E=b[3]-b[1],k=new Path2D;k.rect(b[0],b[1],_,E),v.clip(k)}class c{constructor(){this.constructor===c&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class f extends c{constructor(b){super(),this._type=b[1],this._bbox=b[2],this._colorStops=b[3],this._p0=b[4],this._p1=b[5],this._r0=b[6],this._r1=b[7],this.matrix=null}_createGradient(b){let _;this._type==="axial"?_=b.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(_=b.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const E of this._colorStops)_.addColorStop(E[0],E[1]);return _}getPattern(b,_,E,k){let T;if(k===o.STROKE||k===o.FILL){const L=_.current.getClippedPathBoundingBox(k,(0,s.getCurrentTransform)(b))||[0,0,0,0],F=Math.ceil(L[2]-L[0])||1,C=Math.ceil(L[3]-L[1])||1,O=_.cachedCanvases.getCanvas("pattern",F,C,!0),P=O.context;P.clearRect(0,0,P.canvas.width,P.canvas.height),P.beginPath(),P.rect(0,0,P.canvas.width,P.canvas.height),P.translate(-L[0],-L[1]),E=i.Util.transform(E,[1,0,0,1,L[0],L[1]]),P.transform(..._.baseTransform),this.matrix&&P.transform(...this.matrix),l(P,this._bbox),P.fillStyle=this._createGradient(P),P.fill(),T=b.createPattern(O.canvas,"no-repeat");const G=new DOMMatrix(E);T.setTransform(G)}else l(b,this._bbox),T=this._createGradient(b);return T}}function h(v,b,_,E,k,T,L,F){const C=b.coords,O=b.colors,P=v.data,G=v.width*4;let W;C[_+1]>C[E+1]&&(W=_,_=E,E=W,W=T,T=L,L=W),C[E+1]>C[k+1]&&(W=E,E=k,k=W,W=L,L=F,F=W),C[_+1]>C[E+1]&&(W=_,_=E,E=W,W=T,T=L,L=W);const J=(C[_]+b.offsetX)*b.scaleX,ne=(C[_+1]+b.offsetY)*b.scaleY,we=(C[E]+b.offsetX)*b.scaleX,me=(C[E+1]+b.offsetY)*b.scaleY,re=(C[k]+b.offsetX)*b.scaleX,ee=(C[k+1]+b.offsetY)*b.scaleY;if(ne>=ee)return;const be=O[T],ke=O[T+1],z=O[T+2],j=O[L],U=O[L+1],Y=O[L+2],ce=O[F],ge=O[F+1],he=O[F+2],ye=Math.round(ne),Ae=Math.round(ee);let ot,Ie,V,K,ae,ue,Z,ve;for(let Pe=ye;Pe<=Ae;Pe++){if(Pe<me){let Se;Pe<ne?Se=0:Se=(ne-Pe)/(ne-me),ot=J-(J-we)*Se,Ie=be-(be-j)*Se,V=ke-(ke-U)*Se,K=z-(z-Y)*Se}else{let Se;Pe>ee?Se=1:me===ee?Se=0:Se=(me-Pe)/(me-ee),ot=we-(we-re)*Se,Ie=j-(j-ce)*Se,V=U-(U-ge)*Se,K=Y-(Y-he)*Se}let Fe;Pe<ne?Fe=0:Pe>ee?Fe=1:Fe=(ne-Pe)/(ne-ee),ae=J-(J-re)*Fe,ue=be-(be-ce)*Fe,Z=ke-(ke-ge)*Fe,ve=z-(z-he)*Fe;const it=Math.round(Math.min(ot,ae)),fe=Math.round(Math.max(ot,ae));let xe=G*Pe+it*4;for(let Se=it;Se<=fe;Se++)Fe=(ot-Se)/(ot-ae),Fe<0?Fe=0:Fe>1&&(Fe=1),P[xe++]=Ie-(Ie-ue)*Fe|0,P[xe++]=V-(V-Z)*Fe|0,P[xe++]=K-(K-ve)*Fe|0,P[xe++]=255}}function p(v,b,_){const E=b.coords,k=b.colors;let T,L;switch(b.type){case"lattice":const F=b.verticesPerRow,C=Math.floor(E.length/F)-1,O=F-1;for(T=0;T<C;T++){let P=T*F;for(let G=0;G<O;G++,P++)h(v,_,E[P],E[P+1],E[P+F],k[P],k[P+1],k[P+F]),h(v,_,E[P+F+1],E[P+1],E[P+F],k[P+F+1],k[P+1],k[P+F])}break;case"triangles":for(T=0,L=E.length;T<L;T+=3)h(v,_,E[T],E[T+1],E[T+2],k[T],k[T+1],k[T+2]);break;default:throw new Error("illegal figure")}}class g extends c{constructor(b){super(),this._coords=b[2],this._colors=b[3],this._figures=b[4],this._bounds=b[5],this._bbox=b[7],this._background=b[8],this.matrix=null}_createMeshCanvas(b,_,E){const F=Math.floor(this._bounds[0]),C=Math.floor(this._bounds[1]),O=Math.ceil(this._bounds[2])-F,P=Math.ceil(this._bounds[3])-C,G=Math.min(Math.ceil(Math.abs(O*b[0]*1.1)),3e3),W=Math.min(Math.ceil(Math.abs(P*b[1]*1.1)),3e3),J=O/G,ne=P/W,we={coords:this._coords,colors:this._colors,offsetX:-F,offsetY:-C,scaleX:1/J,scaleY:1/ne},me=G+2*2,re=W+2*2,ee=E.getCanvas("mesh",me,re,!1),be=ee.context,ke=be.createImageData(G,W);if(_){const j=ke.data;for(let U=0,Y=j.length;U<Y;U+=4)j[U]=_[0],j[U+1]=_[1],j[U+2]=_[2],j[U+3]=255}for(const j of this._figures)p(ke,j,we);return be.putImageData(ke,2,2),{canvas:ee.canvas,offsetX:F-2*J,offsetY:C-2*ne,scaleX:J,scaleY:ne}}getPattern(b,_,E,k){l(b,this._bbox);let T;if(k===o.SHADING)T=i.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(b));else if(T=i.Util.singularValueDecompose2dScale(_.baseTransform),this.matrix){const F=i.Util.singularValueDecompose2dScale(this.matrix);T=[T[0]*F[0],T[1]*F[1]]}const L=this._createMeshCanvas(T,k===o.SHADING?null:this._background,_.cachedCanvases);return k!==o.SHADING&&(b.setTransform(..._.baseTransform),this.matrix&&b.transform(...this.matrix)),b.translate(L.offsetX,L.offsetY),b.scale(L.scaleX,L.scaleY),b.createPattern(L.canvas,"no-repeat")}}class y extends c{getPattern(){return"hotpink"}}function x(v){switch(v[0]){case"RadialAxial":return new f(v);case"Mesh":return new g(v);case"Dummy":return new y}throw new Error(`Unknown IR type: ${v[0]}`)}const S={COLORED:1,UNCOLORED:2};class w{static get MAX_PATTERN_SIZE(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(b,_,E,k,T){this.operatorList=b[2],this.matrix=b[3]||[1,0,0,1,0,0],this.bbox=b[4],this.xstep=b[5],this.ystep=b[6],this.paintType=b[7],this.tilingType=b[8],this.color=_,this.ctx=E,this.canvasGraphicsFactory=k,this.baseTransform=T}createPatternCanvas(b){const _=this.operatorList,E=this.bbox,k=this.xstep,T=this.ystep,L=this.paintType,F=this.tilingType,C=this.color,O=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+F);const P=E[0],G=E[1],W=E[2],J=E[3],ne=i.Util.singularValueDecompose2dScale(this.matrix),we=i.Util.singularValueDecompose2dScale(this.baseTransform),me=[ne[0]*we[0],ne[1]*we[1]],re=this.getSizeAndScale(k,this.ctx.canvas.width,me[0]),ee=this.getSizeAndScale(T,this.ctx.canvas.height,me[1]),be=b.cachedCanvases.getCanvas("pattern",re.size,ee.size,!0),ke=be.context,z=O.createCanvasGraphics(ke);z.groupLevel=b.groupLevel,this.setFillAndStrokeStyleToContext(z,L,C);let j=P,U=G,Y=W,ce=J;return P<0&&(j=0,Y+=Math.abs(P)),G<0&&(U=0,ce+=Math.abs(G)),ke.translate(-(re.scale*j),-(ee.scale*U)),z.transform(re.scale,0,0,ee.scale,0,0),ke.save(),this.clipBbox(z,j,U,Y,ce),z.baseTransform=(0,s.getCurrentTransform)(z.ctx),z.executeOperatorList(_),z.endDrawing(),{canvas:be.canvas,scaleX:re.scale,scaleY:ee.scale,offsetX:j,offsetY:U}}getSizeAndScale(b,_,E){b=Math.abs(b);const k=Math.max(w.MAX_PATTERN_SIZE,_);let T=Math.ceil(b*E);return T>=k?T=k:E=T/b,{scale:E,size:T}}clipBbox(b,_,E,k,T){const L=k-_,F=T-E;b.ctx.rect(_,E,L,F),b.current.updateRectMinMax((0,s.getCurrentTransform)(b.ctx),[_,E,k,T]),b.clip(),b.endPath()}setFillAndStrokeStyleToContext(b,_,E){const k=b.ctx,T=b.current;switch(_){case S.COLORED:const L=this.ctx;k.fillStyle=L.fillStyle,k.strokeStyle=L.strokeStyle,T.fillColor=L.fillStyle,T.strokeColor=L.strokeStyle;break;case S.UNCOLORED:const F=i.Util.makeHexColor(E[0],E[1],E[2]);k.fillStyle=F,k.strokeStyle=F,T.fillColor=F,T.strokeColor=F;break;default:throw new i.FormatError(`Unsupported paint type: ${_}`)}}getPattern(b,_,E,k){let T=E;k!==o.SHADING&&(T=i.Util.transform(T,_.baseTransform),this.matrix&&(T=i.Util.transform(T,this.matrix)));const L=this.createPatternCanvas(_);let F=new DOMMatrix(T);F=F.translate(L.offsetX,L.offsetY),F=F.scale(1/L.scaleX,1/L.scaleY);const C=b.createPattern(L.canvas,"repeat");return C.setTransform(F),C}}e.TilingPattern=w},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=s;var i=n(1);function s({src:o,srcPos:l=0,dest:c,destPos:f=0,width:h,height:p,inverseDecode:g=!1}){const y=i.FeatureTest.isLittleEndian?4278190080:255,[x,S]=g?[0,y]:[y,0],w=h>>3,v=h&7,b=o.length;c=new Uint32Array(c.buffer);for(let _=0;_<p;_++){for(const k=l+w;l<k;l++){const T=l<b?o[l]:255;c[f++]=T&128?S:x,c[f++]=T&64?S:x,c[f++]=T&32?S:x,c[f++]=T&16?S:x,c[f++]=T&8?S:x,c[f++]=T&4?S:x,c[f++]=T&2?S:x,c[f++]=T&1?S:x}if(v===0)continue;const E=l<b?o[l++]:255;for(let k=0;k<v;k++)c[f++]=E&1<<7-k?S:x}return{srcPos:l,destPos:f}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var i=n(1);const s={UNKNOWN:0,DATA:1,ERROR:2},o={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function l(f){switch(f instanceof Error||typeof f=="object"&&f!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),f.name){case"AbortException":return new i.AbortException(f.message);case"MissingPDFException":return new i.MissingPDFException(f.message);case"PasswordException":return new i.PasswordException(f.message,f.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(f.message,f.status);case"UnknownErrorException":return new i.UnknownErrorException(f.message,f.details);default:return new i.UnknownErrorException(f.message,f.toString())}}class c{constructor(h,p,g){this.sourceName=h,this.targetName=p,this.comObj=g,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=y=>{const x=y.data;if(x.targetName!==this.sourceName)return;if(x.stream){this._processStreamMessage(x);return}if(x.callback){const w=x.callbackId,v=this.callbackCapabilities[w];if(!v)throw new Error(`Cannot resolve callback ${w}`);if(delete this.callbackCapabilities[w],x.callback===s.DATA)v.resolve(x.data);else if(x.callback===s.ERROR)v.reject(l(x.reason));else throw new Error("Unexpected callback case");return}const S=this.actionHandler[x.action];if(!S)throw new Error(`Unknown action from worker: ${x.action}`);if(x.callbackId){const w=this.sourceName,v=x.sourceName;new Promise(function(b){b(S(x.data))}).then(function(b){g.postMessage({sourceName:w,targetName:v,callback:s.DATA,callbackId:x.callbackId,data:b})},function(b){g.postMessage({sourceName:w,targetName:v,callback:s.ERROR,callbackId:x.callbackId,reason:l(b)})});return}if(x.streamId){this._createStreamSink(x);return}S(x.data)},g.addEventListener("message",this._onComObjOnMessage)}on(h,p){const g=this.actionHandler;if(g[h])throw new Error(`There is already an actionName called "${h}"`);g[h]=p}send(h,p,g){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,data:p},g)}sendWithPromise(h,p,g){const y=this.callbackId++,x=(0,i.createPromiseCapability)();this.callbackCapabilities[y]=x;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:h,callbackId:y,data:p},g)}catch(S){x.reject(S)}return x.promise}sendWithStream(h,p,g,y){const x=this.streamId++,S=this.sourceName,w=this.targetName,v=this.comObj;return new ReadableStream({start:b=>{const _=(0,i.createPromiseCapability)();return this.streamControllers[x]={controller:b,startCall:_,pullCall:null,cancelCall:null,isClosed:!1},v.postMessage({sourceName:S,targetName:w,action:h,streamId:x,data:p,desiredSize:b.desiredSize},y),_.promise},pull:b=>{const _=(0,i.createPromiseCapability)();return this.streamControllers[x].pullCall=_,v.postMessage({sourceName:S,targetName:w,stream:o.PULL,streamId:x,desiredSize:b.desiredSize}),_.promise},cancel:b=>{(0,i.assert)(b instanceof Error,"cancel must have a valid reason");const _=(0,i.createPromiseCapability)();return this.streamControllers[x].cancelCall=_,this.streamControllers[x].isClosed=!0,v.postMessage({sourceName:S,targetName:w,stream:o.CANCEL,streamId:x,reason:l(b)}),_.promise}},g)}_createStreamSink(h){const p=h.streamId,g=this.sourceName,y=h.sourceName,x=this.comObj,S=this,w=this.actionHandler[h.action],v={enqueue(b,_=1,E){if(this.isCancelled)return;const k=this.desiredSize;this.desiredSize-=_,k>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),x.postMessage({sourceName:g,targetName:y,stream:o.ENQUEUE,streamId:p,chunk:b},E)},close(){this.isCancelled||(this.isCancelled=!0,x.postMessage({sourceName:g,targetName:y,stream:o.CLOSE,streamId:p}),delete S.streamSinks[p])},error(b){(0,i.assert)(b instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,x.postMessage({sourceName:g,targetName:y,stream:o.ERROR,streamId:p,reason:l(b)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:h.desiredSize,ready:null};v.sinkCapability.resolve(),v.ready=v.sinkCapability.promise,this.streamSinks[p]=v,new Promise(function(b){b(w(h.data,v))}).then(function(){x.postMessage({sourceName:g,targetName:y,stream:o.START_COMPLETE,streamId:p,success:!0})},function(b){x.postMessage({sourceName:g,targetName:y,stream:o.START_COMPLETE,streamId:p,reason:l(b)})})}_processStreamMessage(h){const p=h.streamId,g=this.sourceName,y=h.sourceName,x=this.comObj,S=this.streamControllers[p],w=this.streamSinks[p];switch(h.stream){case o.START_COMPLETE:h.success?S.startCall.resolve():S.startCall.reject(l(h.reason));break;case o.PULL_COMPLETE:h.success?S.pullCall.resolve():S.pullCall.reject(l(h.reason));break;case o.PULL:if(!w){x.postMessage({sourceName:g,targetName:y,stream:o.PULL_COMPLETE,streamId:p,success:!0});break}w.desiredSize<=0&&h.desiredSize>0&&w.sinkCapability.resolve(),w.desiredSize=h.desiredSize,new Promise(function(v){v(w.onPull&&w.onPull())}).then(function(){x.postMessage({sourceName:g,targetName:y,stream:o.PULL_COMPLETE,streamId:p,success:!0})},function(v){x.postMessage({sourceName:g,targetName:y,stream:o.PULL_COMPLETE,streamId:p,reason:l(v)})});break;case o.ENQUEUE:if((0,i.assert)(S,"enqueue should have stream controller"),S.isClosed)break;S.controller.enqueue(h.chunk);break;case o.CLOSE:if((0,i.assert)(S,"close should have stream controller"),S.isClosed)break;S.isClosed=!0,S.controller.close(),this._deleteStreamController(S,p);break;case o.ERROR:(0,i.assert)(S,"error should have stream controller"),S.controller.error(l(h.reason)),this._deleteStreamController(S,p);break;case o.CANCEL_COMPLETE:h.success?S.cancelCall.resolve():S.cancelCall.reject(l(h.reason)),this._deleteStreamController(S,p);break;case o.CANCEL:if(!w)break;new Promise(function(v){v(w.onCancel&&w.onCancel(l(h.reason)))}).then(function(){x.postMessage({sourceName:g,targetName:y,stream:o.CANCEL_COMPLETE,streamId:p,success:!0})},function(v){x.postMessage({sourceName:g,targetName:y,stream:o.CANCEL_COMPLETE,streamId:p,reason:l(v)})}),w.sinkCapability.reject(l(h.reason)),w.isCancelled=!0,delete this.streamSinks[p];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(h,p){await Promise.allSettled([h.startCall&&h.startCall.promise,h.pullCall&&h.pullCall.promise,h.cancelCall&&h.cancelCall.promise]),delete this.streamControllers[p]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=c},(t,e,n)=>{var o,l;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var i=n(1);class s{constructor({parsedData:f,rawData:h}){Gt(this,o);Gt(this,l);ln(this,o,f),ln(this,l,h)}getRaw(){return de(this,l)}get(f){return de(this,o).get(f)??null}getAll(){return(0,i.objectFromMap)(de(this,o))}has(f){return de(this,o).has(f)}}o=new WeakMap,l=new WeakMap,e.Metadata=s},(t,e,n)=>{var f,h,p,g,y,x,lu;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var i=n(1),s=n(8);const o=Symbol("INTERNAL");class l{constructor(v,b){Gt(this,f,!0);this.name=v,this.intent=b}get visible(){return de(this,f)}_setVisible(v,b){v!==o&&(0,i.unreachable)("Internal method `_setVisible` called."),ln(this,f,b)}}f=new WeakMap;class c{constructor(v){Gt(this,x);Gt(this,h,null);Gt(this,p,new Map);Gt(this,g,null);Gt(this,y,null);if(this.name=null,this.creator=null,v!==null){this.name=v.name,this.creator=v.creator,ln(this,y,v.order);for(const b of v.groups)de(this,p).set(b.id,new l(b.name,b.intent));if(v.baseState==="OFF")for(const b of de(this,p).values())b._setVisible(o,!1);for(const b of v.on)de(this,p).get(b)._setVisible(o,!0);for(const b of v.off)de(this,p).get(b)._setVisible(o,!1);ln(this,g,this.getHash())}}isVisible(v){if(de(this,p).size===0)return!0;if(!v)return(0,i.warn)("Optional content group not defined."),!0;if(v.type==="OCG")return de(this,p).has(v.id)?de(this,p).get(v.id).visible:((0,i.warn)(`Optional content group not found: ${v.id}`),!0);if(v.type==="OCMD"){if(v.expression)return Ft(this,x,lu).call(this,v.expression);if(!v.policy||v.policy==="AnyOn"){for(const b of v.ids){if(!de(this,p).has(b))return(0,i.warn)(`Optional content group not found: ${b}`),!0;if(de(this,p).get(b).visible)return!0}return!1}else if(v.policy==="AllOn"){for(const b of v.ids){if(!de(this,p).has(b))return(0,i.warn)(`Optional content group not found: ${b}`),!0;if(!de(this,p).get(b).visible)return!1}return!0}else if(v.policy==="AnyOff"){for(const b of v.ids){if(!de(this,p).has(b))return(0,i.warn)(`Optional content group not found: ${b}`),!0;if(!de(this,p).get(b).visible)return!0}return!1}else if(v.policy==="AllOff"){for(const b of v.ids){if(!de(this,p).has(b))return(0,i.warn)(`Optional content group not found: ${b}`),!0;if(de(this,p).get(b).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${v.policy}.`),!0}return(0,i.warn)(`Unknown group type ${v.type}.`),!0}setVisibility(v,b=!0){if(!de(this,p).has(v)){(0,i.warn)(`Optional content group not found: ${v}`);return}de(this,p).get(v)._setVisible(o,!!b),ln(this,h,null)}get hasInitialVisibility(){return this.getHash()===de(this,g)}getOrder(){return de(this,p).size?de(this,y)?de(this,y).slice():[...de(this,p).keys()]:null}getGroups(){return de(this,p).size>0?(0,i.objectFromMap)(de(this,p)):null}getGroup(v){return de(this,p).get(v)||null}getHash(){if(de(this,h)!==null)return de(this,h);const v=new s.MurmurHash3_64;for(const[b,_]of de(this,p))v.update(`${b}:${_.visible}`);return ln(this,h,v.hexdigest())}}h=new WeakMap,p=new WeakMap,g=new WeakMap,y=new WeakMap,x=new WeakSet,lu=function(v){const b=v.length;if(b<2)return!0;const _=v[0];for(let E=1;E<b;E++){const k=v[E];let T;if(Array.isArray(k))T=Ft(this,x,lu).call(this,k);else if(de(this,p).has(k))T=de(this,p).get(k).visible;else return(0,i.warn)(`Optional content group not found: ${k}`),!0;switch(_){case"And":if(!T)return!1;break;case"Or":if(T)return!0;break;case"Not":return!T;default:return!0}}return _==="And"},e.OptionalContentConfig=c},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var i=n(1),s=n(6);class o{constructor({length:h,initialData:p,progressiveDone:g=!1,contentDispositionFilename:y=null,disableRange:x=!1,disableStream:S=!1},w){if((0,i.assert)(w,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=g,this._contentDispositionFilename=y,(p==null?void 0:p.length)>0){const v=p instanceof Uint8Array&&p.byteLength===p.buffer.byteLength?p.buffer:new Uint8Array(p).buffer;this._queuedChunks.push(v)}this._pdfDataRangeTransport=w,this._isStreamingSupported=!S,this._isRangeSupported=!x,this._contentLength=h,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((v,b)=>{this._onReceiveData({begin:v,chunk:b})}),this._pdfDataRangeTransport.addProgressListener((v,b)=>{this._onProgress({loaded:v,total:b})}),this._pdfDataRangeTransport.addProgressiveReadListener(v=>{this._onReceiveData({chunk:v})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:h,chunk:p}){const g=p instanceof Uint8Array&&p.byteLength===p.buffer.byteLength?p.buffer:new Uint8Array(p).buffer;if(h===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(g):this._queuedChunks.push(g);else{const y=this._rangeReaders.some(function(x){return x._begin!==h?!1:(x._enqueue(g),!0)});(0,i.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var h;return((h=this._fullRequestReader)==null?void 0:h._loaded)??0}_onProgress(h){var p,g,y,x;h.total===void 0?(g=(p=this._rangeReaders[0])==null?void 0:p.onProgress)==null||g.call(p,{loaded:h.loaded}):(x=(y=this._fullRequestReader)==null?void 0:y.onProgress)==null||x.call(y,{loaded:h.loaded,total:h.total})}_onProgressiveDone(){var h;(h=this._fullRequestReader)==null||h.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(h){const p=this._rangeReaders.indexOf(h);p>=0&&this._rangeReaders.splice(p,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const h=this._queuedChunks;return this._queuedChunks=null,new l(this,h,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(h,p){if(p<=this._progressiveDataLength)return null;const g=new c(this,h,p);return this._pdfDataRangeTransport.requestDataRange(h,p),this._rangeReaders.push(g),g}cancelAllRequests(h){var p;(p=this._fullRequestReader)==null||p.cancel(h);for(const g of this._rangeReaders.slice(0))g.cancel(h);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=o;class l{constructor(h,p,g=!1,y=null){this._stream=h,this._done=g||!1,this._filename=(0,s.isPdfFile)(y)?y:null,this._queuedChunks=p||[],this._loaded=0;for(const x of this._queuedChunks)this._loaded+=x.byteLength;this._requests=[],this._headersReady=Promise.resolve(),h._fullRequestReader=this,this.onProgress=null}_enqueue(h){this._done||(this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunks.push(h),this._loaded+=h.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const h=(0,i.createPromiseCapability)();return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class c{constructor(h,p,g){this._stream=h,this._begin=p,this._end=g,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(h){if(!this._done){if(this._requests.length===0)this._queuedChunk=h;else{this._requests.shift().resolve({value:h,done:!1});for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const p=this._queuedChunk;return this._queuedChunk=null,{value:p,done:!1}}if(this._done)return{value:void 0,done:!0};const h=(0,i.createPromiseCapability)();return this._requests.push(h),h.promise}cancel(h){this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class n{static textContent(s){const o=[],l={items:o,styles:Object.create(null)};function c(f){var g;if(!f)return;let h=null;const p=f.name;if(p==="#text")h=f.value;else if(n.shouldBuildText(p))(g=f==null?void 0:f.attributes)!=null&&g.textContent?h=f.attributes.textContent:f.value&&(h=f.value);else return;if(h!==null&&o.push({str:h}),!!f.children)for(const y of f.children)c(y)}return c(s),l}static shouldBuildText(s){return!(s==="textarea"||s==="input"||s==="option"||s==="select")}}e.XfaText=n},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var i=n(7);const s=function(f){return new Promise((h,p)=>{require$$5.readFile(f,(y,x)=>{if(y||!x){p(new Error(y));return}h(new Uint8Array(x))})})};class o extends i.BaseCanvasFactory{_createCanvas(h,p){return require$$5.createCanvas(h,p)}}e.NodeCanvasFactory=o;class l extends i.BaseCMapReaderFactory{_fetchData(h,p){return s(h).then(g=>({cMapData:g,compressionType:p}))}}e.NodeCMapReaderFactory=l;class c extends i.BaseStandardFontDataFactory{_fetchData(h){return s(h)}}e.NodeStandardFontDataFactory=c},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var i=n(1),s=n(22);const o=require$$5,l=require$$5,c=require$$5,f=require$$5,h=/^file:\/\/\/[a-zA-Z]:\//;function p(E){const k=f.parse(E);return k.protocol==="file:"||k.host?k:/^[a-z]:[/\\]/i.test(E)?f.parse(`file:///${E}`):(k.host||(k.protocol="file:"),k)}class g{constructor(k){this.source=k,this.url=p(k.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&k.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var k;return((k=this._fullRequestReader)==null?void 0:k._loaded)??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new b(this):new w(this),this._fullRequestReader}getRangeReader(k,T){if(T<=this._progressiveDataLength)return null;const L=this.isFsUrl?new _(this,k,T):new v(this,k,T);return this._rangeRequestReaders.push(L),L}cancelAllRequests(k){var T;(T=this._fullRequestReader)==null||T.cancel(k);for(const L of this._rangeRequestReaders.slice(0))L.cancel(k)}}e.PDFNodeStream=g;class y{constructor(k){this._url=k.url,this._done=!1,this._storedError=null,this.onProgress=null;const T=k.source;this._contentLength=T.length,this._loaded=0,this._filename=null,this._disableRange=T.disableRange||!1,this._rangeChunkSize=T.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!T.disableStream,this._isRangeSupported=!T.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var L;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const k=this._readableStream.read();return k===null?(this._readCapability=(0,i.createPromiseCapability)(),this.read()):(this._loaded+=k.length,(L=this.onProgress)==null||L.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(k).buffer,done:!1})}cancel(k){if(!this._readableStream){this._error(k);return}this._readableStream.destroy(k)}_error(k){this._storedError=k,this._readCapability.resolve()}_setReadableStream(k){this._readableStream=k,k.on("readable",()=>{this._readCapability.resolve()}),k.on("end",()=>{k.destroy(),this._done=!0,this._readCapability.resolve()}),k.on("error",T=>{this._error(T)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class x{constructor(k){this._url=k.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)();const T=k.source;this._isStreamingSupported=!T.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var L;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const k=this._readableStream.read();return k===null?(this._readCapability=(0,i.createPromiseCapability)(),this.read()):(this._loaded+=k.length,(L=this.onProgress)==null||L.call(this,{loaded:this._loaded}),{value:new Uint8Array(k).buffer,done:!1})}cancel(k){if(!this._readableStream){this._error(k);return}this._readableStream.destroy(k)}_error(k){this._storedError=k,this._readCapability.resolve()}_setReadableStream(k){this._readableStream=k,k.on("readable",()=>{this._readCapability.resolve()}),k.on("end",()=>{k.destroy(),this._done=!0,this._readCapability.resolve()}),k.on("error",T=>{this._error(T)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function S(E,k){return{protocol:E.protocol,auth:E.auth,host:E.hostname,port:E.port,path:E.path,method:"GET",headers:k}}class w extends y{constructor(k){super(k);const T=L=>{if(L.statusCode===404){const P=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=P,this._headersCapability.reject(P);return}this._headersCapability.resolve(),this._setReadableStream(L);const F=P=>this._readableStream.headers[P.toLowerCase()],{allowRangeRequests:C,suggestedLength:O}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:F,isHttp:k.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=C,this._contentLength=O||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(F)};this._request=null,this._url.protocol==="http:"?this._request=l.request(S(this._url,k.httpHeaders),T):this._request=c.request(S(this._url,k.httpHeaders),T),this._request.on("error",L=>{this._storedError=L,this._headersCapability.reject(L)}),this._request.end()}}class v extends x{constructor(k,T,L){super(k),this._httpHeaders={};for(const C in k.httpHeaders){const O=k.httpHeaders[C];O!==void 0&&(this._httpHeaders[C]=O)}this._httpHeaders.Range=`bytes=${T}-${L-1}`;const F=C=>{if(C.statusCode===404){const O=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=O;return}this._setReadableStream(C)};this._request=null,this._url.protocol==="http:"?this._request=l.request(S(this._url,this._httpHeaders),F):this._request=c.request(S(this._url,this._httpHeaders),F),this._request.on("error",C=>{this._storedError=C}),this._request.end()}}class b extends y{constructor(k){super(k);let T=decodeURIComponent(this._url.path);h.test(this._url.href)&&(T=T.replace(/^\//,"")),o.lstat(T,(L,F)=>{if(L){L.code==="ENOENT"&&(L=new i.MissingPDFException(`Missing PDF "${T}".`)),this._storedError=L,this._headersCapability.reject(L);return}this._contentLength=F.size,this._setReadableStream(o.createReadStream(T)),this._headersCapability.resolve()})}}class _ extends x{constructor(k,T,L){super(k);let F=decodeURIComponent(this._url.path);h.test(this._url.href)&&(F=F.replace(/^\//,"")),this._setReadableStream(o.createReadStream(F,{start:T,end:L-1}))}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=f,e.extractFilenameFromHeader=c,e.validateRangeRequestCapabilities=l,e.validateResponseStatus=h;var i=n(1),s=n(23),o=n(6);function l({getResponseHeader:p,isHttp:g,rangeChunkSize:y,disableRange:x}){const S={allowRangeRequests:!1,suggestedLength:void 0},w=parseInt(p("Content-Length"),10);return!Number.isInteger(w)||(S.suggestedLength=w,w<=2*y)||x||!g||p("Accept-Ranges")!=="bytes"||(p("Content-Encoding")||"identity")!=="identity"||(S.allowRangeRequests=!0),S}function c(p){const g=p("Content-Disposition");if(g){let y=(0,s.getFilenameFromContentDispositionHeader)(g);if(y.includes("%"))try{y=decodeURIComponent(y)}catch{}if((0,o.isPdfFile)(y))return y}return null}function f(p,g){return p===404||p===0&&g.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+g+'".'):new i.UnexpectedResponseException(`Unexpected server response (${p}) while retrieving PDF "${g}".`,p)}function h(p){return p===200||p===206}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=s;var i=n(1);function s(o){let l=!0,c=f("filename\\*","i").exec(o);if(c){c=c[1];let w=y(c);return w=unescape(w),w=x(w),w=S(w),p(w)}if(c=g(o),c){const w=S(c);return p(w)}if(c=f("filename","i").exec(o),c){c=c[1];let w=y(c);return w=S(w),p(w)}function f(w,v){return new RegExp("(?:^|;)\\s*"+w+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function h(w,v){if(w){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const b=new TextDecoder(w,{fatal:!0}),_=(0,i.stringToBytes)(v);v=b.decode(_),l=!1}catch{}}return v}function p(w){return l&&/[\x80-\xff]/.test(w)&&(w=h("utf-8",w),l&&(w=h("iso-8859-1",w))),w}function g(w){const v=[];let b;const _=f("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=_.exec(w))!==null;){let[,k,T,L]=b;if(k=parseInt(k,10),k in v){if(k===0)break;continue}v[k]=[T,L]}const E=[];for(let k=0;k<v.length&&k in v;++k){let[T,L]=v[k];L=y(L),T&&(L=unescape(L),k===0&&(L=x(L))),E.push(L)}return E.join("")}function y(w){if(w.startsWith('"')){const v=w.slice(1).split('\\"');for(let b=0;b<v.length;++b){const _=v[b].indexOf('"');_!==-1&&(v[b]=v[b].slice(0,_),v.length=b+1),v[b]=v[b].replace(/\\(.)/g,"$1")}w=v.join('"')}return w}function x(w){const v=w.indexOf("'");if(v===-1)return w;const b=w.slice(0,v),E=w.slice(v+1).replace(/^[^']*'/,"");return h(b,E)}function S(w){return!w.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(w)?w:w.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,b,_,E){if(_==="q"||_==="Q")return E=E.replace(/_/g," "),E=E.replace(/=([0-9a-fA-F]{2})/g,function(k,T){return String.fromCharCode(parseInt(T,16))}),h(b,E);try{E=atob(E)}catch{}return h(b,E)})}return""}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var i=n(1),s=n(22);const o=200,l=206;function c(y){const x=y.response;return typeof x!="string"?x:(0,i.stringToBytes)(x).buffer}class f{constructor(x,S={}){this.url=x,this.isHttp=/^https?:/i.test(x),this.httpHeaders=this.isHttp&&S.httpHeaders||Object.create(null),this.withCredentials=S.withCredentials||!1,this.getXhr=S.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(x,S,w){const v={begin:x,end:S};for(const b in w)v[b]=w[b];return this.request(v)}requestFull(x){return this.request(x)}request(x){const S=this.getXhr(),w=this.currXhrId++,v=this.pendingRequests[w]={xhr:S};S.open("GET",this.url),S.withCredentials=this.withCredentials;for(const b in this.httpHeaders){const _=this.httpHeaders[b];_!==void 0&&S.setRequestHeader(b,_)}return this.isHttp&&"begin"in x&&"end"in x?(S.setRequestHeader("Range",`bytes=${x.begin}-${x.end-1}`),v.expectedStatus=l):v.expectedStatus=o,S.responseType="arraybuffer",x.onError&&(S.onerror=function(b){x.onError(S.status)}),S.onreadystatechange=this.onStateChange.bind(this,w),S.onprogress=this.onProgress.bind(this,w),v.onHeadersReceived=x.onHeadersReceived,v.onDone=x.onDone,v.onError=x.onError,v.onProgress=x.onProgress,S.send(null),w}onProgress(x,S){var v;const w=this.pendingRequests[x];w&&((v=w.onProgress)==null||v.call(w,S))}onStateChange(x,S){var k,T,L;const w=this.pendingRequests[x];if(!w)return;const v=w.xhr;if(v.readyState>=2&&w.onHeadersReceived&&(w.onHeadersReceived(),delete w.onHeadersReceived),v.readyState!==4||!(x in this.pendingRequests))return;if(delete this.pendingRequests[x],v.status===0&&this.isHttp){(k=w.onError)==null||k.call(w,v.status);return}const b=v.status||o;if(!(b===o&&w.expectedStatus===l)&&b!==w.expectedStatus){(T=w.onError)==null||T.call(w,v.status);return}const E=c(v);if(b===l){const F=v.getResponseHeader("Content-Range"),C=/bytes (\d+)-(\d+)\/(\d+)/.exec(F);w.onDone({begin:parseInt(C[1],10),chunk:E})}else E?w.onDone({begin:0,chunk:E}):(L=w.onError)==null||L.call(w,v.status)}getRequestXhr(x){return this.pendingRequests[x].xhr}isPendingRequest(x){return x in this.pendingRequests}abortRequest(x){const S=this.pendingRequests[x].xhr;delete this.pendingRequests[x],S.abort()}}class h{constructor(x){this._source=x,this._manager=new f(x.url,{httpHeaders:x.httpHeaders,withCredentials:x.withCredentials}),this._rangeChunkSize=x.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(x){const S=this._rangeRequestReaders.indexOf(x);S>=0&&this._rangeRequestReaders.splice(S,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new p(this._manager,this._source),this._fullRequestReader}getRangeReader(x,S){const w=new g(this._manager,x,S);return w.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(w),w}cancelAllRequests(x){var S;(S=this._fullRequestReader)==null||S.cancel(x);for(const w of this._rangeRequestReaders.slice(0))w.cancel(x)}}e.PDFNetworkStream=h;class p{constructor(x,S){this._manager=x;const w={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=S.url,this._fullRequestId=x.requestFull(w),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=S.disableRange||!1,this._contentLength=S.length,this._rangeChunkSize=S.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const x=this._fullRequestId,S=this._manager.getRequestXhr(x),w=_=>S.getResponseHeader(_),{allowRangeRequests:v,suggestedLength:b}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});v&&(this._isRangeSupported=!0),this._contentLength=b||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(w),this._isRangeSupported&&this._manager.abortRequest(x),this._headersReceivedCapability.resolve()}_onDone(x){if(x&&(this._requests.length>0?this._requests.shift().resolve({value:x.chunk,done:!1}):this._cachedChunks.push(x.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(x){this._storedError=(0,s.createResponseStatusError)(x,this._url),this._headersReceivedCapability.reject(this._storedError);for(const S of this._requests)S.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(x){var S;(S=this.onProgress)==null||S.call(this,{loaded:x.loaded,total:x.lengthComputable?x.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const x=(0,i.createPromiseCapability)();return this._requests.push(x),x.promise}cancel(x){this._done=!0,this._headersReceivedCapability.reject(x);for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class g{constructor(x,S,w){this._manager=x;const v={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=x.url,this._requestId=x.requestRange(S,w,v),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var x;(x=this.onClosed)==null||x.call(this,this)}_onDone(x){const S=x.chunk;this._requests.length>0?this._requests.shift().resolve({value:S,done:!1}):this._queuedChunk=S,this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(x){this._storedError=(0,s.createResponseStatusError)(x,this._url);for(const S of this._requests)S.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(x){var S;this.isStreamingSupported||(S=this.onProgress)==null||S.call(this,{loaded:x.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const S=this._queuedChunk;return this._queuedChunk=null,{value:S,done:!1}}if(this._done)return{value:void 0,done:!0};const x=(0,i.createPromiseCapability)();return this._requests.push(x),x.promise}cancel(x){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var i=n(1),s=n(22);function o(g,y,x){return{method:"GET",headers:g,signal:x.signal,mode:"cors",credentials:y?"include":"same-origin",redirect:"follow"}}function l(g){const y=new Headers;for(const x in g){const S=g[x];S!==void 0&&y.append(x,S)}return y}function c(g){return g instanceof Uint8Array?g.buffer:g instanceof ArrayBuffer?g:((0,i.warn)(`getArrayBuffer - unexpected data format: ${g}`),new Uint8Array(g).buffer)}class f{constructor(y){this.source=y,this.isHttp=/^https?:/i.test(y.url),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var y;return((y=this._fullRequestReader)==null?void 0:y._loaded)??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new h(this),this._fullRequestReader}getRangeReader(y,x){if(x<=this._progressiveDataLength)return null;const S=new p(this,y,x);return this._rangeRequestReaders.push(S),S}cancelAllRequests(y){var x;(x=this._fullRequestReader)==null||x.cancel(y);for(const S of this._rangeRequestReaders.slice(0))S.cancel(y)}}e.PDFFetchStream=f;class h{constructor(y){this._stream=y,this._reader=null,this._loaded=0,this._filename=null;const x=y.source;this._withCredentials=x.withCredentials||!1,this._contentLength=x.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=x.disableRange||!1,this._rangeChunkSize=x.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!x.disableStream,this._isRangeSupported=!x.disableRange,this._headers=l(this._stream.httpHeaders);const S=x.url;fetch(S,o(this._headers,this._withCredentials,this._abortController)).then(w=>{if(!(0,s.validateResponseStatus)(w.status))throw(0,s.createResponseStatusError)(w.status,S);this._reader=w.body.getReader(),this._headersCapability.resolve();const v=E=>w.headers.get(E),{allowRangeRequests:b,suggestedLength:_}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=_||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(v),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var S;await this._headersCapability.promise;const{value:y,done:x}=await this._reader.read();return x?{value:y,done:x}:(this._loaded+=y.byteLength,(S=this.onProgress)==null||S.call(this,{loaded:this._loaded,total:this._contentLength}),{value:c(y),done:!1})}cancel(y){var x;(x=this._reader)==null||x.cancel(y),this._abortController.abort()}}class p{constructor(y,x,S){this._stream=y,this._reader=null,this._loaded=0;const w=y.source;this._withCredentials=w.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!w.disableStream,this._abortController=new AbortController,this._headers=l(this._stream.httpHeaders),this._headers.append("Range",`bytes=${x}-${S-1}`);const v=w.url;fetch(v,o(this._headers,this._withCredentials,this._abortController)).then(b=>{if(!(0,s.validateResponseStatus)(b.status))throw(0,s.createResponseStatusError)(b.status,v);this._readCapability.resolve(),this._reader=b.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var S;await this._readCapability.promise;const{value:y,done:x}=await this._reader.read();return x?{value:y,done:x}:(this._loaded+=y.byteLength,(S=this.onProgress)==null||S.call(this,{loaded:this._loaded}),{value:c(y),done:!1})}cancel(y){var x;(x=this._reader)==null||x.cancel(y),this._abortController.abort()}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=w,e.updateTextLayer=v;var i=n(1),s=n(6);const o=1e5,l=30,c=.8,f=new Map;function h(b,_){let E;if(_&&i.FeatureTest.isOffscreenCanvasSupported)E=new OffscreenCanvas(b,b).getContext("2d",{alpha:!1});else{const k=document.createElement("canvas");k.width=k.height=b,E=k.getContext("2d",{alpha:!1})}return E}function p(b,_){const E=f.get(b);if(E)return E;const k=h(l,_);k.font=`${l}px ${b}`;const T=k.measureText("");let L=T.fontBoundingBoxAscent,F=Math.abs(T.fontBoundingBoxDescent);if(L){const O=L/(L+F);return f.set(b,O),k.canvas.width=k.canvas.height=0,O}k.strokeStyle="red",k.clearRect(0,0,l,l),k.strokeText("g",0,0);let C=k.getImageData(0,0,l,l).data;F=0;for(let O=C.length-1-3;O>=0;O-=4)if(C[O]>0){F=Math.ceil(O/4/l);break}k.clearRect(0,0,l,l),k.strokeText("A",0,l),C=k.getImageData(0,0,l,l).data,L=0;for(let O=0,P=C.length;O<P;O+=4)if(C[O]>0){L=l-Math.floor(O/4/l);break}if(k.canvas.width=k.canvas.height=0,L){const O=L/(L+F);return f.set(b,O),O}return f.set(b,c),c}function g(b,_,E){const k=document.createElement("span"),T={angle:0,canvasWidth:0,hasText:_.str!=="",hasEOL:_.hasEOL,fontSize:0};b._textDivs.push(k);const L=i.Util.transform(b._transform,_.transform);let F=Math.atan2(L[1],L[0]);const C=E[_.fontName];C.vertical&&(F+=Math.PI/2);const O=Math.hypot(L[2],L[3]),P=O*p(C.fontFamily,b._isOffscreenCanvasSupported);let G,W;F===0?(G=L[4],W=L[5]-P):(G=L[4]+P*Math.sin(F),W=L[5]-P*Math.cos(F));const J="calc(var(--scale-factor)*",ne=k.style;b._container===b._rootContainer?(ne.left=`${(100*G/b._pageWidth).toFixed(2)}%`,ne.top=`${(100*W/b._pageHeight).toFixed(2)}%`):(ne.left=`${J}${G.toFixed(2)}px)`,ne.top=`${J}${W.toFixed(2)}px)`),ne.fontSize=`${J}${O.toFixed(2)}px)`,ne.fontFamily=C.fontFamily,T.fontSize=O,k.setAttribute("role","presentation"),k.textContent=_.str,k.dir=_.dir,b._fontInspectorEnabled&&(k.dataset.fontName=_.fontName),F!==0&&(T.angle=F*(180/Math.PI));let we=!1;if(_.str.length>1)we=!0;else if(_.str!==" "&&_.transform[0]!==_.transform[3]){const me=Math.abs(_.transform[0]),re=Math.abs(_.transform[3]);me!==re&&Math.max(me,re)/Math.min(me,re)>1.5&&(we=!0)}we&&(T.canvasWidth=C.vertical?_.height:_.width),b._textDivProperties.set(k,T),b._isReadableStream&&b._layoutText(k)}function y(b){const{div:_,scale:E,properties:k,ctx:T,prevFontSize:L,prevFontFamily:F}=b,{style:C}=_;let O="";if(k.canvasWidth!==0&&k.hasText){const{fontFamily:P}=C,{canvasWidth:G,fontSize:W}=k;(L!==W||F!==P)&&(T.font=`${W*E}px ${P}`,b.prevFontSize=W,b.prevFontFamily=P);const{width:J}=T.measureText(_.textContent);J>0&&(O=`scaleX(${G*E/J})`)}k.angle!==0&&(O=`rotate(${k.angle}deg) ${O}`),O.length>0&&(C.transform=O)}function x(b){if(b._canceled)return;const _=b._textDivs,E=b._capability;if(_.length>o){E.resolve();return}if(!b._isReadableStream)for(const T of _)b._layoutText(T);E.resolve()}class S{constructor({textContentSource:_,container:E,viewport:k,textDivs:T,textDivProperties:L,textContentItemsStr:F,isOffscreenCanvasSupported:C}){var J;this._textContentSource=_,this._isReadableStream=_ instanceof ReadableStream,this._container=this._rootContainer=E,this._textDivs=T||[],this._textContentItemsStr=F||[],this._isOffscreenCanvasSupported=C,this._fontInspectorEnabled=!!((J=globalThis.FontInspector)!=null&&J.enabled),this._reader=null,this._textDivProperties=L||new WeakMap,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:k.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:h(0,C)};const{pageWidth:O,pageHeight:P,pageX:G,pageY:W}=k.rawDims;this._transform=[1,0,0,-1,-G,W+P],this._pageWidth=O,this._pageHeight=P,(0,s.setLayerDimensions)(E,k),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(_,E){for(const k of _){if(k.str===void 0){if(k.type==="beginMarkedContentProps"||k.type==="beginMarkedContent"){const T=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),k.id!==null&&this._container.setAttribute("id",`${k.id}`),T.append(this._container)}else k.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(k.str),g(this,k,E)}}_layoutText(_){const E=this._layoutTextParams.properties=this._textDivProperties.get(_);if(this._layoutTextParams.div=_,y(this._layoutTextParams),E.hasText&&this._container.append(_),E.hasEOL){const k=document.createElement("br");k.setAttribute("role","presentation"),this._container.append(k)}}_render(){const _=(0,i.createPromiseCapability)();let E=Object.create(null);if(this._isReadableStream){const k=()=>{this._reader.read().then(({value:T,done:L})=>{if(L){_.resolve();return}Object.assign(E,T.styles),this._processItems(T.items,E),k()},_.reject)};this._reader=this._textContentSource.getReader(),k()}else if(this._textContentSource){const{items:k,styles:T}=this._textContentSource;this._processItems(k,T),_.resolve()}else throw new Error('No "textContentSource" parameter specified.');_.promise.then(()=>{E=null,x(this)},this._capability.reject)}}e.TextLayerRenderTask=S;function w(b){!b.textContentSource&&(b.textContent||b.textContentStream)&&((0,s.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),b.textContentSource=b.textContent||b.textContentStream);const _=new S(b);return _._render(),_}function v({container:b,viewport:_,textDivs:E,textDivProperties:k,isOffscreenCanvasSupported:T,mustRotate:L=!0,mustRescale:F=!0}){if(L&&(0,s.setLayerDimensions)(b,{rotation:_.rotation}),F){const C=h(0,T),P={prevFontSize:null,prevFontFamily:null,div:null,scale:_.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:C};for(const G of E)P.properties=k.get(G),P.div=G,y(P)}}},(t,e,n)=>{var h,p,g,y,x,S,w,v,b,uu,md,cu,du;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var i=n(1),s=n(5),o=n(28),l=n(29),c=n(6);const L=class L{constructor(C){Gt(this,b);Gt(this,h);Gt(this,p,!1);Gt(this,g,this.pointerup.bind(this));Gt(this,y,this.pointerdown.bind(this));Gt(this,x,new Map);Gt(this,S,!1);Gt(this,w,!1);Gt(this,v);L._initialized||(L._initialized=!0,o.FreeTextEditor.initialize(C.l10n),l.InkEditor.initialize(C.l10n)),C.uiManager.registerEditorTypes([o.FreeTextEditor,l.InkEditor]),ln(this,v,C.uiManager),this.pageIndex=C.pageIndex,this.div=C.div,ln(this,h,C.accessibilityManager),de(this,v).addLayer(this)}get isEmpty(){return de(this,x).size===0}updateToolbar(C){de(this,v).updateToolbar(C)}updateMode(C=de(this,v).getMode()){Ft(this,b,du).call(this),C===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),de(this,v).unselectAll(),C!==i.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",C===i.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",C===i.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(C){if(!C&&de(this,v).getMode()!==i.AnnotationEditorType.INK)return;if(!C){for(const P of de(this,x).values())if(P.isEmpty()){P.setInBackground();return}}Ft(this,b,cu).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(C){de(this,v).setEditingState(C)}addCommands(C){de(this,v).addCommands(C)}enable(){this.div.style.pointerEvents="auto";for(const C of de(this,x).values())C.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const C of de(this,x).values())C.disableEditing();Ft(this,b,du).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(C){de(this,v).getActive()!==C&&de(this,v).setActiveEditor(C)}enableClick(){this.div.addEventListener("pointerdown",de(this,y)),this.div.addEventListener("pointerup",de(this,g))}disableClick(){this.div.removeEventListener("pointerdown",de(this,y)),this.div.removeEventListener("pointerup",de(this,g))}attach(C){de(this,x).set(C.id,C)}detach(C){var O;de(this,x).delete(C.id),(O=de(this,h))==null||O.removePointerInTextLayer(C.contentDiv)}remove(C){de(this,v).removeEditor(C),this.detach(C),C.div.style.display="none",setTimeout(()=>{C.div.style.display="",C.div.remove(),C.isAttachedToDOM=!1,document.activeElement===document.body&&de(this,v).focusMainContainer()},0),de(this,w)||this.addInkEditorIfNeeded(!1)}add(C){if(Ft(this,b,uu).call(this,C),de(this,v).addEditor(C),this.attach(C),!C.isAttachedToDOM){const O=C.render();this.div.append(O),C.isAttachedToDOM=!0}this.moveEditorInDOM(C),C.onceAdded(),de(this,v).addToAnnotationStorage(C)}moveEditorInDOM(C){var O;(O=de(this,h))==null||O.moveElementInDOM(this.div,C.div,C.contentDiv,!0)}addOrRebuild(C){C.needsToBeRebuilt()?C.rebuild():this.add(C)}addANewEditor(C){const O=()=>{this.addOrRebuild(C)},P=()=>{C.remove()};this.addCommands({cmd:O,undo:P,mustExec:!0})}addUndoableEditor(C){const O=()=>{this.addOrRebuild(C)},P=()=>{C.remove()};this.addCommands({cmd:O,undo:P,mustExec:!1})}getNextId(){return de(this,v).getId()}deserialize(C){switch(C.annotationType){case i.AnnotationEditorType.FREETEXT:return o.FreeTextEditor.deserialize(C,this,de(this,v));case i.AnnotationEditorType.INK:return l.InkEditor.deserialize(C,this,de(this,v))}return null}setSelected(C){de(this,v).setSelected(C)}toggleSelected(C){de(this,v).toggleSelected(C)}isSelected(C){return de(this,v).isSelected(C)}unselect(C){de(this,v).unselect(C)}pointerup(C){const{isMac:O}=i.FeatureTest.platform;if(!(C.button!==0||C.ctrlKey&&O)&&C.target===this.div&&de(this,S)){if(ln(this,S,!1),!de(this,p)){ln(this,p,!0);return}Ft(this,b,cu).call(this,C)}}pointerdown(C){const{isMac:O}=i.FeatureTest.platform;if(C.button!==0||C.ctrlKey&&O||C.target!==this.div)return;ln(this,S,!0);const P=de(this,v).getActive();ln(this,p,!P||P.isEmpty())}drop(C){const O=C.dataTransfer.getData("text/plain"),P=de(this,v).getEditor(O);if(!P)return;C.preventDefault(),C.dataTransfer.dropEffect="move",Ft(this,b,uu).call(this,P);const G=this.div.getBoundingClientRect(),W=C.clientX-G.x,J=C.clientY-G.y;P.translate(W-P.startX,J-P.startY),this.moveEditorInDOM(P),P.div.focus()}dragover(C){C.preventDefault()}destroy(){var C,O;((C=de(this,v).getActive())==null?void 0:C.parent)===this&&de(this,v).setActiveEditor(null);for(const P of de(this,x).values())(O=de(this,h))==null||O.removePointerInTextLayer(P.contentDiv),P.setParent(null),P.isAttachedToDOM=!1,P.div.remove();this.div=null,de(this,x).clear(),de(this,v).removeLayer(this)}render({viewport:C}){this.viewport=C,(0,c.setLayerDimensions)(this.div,C),(0,s.bindEvents)(this,this.div,["dragover","drop"]);for(const O of de(this,v).getEditors(this.pageIndex))this.add(O);this.updateMode()}update({viewport:C}){de(this,v).commitOrRemove(),this.viewport=C,(0,c.setLayerDimensions)(this.div,{rotation:C.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:C,pageHeight:O}=this.viewport.rawDims;return[C,O]}};h=new WeakMap,p=new WeakMap,g=new WeakMap,y=new WeakMap,x=new WeakMap,S=new WeakMap,w=new WeakMap,v=new WeakMap,b=new WeakSet,uu=function(C){var O;C.parent!==this&&(this.attach(C),(O=C.parent)==null||O.detach(C),C.setParent(this),C.div&&C.isAttachedToDOM&&(C.div.remove(),this.div.append(C.div)))},md=function(C){switch(de(this,v).getMode()){case i.AnnotationEditorType.FREETEXT:return new o.FreeTextEditor(C);case i.AnnotationEditorType.INK:return new l.InkEditor(C)}return null},cu=function(C){const O=this.getNextId(),P=Ft(this,b,md).call(this,{parent:this,id:O,x:C.offsetX,y:C.offsetY,uiManager:de(this,v)});return P&&this.add(P),P},du=function(){ln(this,w,!0);for(const C of de(this,x).values())C.isEmpty()&&C.remove();ln(this,w,!1)},wr(L,"_initialized",!1);let f=L;e.AnnotationEditorLayer=f},(t,e,n)=>{var c,f,h,p,g,y,x,S,w,v,gd,vd,yd,fu;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var i=n(1),s=n(5),o=n(4);const T=class T extends o.AnnotationEditor{constructor(C){super({...C,name:"freeTextEditor"});Gt(this,v);Gt(this,c,this.editorDivBlur.bind(this));Gt(this,f,this.editorDivFocus.bind(this));Gt(this,h,this.editorDivInput.bind(this));Gt(this,p,this.editorDivKeydown.bind(this));Gt(this,g);Gt(this,y,"");Gt(this,x,`${this.id}-editor`);Gt(this,S,!1);Gt(this,w);ln(this,g,C.color||T._defaultColor||o.AnnotationEditor._defaultLineColor),ln(this,w,C.fontSize||T._defaultFontSize)}static initialize(C){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(P=>[P,C.get(P)]));const O=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(O.getPropertyValue("--freetext-padding"))}static updateDefaultParams(C,O){switch(C){case i.AnnotationEditorParamsType.FREETEXT_SIZE:T._defaultFontSize=O;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:T._defaultColor=O;break}}updateParams(C,O){switch(C){case i.AnnotationEditorParamsType.FREETEXT_SIZE:Ft(this,v,gd).call(this,O);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:Ft(this,v,vd).call(this,O);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,T._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,T._defaultColor||o.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,de(this,w)],[i.AnnotationEditorParamsType.FREETEXT_COLOR,de(this,g)]]}getInitialTranslation(){const C=this.parentScale;return[-T._internalPadding*C,-(T._internalPadding+de(this,w))*C]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",de(this,p)),this.editorDiv.addEventListener("focus",de(this,f)),this.editorDiv.addEventListener("blur",de(this,c)),this.editorDiv.addEventListener("input",de(this,h)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",de(this,x)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",de(this,p)),this.editorDiv.removeEventListener("focus",de(this,f)),this.editorDiv.removeEventListener("blur",de(this,c)),this.editorDiv.removeEventListener("input",de(this,h)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(C){super.focusin(C),C.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),de(this,S)||(ln(this,S,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),ln(this,y,Ft(this,v,yd).call(this).trimEnd()),Ft(this,v,fu).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(C){this.enableEditMode(),this.editorDiv.focus()}keydown(C){C.target===this.div&&C.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(C){T._keyboardManager.exec(this,C)}editorDivFocus(C){this.isEditing=!0}editorDivBlur(C){this.isEditing=!1}editorDivInput(C){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let C,O;this.width&&(C=this.x,O=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",de(this,x)),this.enableEditing(),T._l10nPromise.get("editor_free_text2_aria_label").then(G=>{var W;return(W=this.editorDiv)==null?void 0:W.setAttribute("aria-label",G)}),T._l10nPromise.get("free_text2_default_content").then(G=>{var W;return(W=this.editorDiv)==null?void 0:W.setAttribute("default-content",G)}),this.editorDiv.contentEditable=!0;const{style:P}=this.editorDiv;if(P.fontSize=`calc(${de(this,w)}px * var(--scale-factor))`,P.color=de(this,g),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,s.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[G,W]=this.parentDimensions;this.setAt(C*G,O*W,this.width*G,this.height*W);for(const J of de(this,y).split(`
`)){const ne=document.createElement("div");ne.append(J?document.createTextNode(J):document.createElement("br")),this.editorDiv.append(ne)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(C,O,P){const G=super.deserialize(C,O,P);return ln(G,w,C.fontSize),ln(G,g,i.Util.makeHexColor(...C.color)),ln(G,y,C.value),G}serialize(){if(this.isEmpty())return null;const C=T._internalPadding*this.parentScale,O=this.getRect(C,C),P=o.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:de(this,g));return{annotationType:i.AnnotationEditorType.FREETEXT,color:P,fontSize:de(this,w),value:de(this,y),pageIndex:this.pageIndex,rect:O,rotation:this.rotation}}};c=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,g=new WeakMap,y=new WeakMap,x=new WeakMap,S=new WeakMap,w=new WeakMap,v=new WeakSet,gd=function(C){const O=G=>{this.editorDiv.style.fontSize=`calc(${G}px * var(--scale-factor))`,this.translate(0,-(G-de(this,w))*this.parentScale),ln(this,w,G),Ft(this,v,fu).call(this)},P=de(this,w);this.addCommands({cmd:()=>{O(C)},undo:()=>{O(P)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},vd=function(C){const O=de(this,g);this.addCommands({cmd:()=>{ln(this,g,this.editorDiv.style.color=C)},undo:()=>{ln(this,g,this.editorDiv.style.color=O)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},yd=function(){const C=this.editorDiv.getElementsByTagName("div");if(C.length===0)return this.editorDiv.innerText;const O=[];for(const P of C)O.push(P.innerText.replace(/\r\n?|\n/,""));return O.join(`
`)},fu=function(){const[C,O]=this.parentDimensions;let P;if(this.isAttachedToDOM)P=this.div.getBoundingClientRect();else{const{currentLayer:G,div:W}=this,J=W.style.display;W.style.display="hidden",G.div.append(this.div),P=W.getBoundingClientRect(),W.remove(),W.style.display=J}this.width=P.width/C,this.height=P.height/O},wr(T,"_freeTextDefaultContent",""),wr(T,"_l10nPromise"),wr(T,"_internalPadding",0),wr(T,"_defaultColor",null),wr(T,"_defaultFontSize",10),wr(T,"_keyboardManager",new s.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],T.prototype.commitOrRemove]])),wr(T,"_type","freetext");let l=T;e.FreeTextEditor=l},(t,e,n)=>{var p,g,y,x,S,w,v,b,_,E,k,T,L,F,C,bd,xd,Ed,wd,hu,Sd,_d,Cd,bs,pu,ja,za,Ao,mu,$a,Y,gu,Ad,Td,Rd,vu,Ua,To,yu;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return o.fitCurve}});var i=n(1),s=n(4),o=n(30),l=n(5);const c=16,f=100,K=class K extends s.AnnotationEditor{constructor(Z){super({...Z,name:"inkEditor"});Gt(this,C);Gt(this,p,0);Gt(this,g,0);Gt(this,y,0);Gt(this,x,this.canvasPointermove.bind(this));Gt(this,S,this.canvasPointerleave.bind(this));Gt(this,w,this.canvasPointerup.bind(this));Gt(this,v,this.canvasPointerdown.bind(this));Gt(this,b,!1);Gt(this,_,!1);Gt(this,E,null);Gt(this,k,null);Gt(this,T,0);Gt(this,L,0);Gt(this,F,null);this.color=Z.color||null,this.thickness=Z.thickness||null,this.opacity=Z.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Z){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(ve=>[ve,Z.get(ve)]))}static updateDefaultParams(Z,ve){switch(Z){case i.AnnotationEditorParamsType.INK_THICKNESS:K._defaultThickness=ve;break;case i.AnnotationEditorParamsType.INK_COLOR:K._defaultColor=ve;break;case i.AnnotationEditorParamsType.INK_OPACITY:K._defaultOpacity=ve/100;break}}updateParams(Z,ve){switch(Z){case i.AnnotationEditorParamsType.INK_THICKNESS:Ft(this,C,bd).call(this,ve);break;case i.AnnotationEditorParamsType.INK_COLOR:Ft(this,C,xd).call(this,ve);break;case i.AnnotationEditorParamsType.INK_OPACITY:Ft(this,C,Ed).call(this,ve);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,K._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,K._defaultColor||s.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(K._defaultOpacity*100)]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||K._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||K._defaultColor||s.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??K._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Ft(this,C,ja).call(this),Ft(this,C,za).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ft(this,C,Ao).call(this)),Ft(this,C,To).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,de(this,k).disconnect(),ln(this,k,null),super.remove())}setParent(Z){!this.parent&&Z?this._uiManager.removeShouldRescale(this):this.parent&&Z===null&&this._uiManager.addShouldRescale(this),super.setParent(Z)}onScaleChanging(){const[Z,ve]=this.parentDimensions,Pe=this.width*Z,Fe=this.height*ve;this.setDimensions(Pe,Fe)}enableEditMode(){de(this,b)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",de(this,v)),this.canvas.addEventListener("pointerup",de(this,w)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",de(this,v)),this.canvas.removeEventListener("pointerup",de(this,w)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){de(this,b)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ln(this,b,!0),this.div.classList.add("disabled"),Ft(this,C,To).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(Z){super.focusin(Z),this.enableEditMode()}canvasPointerdown(Z){Z.button!==0||!this.isInEditMode()||de(this,b)||(this.setInForeground(),Z.type!=="mouse"&&this.div.focus(),Z.stopPropagation(),this.canvas.addEventListener("pointerleave",de(this,S)),this.canvas.addEventListener("pointermove",de(this,x)),Ft(this,C,Sd).call(this,Z.offsetX,Z.offsetY))}canvasPointermove(Z){Z.stopPropagation(),Ft(this,C,_d).call(this,Z.offsetX,Z.offsetY)}canvasPointerup(Z){Z.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Z.stopPropagation(),Ft(this,C,pu).call(this,Z),this.setInBackground())}canvasPointerleave(Z){Ft(this,C,pu).call(this,Z),this.setInBackground()}render(){if(this.div)return this.div;let Z,ve;this.width&&(Z=this.x,ve=this.y),super.render(),K._l10nPromise.get("editor_ink2_aria_label").then(xe=>{var Se;return(Se=this.div)==null?void 0:Se.setAttribute("aria-label",xe)});const[Pe,Fe,it,fe]=Ft(this,C,wd).call(this);if(this.setAt(Pe,Fe,0,0),this.setDims(it,fe),Ft(this,C,ja).call(this),this.width){const[xe,Se]=this.parentDimensions;this.setAt(Z*xe,ve*Se,this.width*xe,this.height*Se),ln(this,_,!0),Ft(this,C,Ao).call(this),this.setDims(this.width*xe,this.height*Se),Ft(this,C,bs).call(this),Ft(this,C,yu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ft(this,C,za).call(this),this.div}setDimensions(Z,ve){const Pe=Math.round(Z),Fe=Math.round(ve);if(de(this,T)===Pe&&de(this,L)===Fe)return;ln(this,T,Pe),ln(this,L,Fe),this.canvas.style.visibility="hidden",de(this,p)&&Math.abs(de(this,p)-Z/ve)>.01&&(ve=Math.ceil(Z/de(this,p)),this.setDims(Z,ve));const[it,fe]=this.parentDimensions;this.width=Z/it,this.height=ve/fe,de(this,b)&&Ft(this,C,mu).call(this,Z,ve),Ft(this,C,Ao).call(this),Ft(this,C,bs).call(this),this.canvas.style.visibility="visible"}static deserialize(Z,ve,Pe){var yt,Nt;const Fe=super.deserialize(Z,ve,Pe);Fe.thickness=Z.thickness,Fe.color=i.Util.makeHexColor(...Z.color),Fe.opacity=Z.opacity;const[it,fe]=Fe.pageDimensions,xe=Fe.width*it,Se=Fe.height*fe,gt=Fe.parentScale,qe=Z.thickness/2;ln(Fe,p,xe/Se),ln(Fe,b,!0),ln(Fe,T,Math.round(xe)),ln(Fe,L,Math.round(Se));for(const{bezier:nn}of Z.paths){const zt=[];Fe.paths.push(zt);let mt=gt*(nn[0]-qe),Ue=gt*(Se-nn[1]-qe);for(let Mt=2,cn=nn.length;Mt<cn;Mt+=6){const te=gt*(nn[Mt]-qe),vt=gt*(Se-nn[Mt+1]-qe),It=gt*(nn[Mt+2]-qe),Dt=gt*(Se-nn[Mt+3]-qe),Ee=gt*(nn[Mt+4]-qe),Et=gt*(Se-nn[Mt+5]-qe);zt.push([[mt,Ue],[te,vt],[It,Dt],[Ee,Et]]),mt=Ee,Ue=Et}const Me=Ft(this,Y,gu).call(this,zt);Fe.bezierPath2D.push(Me)}const dt=Ft(yt=Fe,C,vu).call(yt);return ln(Fe,y,Math.max(c,dt[2]-dt[0])),ln(Fe,g,Math.max(c,dt[3]-dt[1])),Ft(Nt=Fe,C,mu).call(Nt,xe,Se),Fe}serialize(){if(this.isEmpty())return null;const Z=this.getRect(0,0),ve=this.rotation%180===0?Z[3]-Z[1]:Z[2]-Z[0],Pe=s.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:Pe,thickness:this.thickness,opacity:this.opacity,paths:Ft(this,C,Ad).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ve),pageIndex:this.pageIndex,rect:Z,rotation:this.rotation}}};p=new WeakMap,g=new WeakMap,y=new WeakMap,x=new WeakMap,S=new WeakMap,w=new WeakMap,v=new WeakMap,b=new WeakMap,_=new WeakMap,E=new WeakMap,k=new WeakMap,T=new WeakMap,L=new WeakMap,F=new WeakMap,C=new WeakSet,bd=function(Z){const ve=this.thickness;this.addCommands({cmd:()=>{this.thickness=Z,Ft(this,C,To).call(this)},undo:()=>{this.thickness=ve,Ft(this,C,To).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},xd=function(Z){const ve=this.color;this.addCommands({cmd:()=>{this.color=Z,Ft(this,C,bs).call(this)},undo:()=>{this.color=ve,Ft(this,C,bs).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ed=function(Z){Z/=100;const ve=this.opacity;this.addCommands({cmd:()=>{this.opacity=Z,Ft(this,C,bs).call(this)},undo:()=>{this.opacity=ve,Ft(this,C,bs).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},wd=function(){const{parentRotation:Z,parentDimensions:[ve,Pe]}=this;switch(Z){case 90:return[0,Pe,Pe,ve];case 180:return[ve,Pe,ve,Pe];case 270:return[ve,0,Pe,ve];default:return[0,0,ve,Pe]}},hu=function(){const{ctx:Z,color:ve,opacity:Pe,thickness:Fe,parentScale:it,scaleFactor:fe}=this;Z.lineWidth=Fe*it/fe,Z.lineCap="round",Z.lineJoin="round",Z.miterLimit=10,Z.strokeStyle=`${ve}${(0,l.opacityToHex)(Pe)}`},Sd=function(Z,ve){this.isEditing=!0,de(this,_)||(ln(this,_,!0),Ft(this,C,Ao).call(this),this.thickness||(this.thickness=K._defaultThickness),this.color||(this.color=K._defaultColor||s.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=K._defaultOpacity)),this.currentPath.push([Z,ve]),ln(this,E,null),Ft(this,C,hu).call(this),this.ctx.beginPath(),this.ctx.moveTo(Z,ve),ln(this,F,()=>{de(this,F)&&(de(this,E)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):Ft(this,C,bs).call(this),this.ctx.lineTo(...de(this,E)),ln(this,E,null),this.ctx.stroke()),window.requestAnimationFrame(de(this,F)))}),window.requestAnimationFrame(de(this,F))},_d=function(Z,ve){const[Pe,Fe]=this.currentPath.at(-1);Z===Pe&&ve===Fe||(this.currentPath.push([Z,ve]),ln(this,E,[Z,ve]))},Cd=function(Z,ve){var gt;this.ctx.closePath(),ln(this,F,null),Z=Math.min(Math.max(Z,0),this.canvas.width),ve=Math.min(Math.max(ve,0),this.canvas.height);const[Pe,Fe]=this.currentPath.at(-1);(Z!==Pe||ve!==Fe)&&this.currentPath.push([Z,ve]);let it;if(this.currentPath.length!==1)it=(0,o.fitCurve)(this.currentPath,30,null);else{const qe=[Z,ve];it=[[qe,qe.slice(),qe.slice(),qe]]}const fe=Ft(gt=K,Y,gu).call(gt,it);this.currentPath.length=0;const xe=()=>{this.paths.push(it),this.bezierPath2D.push(fe),this.rebuild()},Se=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ft(this,C,ja).call(this),Ft(this,C,za).call(this)),Ft(this,C,To).call(this))};this.addCommands({cmd:xe,undo:Se,mustExec:!0})},bs=function(){if(this.isEmpty()){Ft(this,C,$a).call(this);return}Ft(this,C,hu).call(this);const{canvas:Z,ctx:ve}=this;ve.setTransform(1,0,0,1,0,0),ve.clearRect(0,0,Z.width,Z.height),Ft(this,C,$a).call(this);for(const Pe of this.bezierPath2D)ve.stroke(Pe)},pu=function(Z){Ft(this,C,Cd).call(this,Z.offsetX,Z.offsetY),this.canvas.removeEventListener("pointerleave",de(this,S)),this.canvas.removeEventListener("pointermove",de(this,x)),this.addToAnnotationStorage()},ja=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",K._l10nPromise.get("editor_ink_canvas_aria_label").then(Z=>{var ve;return(ve=this.canvas)==null?void 0:ve.setAttribute("aria-label",Z)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},za=function(){let Z=null;ln(this,k,new ResizeObserver(ve=>{const Pe=ve[0].contentRect;Pe.width&&Pe.height&&(Z!==null&&clearTimeout(Z),Z=setTimeout(()=>{this.fixDims(),Z=null},f),this.setDimensions(Pe.width,Pe.height))})),de(this,k).observe(this.div)},Ao=function(){if(!de(this,_))return;const[Z,ve]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Z),this.canvas.height=Math.ceil(this.height*ve),Ft(this,C,$a).call(this)},mu=function(Z,ve){const Pe=Ft(this,C,Ua).call(this),Fe=(Z-Pe)/de(this,y),it=(ve-Pe)/de(this,g);this.scaleFactor=Math.min(Fe,it)},$a=function(){const Z=Ft(this,C,Ua).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Z,this.translationY*this.scaleFactor+Z)},Y=new WeakSet,gu=function(Z){const ve=new Path2D;for(let Pe=0,Fe=Z.length;Pe<Fe;Pe++){const[it,fe,xe,Se]=Z[Pe];Pe===0&&ve.moveTo(...it),ve.bezierCurveTo(fe[0],fe[1],xe[0],xe[1],Se[0],Se[1])}return ve},Ad=function(Z,ve,Pe,Fe){const fe=[],xe=this.thickness/2;let Se,gt;for(const qe of this.paths){Se=[],gt=[];for(let dt=0,yt=qe.length;dt<yt;dt++){const[Nt,nn,zt,mt]=qe[dt],Ue=Z*(Nt[0]+ve)+xe,Me=Fe-Z*(Nt[1]+Pe)-xe,Mt=Z*(nn[0]+ve)+xe,cn=Fe-Z*(nn[1]+Pe)-xe,te=Z*(zt[0]+ve)+xe,vt=Fe-Z*(zt[1]+Pe)-xe,It=Z*(mt[0]+ve)+xe,Dt=Fe-Z*(mt[1]+Pe)-xe;dt===0&&(Se.push(Ue,Me),gt.push(Ue,Me)),Se.push(Mt,cn,te,vt,It,Dt),Ft(this,C,Td).call(this,Ue,Me,Mt,cn,te,vt,It,Dt,4,gt)}fe.push({bezier:Se,points:gt})}return fe},Td=function(Z,ve,Pe,Fe,it,fe,xe,Se,gt,qe){if(Ft(this,C,Rd).call(this,Z,ve,Pe,Fe,it,fe,xe,Se)){qe.push(xe,Se);return}for(let dt=1;dt<gt-1;dt++){const yt=dt/gt,Nt=1-yt;let nn=yt*Z+Nt*Pe,zt=yt*ve+Nt*Fe,mt=yt*Pe+Nt*it,Ue=yt*Fe+Nt*fe;const Me=yt*it+Nt*xe,Mt=yt*fe+Nt*Se;nn=yt*nn+Nt*mt,zt=yt*zt+Nt*Ue,mt=yt*mt+Nt*Me,Ue=yt*Ue+Nt*Mt,nn=yt*nn+Nt*mt,zt=yt*zt+Nt*Ue,qe.push(nn,zt)}qe.push(xe,Se)},Rd=function(Z,ve,Pe,Fe,it,fe,xe,Se){const qe=(3*Pe-2*Z-xe)**2,dt=(3*Fe-2*ve-Se)**2,yt=(3*it-Z-2*xe)**2,Nt=(3*fe-ve-2*Se)**2;return Math.max(qe,yt)+Math.max(dt,Nt)<=10},vu=function(){let Z=1/0,ve=-1/0,Pe=1/0,Fe=-1/0;for(const it of this.paths)for(const[fe,xe,Se,gt]of it){const qe=i.Util.bezierBoundingBox(...fe,...xe,...Se,...gt);Z=Math.min(Z,qe[0]),Pe=Math.min(Pe,qe[1]),ve=Math.max(ve,qe[2]),Fe=Math.max(Fe,qe[3])}return[Z,Pe,ve,Fe]},Ua=function(){return de(this,b)?Math.ceil(this.thickness*this.parentScale):0},To=function(Z=!1){if(this.isEmpty())return;if(!de(this,b)){Ft(this,C,bs).call(this);return}const ve=Ft(this,C,vu).call(this),Pe=Ft(this,C,Ua).call(this);ln(this,y,Math.max(c,ve[2]-ve[0])),ln(this,g,Math.max(c,ve[3]-ve[1]));const Fe=Math.ceil(Pe+de(this,y)*this.scaleFactor),it=Math.ceil(Pe+de(this,g)*this.scaleFactor),[fe,xe]=this.parentDimensions;this.width=Fe/fe,this.height=it/xe,ln(this,p,Fe/it),Ft(this,C,yu).call(this);const Se=this.translationX,gt=this.translationY;this.translationX=-ve[0],this.translationY=-ve[1],Ft(this,C,Ao).call(this),Ft(this,C,bs).call(this),ln(this,T,Fe),ln(this,L,it),this.setDims(Fe,it);const qe=Z?Pe/this.scaleFactor/2:0;this.translate(Se-this.translationX-qe,gt-this.translationY-qe)},yu=function(){const{style:Z}=this.div;de(this,p)>=1?(Z.minHeight=`${c}px`,Z.minWidth=`${Math.round(de(this,p)*c)}px`):(Z.minWidth=`${c}px`,Z.minHeight=`${Math.round(c/de(this,p))}px`)},Gt(K,Y),wr(K,"_defaultColor",null),wr(K,"_defaultOpacity",1),wr(K,"_defaultThickness",1),wr(K,"_l10nPromise"),wr(K,"_type","ink");let h=K;e.InkEditor=h},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const i=n(31);e.fitCurve=i},t=>{function e(S,w,v){if(!Array.isArray(S))throw new TypeError("First argument should be an array");if(S.forEach(k=>{if(!Array.isArray(k)||k.some(T=>typeof T!="number")||k.length!==S[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),S=S.filter((k,T)=>T===0||!k.every((L,F)=>L===S[T-1][F])),S.length<2)return[];const b=S.length,_=g(S[1],S[0]),E=g(S[b-2],S[b-1]);return n(S,_,E,w,v)}function n(S,w,v,b,_){var k,T,L,F,C,O,P,G,W,J,ne,we,me;if(S.length===2)return we=y.vectorLen(y.subtract(S[0],S[1]))/3,k=[S[0],y.addArrays(S[0],y.mulItems(w,we)),y.addArrays(S[1],y.mulItems(v,we)),S[1]],[k];if(T=c(S),[k,F,O]=i(S,T,T,w,v,_),F===0||F<b)return[k];if(F<b*b)for(L=T,C=F,P=O,me=0;me<20;me++){if(L=o(k,S,L),[k,F,O]=i(S,T,L,w,v,_),F<b)return[k];if(O===P){let re=F/C;if(re>.9999&&re<1.0001)break}C=F,P=O}return ne=[],G=y.subtract(S[O-1],S[O+1]),G.every(re=>re===0)&&(G=y.subtract(S[O-1],S[O]),[G[0],G[1]]=[-G[1],G[0]]),W=y.normalize(G),J=y.mulItems(W,-1),ne=ne.concat(n(S.slice(0,O+1),w,W,b,_)),ne=ne.concat(n(S.slice(O),J,v,b,_)),ne}function i(S,w,v,b,_,E){var k,T,L;return k=s(S,v,b,_),[T,L]=f(S,k,w),E&&E({bez:k,points:S,params:w,maxErr:T,maxPoint:L}),[k,T,L]}function s(S,w,v,b){var _,E,k,T,L,F,C,O,P,G,W,J,ne,we,me,re,ee,be=S[0],ke=S[S.length-1];for(_=[be,null,null,ke],E=y.zeros_Xx2x2(w.length),ne=0,we=w.length;ne<we;ne++)re=w[ne],ee=1-re,k=E[ne],k[0]=y.mulItems(v,3*re*(ee*ee)),k[1]=y.mulItems(b,3*ee*(re*re));for(T=[[0,0],[0,0]],L=[0,0],ne=0,we=S.length;ne<we;ne++)re=w[ne],k=E[ne],T[0][0]+=y.dot(k[0],k[0]),T[0][1]+=y.dot(k[0],k[1]),T[1][0]+=y.dot(k[0],k[1]),T[1][1]+=y.dot(k[1],k[1]),me=y.subtract(S[ne],x.q([be,be,ke,ke],re)),L[0]+=y.dot(k[0],me),L[1]+=y.dot(k[1],me);return F=T[0][0]*T[1][1]-T[1][0]*T[0][1],C=T[0][0]*L[1]-T[1][0]*L[0],O=L[0]*T[1][1]-L[1]*T[0][1],P=F===0?0:O/F,G=F===0?0:C/F,J=y.vectorLen(y.subtract(be,ke)),W=1e-6*J,P<W||G<W?(_[1]=y.addArrays(be,y.mulItems(v,J/3)),_[2]=y.addArrays(ke,y.mulItems(b,J/3))):(_[1]=y.addArrays(be,y.mulItems(v,P)),_[2]=y.addArrays(ke,y.mulItems(b,G))),_}function o(S,w,v){return v.map((b,_)=>l(S,w[_],b))}function l(S,w,v){var b=y.subtract(x.q(S,v),w),_=x.qprime(S,v),E=y.mulMatrix(b,_),k=y.sum(y.squareItems(_))+2*y.mulMatrix(b,x.qprimeprime(S,v));return k===0?v:v-E/k}function c(S){var w=[],v,b,_;return S.forEach((E,k)=>{v=k?b+y.vectorLen(y.subtract(E,_)):0,w.push(v),b=v,_=E}),w=w.map(E=>E/b),w}function f(S,w,v){var b,_,E,k,T,L,F,C;_=0,E=Math.floor(S.length/2);const O=h(w,10);for(T=0,L=S.length;T<L;T++)F=S[T],C=p(w,v[T],O,10),k=y.subtract(x.q(w,C),F),b=k[0]*k[0]+k[1]*k[1],b>_&&(_=b,E=T);return[_,E]}var h=function(S,w){for(var v,b=[0],_=S[0],E=0,k=1;k<=w;k++)v=x.q(S,k/w),E+=y.vectorLen(y.subtract(v,_)),b.push(E),_=v;return b=b.map(T=>T/E),b};function p(S,w,v,b){if(w<0)return 0;if(w>1)return 1;for(var _,E,k,T,L,F=1;F<=b;F++)if(w<=v[F]){T=(F-1)/b,k=F/b,E=v[F-1],_=v[F],L=(w-E)/(_-E)*(k-T)+T;break}return L}function g(S,w){return y.normalize(y.subtract(S,w))}class y{static zeros_Xx2x2(w){for(var v=[];w--;)v.push([0,0]);return v}static mulItems(w,v){return w.map(b=>b*v)}static mulMatrix(w,v){return w.reduce((b,_,E)=>b+_*v[E],0)}static subtract(w,v){return w.map((b,_)=>b-v[_])}static addArrays(w,v){return w.map((b,_)=>b+v[_])}static addItems(w,v){return w.map(b=>b+v)}static sum(w){return w.reduce((v,b)=>v+b)}static dot(w,v){return y.mulMatrix(w,v)}static vectorLen(w){return Math.hypot(...w)}static divItems(w,v){return w.map(b=>b/v)}static squareItems(w){return w.map(v=>v*v)}static normalize(w){return this.divItems(w,this.vectorLen(w))}}class x{static q(w,v){var b=1-v,_=y.mulItems(w[0],b*b*b),E=y.mulItems(w[1],3*b*b*v),k=y.mulItems(w[2],3*b*v*v),T=y.mulItems(w[3],v*v*v);return y.addArrays(y.addArrays(_,E),y.addArrays(k,T))}static qprime(w,v){var b=1-v,_=y.mulItems(y.subtract(w[1],w[0]),3*b*b),E=y.mulItems(y.subtract(w[2],w[1]),6*b*v),k=y.mulItems(y.subtract(w[3],w[2]),3*v*v);return y.addArrays(y.addArrays(_,E),k)}static qprimeprime(w,v){return y.addArrays(y.mulItems(y.addArrays(y.subtract(w[2],y.mulItems(w[1],2)),w[0]),6*(1-v)),y.mulItems(y.addArrays(y.subtract(w[3],y.mulItems(w[2],2)),w[1]),6*v))}}t.exports=e,t.exports.fitCubic=n,t.exports.createTangent=g},(t,e,n)=>{var U,oo,kd,he,bu,xu;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var i=n(1),s=n(6),o=n(3),l=n(33),c=n(34);const f=1e3,h=9,p=new WeakSet;function g(Ie){return{width:Ie[2]-Ie[0],height:Ie[3]-Ie[1]}}class y{static create(V){switch(V.data.annotationType){case i.AnnotationType.LINK:return new S(V);case i.AnnotationType.TEXT:return new w(V);case i.AnnotationType.WIDGET:switch(V.data.fieldType){case"Tx":return new b(V);case"Btn":return V.data.radioButton?new E(V):V.data.checkBox?new _(V):new k(V);case"Ch":return new T(V)}return new v(V);case i.AnnotationType.POPUP:return new L(V);case i.AnnotationType.FREETEXT:return new C(V);case i.AnnotationType.LINE:return new O(V);case i.AnnotationType.SQUARE:return new P(V);case i.AnnotationType.CIRCLE:return new G(V);case i.AnnotationType.POLYLINE:return new W(V);case i.AnnotationType.CARET:return new ne(V);case i.AnnotationType.INK:return new we(V);case i.AnnotationType.POLYGON:return new J(V);case i.AnnotationType.HIGHLIGHT:return new me(V);case i.AnnotationType.UNDERLINE:return new re(V);case i.AnnotationType.SQUIGGLY:return new ee(V);case i.AnnotationType.STRIKEOUT:return new be(V);case i.AnnotationType.STAMP:return new ke(V);case i.AnnotationType.FILEATTACHMENT:return new z(V);default:return new x(V)}}}class x{constructor(V,{isRenderable:K=!1,ignoreBorder:ae=!1,createQuadrilaterals:ue=!1}={}){this.isRenderable=K,this.data=V.data,this.layer=V.layer,this.page=V.page,this.viewport=V.viewport,this.linkService=V.linkService,this.downloadManager=V.downloadManager,this.imageResourcesPath=V.imageResourcesPath,this.renderForms=V.renderForms,this.svgFactory=V.svgFactory,this.annotationStorage=V.annotationStorage,this.enableScripting=V.enableScripting,this.hasJSActions=V.hasJSActions,this._fieldObjects=V.fieldObjects,K&&(this.container=this._createContainer(ae)),ue&&(this.quadrilaterals=this._createQuadrilaterals(ae))}_createContainer(V=!1){const{data:K,page:ae,viewport:ue}=this,Z=document.createElement("section");Z.setAttribute("data-annotation-id",K.id);const{pageWidth:ve,pageHeight:Pe,pageX:Fe,pageY:it}=ue.rawDims,{width:fe,height:xe}=g(K.rect),Se=i.Util.normalizeRect([K.rect[0],ae.view[3]-K.rect[1]+ae.view[1],K.rect[2],ae.view[3]-K.rect[3]+ae.view[1]]);if(!V&&K.borderStyle.width>0){Z.style.borderWidth=`${K.borderStyle.width}px`;const qe=K.borderStyle.horizontalCornerRadius,dt=K.borderStyle.verticalCornerRadius;if(qe>0||dt>0){const Nt=`calc(${qe}px * var(--scale-factor)) / calc(${dt}px * var(--scale-factor))`;Z.style.borderRadius=Nt}else if(this instanceof E){const Nt=`calc(${fe}px * var(--scale-factor)) / calc(${xe}px * var(--scale-factor))`;Z.style.borderRadius=Nt}switch(K.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:Z.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:Z.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:Z.style.borderBottomStyle="solid";break}const yt=K.borderColor||null;yt?Z.style.borderColor=i.Util.makeHexColor(yt[0]|0,yt[1]|0,yt[2]|0):Z.style.borderWidth=0}Z.style.left=`${100*(Se[0]-Fe)/ve}%`,Z.style.top=`${100*(Se[1]-it)/Pe}%`;const{rotation:gt}=K;return K.hasOwnCanvas||gt===0?(Z.style.width=`${100*fe/ve}%`,Z.style.height=`${100*xe/Pe}%`):this.setRotation(gt,Z),Z}setRotation(V,K=this.container){const{pageWidth:ae,pageHeight:ue}=this.viewport.rawDims,{width:Z,height:ve}=g(this.data.rect);let Pe,Fe;V%180===0?(Pe=100*Z/ae,Fe=100*ve/ue):(Pe=100*ve/ae,Fe=100*Z/ue),K.style.width=`${Pe}%`,K.style.height=`${Fe}%`,K.setAttribute("data-main-rotation",(360-V)%360)}get _commonActions(){const V=(K,ae,ue)=>{const Z=ue.detail[K];ue.target.style[ae]=l.ColorConverters[`${Z[0]}_HTML`](Z.slice(1))};return(0,i.shadow)(this,"_commonActions",{display:K=>{const ae=K.detail.display%2===1;this.container.style.visibility=ae?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ae,print:K.detail.display===0||K.detail.display===3})},print:K=>{this.annotationStorage.setValue(this.data.id,{print:K.detail.print})},hidden:K=>{this.container.style.visibility=K.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:K.detail.hidden})},focus:K=>{setTimeout(()=>K.target.focus({preventScroll:!1}),0)},userName:K=>{K.target.title=K.detail.userName},readonly:K=>{K.detail.readonly?K.target.setAttribute("readonly",""):K.target.removeAttribute("readonly")},required:K=>{this._setRequired(K.target,K.detail.required)},bgColor:K=>{V("bgColor","backgroundColor",K)},fillColor:K=>{V("fillColor","backgroundColor",K)},fgColor:K=>{V("fgColor","color",K)},textColor:K=>{V("textColor","color",K)},borderColor:K=>{V("borderColor","borderColor",K)},strokeColor:K=>{V("strokeColor","borderColor",K)},rotation:K=>{const ae=K.detail.rotation;this.setRotation(ae),this.annotationStorage.setValue(this.data.id,{rotation:ae})}})}_dispatchEventFromSandbox(V,K){const ae=this._commonActions;for(const ue of Object.keys(K.detail)){const Z=V[ue]||ae[ue];Z==null||Z(K)}}_setDefaultPropertiesFromJS(V){if(!this.enableScripting)return;const K=this.annotationStorage.getRawValue(this.data.id);if(!K)return;const ae=this._commonActions;for(const[ue,Z]of Object.entries(K)){const ve=ae[ue];if(ve){const Pe={detail:{[ue]:Z},target:V};ve(Pe),delete K[ue]}}}_createQuadrilaterals(V=!1){if(!this.data.quadPoints)return null;const K=[],ae=this.data.rect;for(const ue of this.data.quadPoints)this.data.rect=[ue[2].x,ue[2].y,ue[1].x,ue[1].y],K.push(this._createContainer(V));return this.data.rect=ae,K}_createPopup(V,K){let ae=this.container;this.quadrilaterals&&(V=V||this.quadrilaterals,ae=this.quadrilaterals[0]),V||(V=document.createElement("div"),V.className="popupTriggerArea",ae.append(V));const Z=new F({container:ae,trigger:V,color:K.color,titleObj:K.titleObj,modificationDate:K.modificationDate,contentsObj:K.contentsObj,richText:K.richText,hideWrapper:!0}).render();Z.style.left="100%",ae.append(Z)}_renderQuadrilaterals(V){for(const K of this.quadrilaterals)K.className=V;return this.quadrilaterals}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(V,K=null){const ae=[];if(this._fieldObjects){const ue=this._fieldObjects[V];if(ue)for(const{page:Z,id:ve,exportValues:Pe}of ue){if(Z===-1||ve===K)continue;const Fe=typeof Pe=="string"?Pe:null,it=document.querySelector(`[data-element-id="${ve}"]`);if(it&&!p.has(it)){(0,i.warn)(`_getElementsByName - element not allowed: ${ve}`);continue}ae.push({id:ve,exportValue:Fe,domElement:it})}return ae}for(const ue of document.getElementsByName(V)){const{exportValue:Z}=ue,ve=ue.getAttribute("data-element-id");ve!==K&&p.has(ue)&&ae.push({id:ve,exportValue:Z,domElement:ue})}return ae}}class S extends x{constructor(K,ae=null){super(K,{isRenderable:!0,ignoreBorder:!!(ae!=null&&ae.ignoreBorder),createQuadrilaterals:!0});Gt(this,U);this.isTooltipOnly=K.data.isTooltipOnly}render(){const{data:K,linkService:ae}=this,ue=document.createElement("a");ue.setAttribute("data-element-id",K.id);let Z=!1;return K.url?(ae.addLinkAttributes(ue,K.url,K.newWindow),Z=!0):K.action?(this._bindNamedAction(ue,K.action),Z=!0):K.attachment?(this._bindAttachment(ue,K.attachment),Z=!0):K.setOCGState?(Ft(this,U,kd).call(this,ue,K.setOCGState),Z=!0):K.dest?(this._bindLink(ue,K.dest),Z=!0):(K.actions&&(K.actions.Action||K.actions["Mouse Up"]||K.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ue,K),Z=!0),K.resetForm?(this._bindResetFormAction(ue,K.resetForm),Z=!0):this.isTooltipOnly&&!Z&&(this._bindLink(ue,""),Z=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((ve,Pe)=>{const Fe=Pe===0?ue:ue.cloneNode();return ve.append(Fe),ve}):(this.container.className="linkAnnotation",Z&&this.container.append(ue),this.container)}_bindLink(K,ae){K.href=this.linkService.getDestinationHash(ae),K.onclick=()=>(ae&&this.linkService.goToDestination(ae),!1),(ae||ae==="")&&Ft(this,U,oo).call(this)}_bindNamedAction(K,ae){K.href=this.linkService.getAnchorUrl(""),K.onclick=()=>(this.linkService.executeNamedAction(ae),!1),Ft(this,U,oo).call(this)}_bindAttachment(K,ae){K.href=this.linkService.getAnchorUrl(""),K.onclick=()=>{var ue;return(ue=this.downloadManager)==null||ue.openOrDownloadData(this.container,ae.content,ae.filename),!1},Ft(this,U,oo).call(this)}_bindJSAction(K,ae){K.href=this.linkService.getAnchorUrl("");const ue=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Z of Object.keys(ae.actions)){const ve=ue.get(Z);ve&&(K[ve]=()=>{var Pe;return(Pe=this.linkService.eventBus)==null||Pe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ae.id,name:Z}}),!1})}K.onclick||(K.onclick=()=>!1),Ft(this,U,oo).call(this)}_bindResetFormAction(K,ae){const ue=K.onclick;if(ue||(K.href=this.linkService.getAnchorUrl("")),Ft(this,U,oo).call(this),!this._fieldObjects){(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ue||(K.onclick=()=>!1);return}K.onclick=()=>{var xe;ue==null||ue();const{fields:Z,refs:ve,include:Pe}=ae,Fe=[];if(Z.length!==0||ve.length!==0){const Se=new Set(ve);for(const gt of Z){const qe=this._fieldObjects[gt]||[];for(const{id:dt}of qe)Se.add(dt)}for(const gt of Object.values(this._fieldObjects))for(const qe of gt)Se.has(qe.id)===Pe&&Fe.push(qe)}else for(const Se of Object.values(this._fieldObjects))Fe.push(...Se);const it=this.annotationStorage,fe=[];for(const Se of Fe){const{id:gt}=Se;switch(fe.push(gt),Se.type){case"text":{const dt=Se.defaultValue||"";it.setValue(gt,{value:dt});break}case"checkbox":case"radiobutton":{const dt=Se.defaultValue===Se.exportValues;it.setValue(gt,{value:dt});break}case"combobox":case"listbox":{const dt=Se.defaultValue||"";it.setValue(gt,{value:dt});break}default:continue}const qe=document.querySelector(`[data-element-id="${gt}"]`);if(qe){if(!p.has(qe)){(0,i.warn)(`_bindResetFormAction - element not allowed: ${gt}`);continue}}else continue;qe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((xe=this.linkService.eventBus)==null||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:fe,name:"ResetForm"}})),!1}}}U=new WeakSet,oo=function(){this.container.setAttribute("data-internal-link","")},kd=function(K,ae){K.href=this.linkService.getAnchorUrl(""),K.onclick=()=>(this.linkService.executeSetOCGState(ae),!1),Ft(this,U,oo).call(this)};class w extends x{constructor(V){var ae,ue,Z;const K=!!(V.data.hasPopup||(ae=V.data.titleObj)!=null&&ae.str||(ue=V.data.contentsObj)!=null&&ue.str||(Z=V.data.richText)!=null&&Z.str);super(V,{isRenderable:K})}render(){this.container.className="textAnnotation";const V=document.createElement("img");return V.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",V.alt="[{{type}} Annotation]",V.dataset.l10nId="text_annotation_type",V.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(V,this.data),this.container.append(V),this.container}}class v extends x{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(V){const{isWin:K,isMac:ae}=i.FeatureTest.platform;return K&&V.ctrlKey||ae&&V.metaKey}_setEventListener(V,K,ae,ue){K.includes("mouse")?V.addEventListener(K,Z=>{var ve;(ve=this.linkService.eventBus)==null||ve.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ae,value:ue(Z),shift:Z.shiftKey,modifier:this._getKeyModifier(Z)}})}):V.addEventListener(K,Z=>{var ve;(ve=this.linkService.eventBus)==null||ve.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ae,value:ue(Z)}})})}_setEventListeners(V,K,ae){var ue;for(const[Z,ve]of K)(ve==="Action"||(ue=this.data.actions)!=null&&ue[ve])&&this._setEventListener(V,Z,ve,ae)}_setBackgroundColor(V){const K=this.data.backgroundColor||null;V.style.backgroundColor=K===null?"transparent":i.Util.makeHexColor(K[0],K[1],K[2])}_setTextStyle(V){const K=["left","center","right"],{fontColor:ae}=this.data.defaultAppearanceData,ue=this.data.defaultAppearanceData.fontSize||h,Z=V.style;let ve;const Pe=2,Fe=it=>Math.round(10*it)/10;if(this.data.multiLine){const it=Math.abs(this.data.rect[3]-this.data.rect[1]-Pe),fe=Math.round(it/(i.LINE_FACTOR*ue))||1,xe=it/fe;ve=Math.min(ue,Fe(xe/i.LINE_FACTOR))}else{const it=Math.abs(this.data.rect[3]-this.data.rect[1]-Pe);ve=Math.min(ue,Fe(it/i.LINE_FACTOR))}Z.fontSize=`calc(${ve}px * var(--scale-factor))`,Z.color=i.Util.makeHexColor(ae[0],ae[1],ae[2]),this.data.textAlignment!==null&&(Z.textAlign=K[this.data.textAlignment])}_setRequired(V,K){K?V.setAttribute("required",!0):V.removeAttribute("required"),V.setAttribute("aria-required",K)}}class b extends v{constructor(V){const K=V.renderForms||!V.data.hasAppearance&&!!V.data.fieldValue;super(V,{isRenderable:K})}setPropertyOnSiblings(V,K,ae,ue){const Z=this.annotationStorage;for(const ve of this._getElementsByName(V.name,V.id))ve.domElement&&(ve.domElement[K]=ae),Z.setValue(ve.id,{[ue]:ae})}render(){var ue;const V=this.annotationStorage,K=this.data.id;this.container.className="textWidgetAnnotation";let ae=null;if(this.renderForms){const Z=V.getValue(K,{value:this.data.fieldValue});let ve=Z.formattedValue||Z.value||"";const Pe=V.getValue(K,{charLimit:this.data.maxLen}).charLimit;Pe&&ve.length>Pe&&(ve=ve.slice(0,Pe));const Fe={userValue:ve,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(ae=document.createElement("textarea"),ae.textContent=ve,this.data.doNotScroll&&(ae.style.overflowY="hidden")):(ae=document.createElement("input"),ae.type="text",ae.setAttribute("value",ve),this.data.doNotScroll&&(ae.style.overflowX="hidden")),p.add(ae),ae.setAttribute("data-element-id",K),ae.disabled=this.data.readOnly,ae.name=this.data.fieldName,ae.tabIndex=f,this._setRequired(ae,this.data.required),Pe&&(ae.maxLength=Pe),ae.addEventListener("input",fe=>{V.setValue(K,{value:fe.target.value}),this.setPropertyOnSiblings(ae,"value",fe.target.value,"value")}),ae.addEventListener("resetform",fe=>{const xe=this.data.defaultFieldValue??"";ae.value=Fe.userValue=xe,Fe.formattedValue=null});let it=fe=>{const{formattedValue:xe}=Fe;xe!=null&&(fe.target.value=xe),fe.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ae.addEventListener("focus",xe=>{const{target:Se}=xe;Fe.userValue&&(Se.value=Fe.userValue),Fe.lastCommittedValue=Se.value,Fe.commitKey=1}),ae.addEventListener("updatefromsandbox",xe=>{const Se={value(gt){Fe.userValue=gt.detail.value??"",V.setValue(K,{value:Fe.userValue.toString()}),gt.target.value=Fe.userValue},formattedValue(gt){const{formattedValue:qe}=gt.detail;Fe.formattedValue=qe,qe!=null&&gt.target!==document.activeElement&&(gt.target.value=qe),V.setValue(K,{formattedValue:qe})},selRange(gt){gt.target.setSelectionRange(...gt.detail.selRange)},charLimit:gt=>{var Nt;const{charLimit:qe}=gt.detail,{target:dt}=gt;if(qe===0){dt.removeAttribute("maxLength");return}dt.setAttribute("maxLength",qe);let yt=Fe.userValue;!yt||yt.length<=qe||(yt=yt.slice(0,qe),dt.value=Fe.userValue=yt,V.setValue(K,{value:yt}),(Nt=this.linkService.eventBus)==null||Nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:yt,willCommit:!0,commitKey:1,selStart:dt.selectionStart,selEnd:dt.selectionEnd}}))}};this._dispatchEventFromSandbox(Se,xe)}),ae.addEventListener("keydown",xe=>{var qe;Fe.commitKey=1;let Se=-1;if(xe.key==="Escape"?Se=0:xe.key==="Enter"&&!this.data.multiLine?Se=2:xe.key==="Tab"&&(Fe.commitKey=3),Se===-1)return;const{value:gt}=xe.target;Fe.lastCommittedValue!==gt&&(Fe.lastCommittedValue=gt,Fe.userValue=gt,(qe=this.linkService.eventBus)==null||qe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:gt,willCommit:!0,commitKey:Se,selStart:xe.target.selectionStart,selEnd:xe.target.selectionEnd}}))});const fe=it;it=null,ae.addEventListener("blur",xe=>{var gt;if(!xe.relatedTarget)return;const{value:Se}=xe.target;Fe.userValue=Se,Fe.lastCommittedValue!==Se&&((gt=this.linkService.eventBus)==null||gt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:Se,willCommit:!0,commitKey:Fe.commitKey,selStart:xe.target.selectionStart,selEnd:xe.target.selectionEnd}})),fe(xe)}),(ue=this.data.actions)!=null&&ue.Keystroke&&ae.addEventListener("beforeinput",xe=>{var zt;Fe.lastCommittedValue=null;const{data:Se,target:gt}=xe,{value:qe,selectionStart:dt,selectionEnd:yt}=gt;let Nt=dt,nn=yt;switch(xe.inputType){case"deleteWordBackward":{const mt=qe.substring(0,dt).match(/\w*[^\w]*$/);mt&&(Nt-=mt[0].length);break}case"deleteWordForward":{const mt=qe.substring(dt).match(/^[^\w]*\w*/);mt&&(nn+=mt[0].length);break}case"deleteContentBackward":dt===yt&&(Nt-=1);break;case"deleteContentForward":dt===yt&&(nn+=1);break}xe.preventDefault(),(zt=this.linkService.eventBus)==null||zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:qe,change:Se||"",willCommit:!1,selStart:Nt,selEnd:nn}})}),this._setEventListeners(ae,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xe=>xe.target.value)}if(it&&ae.addEventListener("blur",it),this.data.comb){const xe=(this.data.rect[2]-this.data.rect[0])/Pe;ae.classList.add("comb"),ae.style.letterSpacing=`calc(${xe}px * var(--scale-factor) - 1ch)`}}else ae=document.createElement("div"),ae.textContent=this.data.fieldValue,ae.style.verticalAlign="middle",ae.style.display="table-cell";return this._setTextStyle(ae),this._setBackgroundColor(ae),this._setDefaultPropertiesFromJS(ae),this.container.append(ae),this.container}}class _ extends v{constructor(V){super(V,{isRenderable:V.renderForms})}render(){const V=this.annotationStorage,K=this.data,ae=K.id;let ue=V.getValue(ae,{value:K.exportValue===K.fieldValue}).value;typeof ue=="string"&&(ue=ue!=="Off",V.setValue(ae,{value:ue})),this.container.className="buttonWidgetAnnotation checkBox";const Z=document.createElement("input");return p.add(Z),Z.setAttribute("data-element-id",ae),Z.disabled=K.readOnly,this._setRequired(Z,this.data.required),Z.type="checkbox",Z.name=K.fieldName,ue&&Z.setAttribute("checked",!0),Z.setAttribute("exportValue",K.exportValue),Z.tabIndex=f,Z.addEventListener("change",ve=>{const{name:Pe,checked:Fe}=ve.target;for(const it of this._getElementsByName(Pe,ae)){const fe=Fe&&it.exportValue===K.exportValue;it.domElement&&(it.domElement.checked=fe),V.setValue(it.id,{value:fe})}V.setValue(ae,{value:Fe})}),Z.addEventListener("resetform",ve=>{const Pe=K.defaultFieldValue||"Off";ve.target.checked=Pe===K.exportValue}),this.enableScripting&&this.hasJSActions&&(Z.addEventListener("updatefromsandbox",ve=>{const Pe={value(Fe){Fe.target.checked=Fe.detail.value!=="Off",V.setValue(ae,{value:Fe.target.checked})}};this._dispatchEventFromSandbox(Pe,ve)}),this._setEventListeners(Z,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ve=>ve.target.checked)),this._setBackgroundColor(Z),this._setDefaultPropertiesFromJS(Z),this.container.append(Z),this.container}}class E extends v{constructor(V){super(V,{isRenderable:V.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const V=this.annotationStorage,K=this.data,ae=K.id;let ue=V.getValue(ae,{value:K.fieldValue===K.buttonValue}).value;typeof ue=="string"&&(ue=ue!==K.buttonValue,V.setValue(ae,{value:ue}));const Z=document.createElement("input");if(p.add(Z),Z.setAttribute("data-element-id",ae),Z.disabled=K.readOnly,this._setRequired(Z,this.data.required),Z.type="radio",Z.name=K.fieldName,ue&&Z.setAttribute("checked",!0),Z.tabIndex=f,Z.addEventListener("change",ve=>{const{name:Pe,checked:Fe}=ve.target;for(const it of this._getElementsByName(Pe,ae))V.setValue(it.id,{value:!1});V.setValue(ae,{value:Fe})}),Z.addEventListener("resetform",ve=>{const Pe=K.defaultFieldValue;ve.target.checked=Pe!=null&&Pe===K.buttonValue}),this.enableScripting&&this.hasJSActions){const ve=K.buttonValue;Z.addEventListener("updatefromsandbox",Pe=>{const Fe={value:it=>{const fe=ve===it.detail.value;for(const xe of this._getElementsByName(it.target.name)){const Se=fe&&xe.id===ae;xe.domElement&&(xe.domElement.checked=Se),V.setValue(xe.id,{value:Se})}}};this._dispatchEventFromSandbox(Fe,Pe)}),this._setEventListeners(Z,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Pe=>Pe.target.checked)}return this._setBackgroundColor(Z),this._setDefaultPropertiesFromJS(Z),this.container.append(Z),this.container}}class k extends S{constructor(V){super(V,{ignoreBorder:V.data.hasAppearance})}render(){const V=super.render();V.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(V.title=this.data.alternativeText);const K=V.lastChild;return this.enableScripting&&this.hasJSActions&&K&&(this._setDefaultPropertiesFromJS(K),K.addEventListener("updatefromsandbox",ae=>{this._dispatchEventFromSandbox({},ae)})),V}}class T extends v{constructor(V){super(V,{isRenderable:V.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const V=this.annotationStorage,K=this.data.id,ae=V.getValue(K,{value:this.data.fieldValue}),ue=document.createElement("select");p.add(ue),ue.setAttribute("data-element-id",K),ue.disabled=this.data.readOnly,this._setRequired(ue,this.data.required),ue.name=this.data.fieldName,ue.tabIndex=f;let Z=this.data.combo&&this.data.options.length>0;this.data.combo||(ue.size=this.data.options.length,this.data.multiSelect&&(ue.multiple=!0)),ue.addEventListener("resetform",fe=>{const xe=this.data.defaultFieldValue;for(const Se of ue.options)Se.selected=Se.value===xe});for(const fe of this.data.options){const xe=document.createElement("option");xe.textContent=fe.displayValue,xe.value=fe.exportValue,ae.value.includes(fe.exportValue)&&(xe.setAttribute("selected",!0),Z=!1),ue.append(xe)}let ve=null;if(Z){const fe=document.createElement("option");fe.value=" ",fe.setAttribute("hidden",!0),fe.setAttribute("selected",!0),ue.prepend(fe),ve=()=>{fe.remove(),ue.removeEventListener("input",ve),ve=null},ue.addEventListener("input",ve)}const Pe=fe=>{const xe=fe?"value":"textContent",{options:Se,multiple:gt}=ue;return gt?Array.prototype.filter.call(Se,qe=>qe.selected).map(qe=>qe[xe]):Se.selectedIndex===-1?null:Se[Se.selectedIndex][xe]};let Fe=Pe(!1);const it=fe=>{const xe=fe.target.options;return Array.prototype.map.call(xe,Se=>({displayValue:Se.textContent,exportValue:Se.value}))};return this.enableScripting&&this.hasJSActions?(ue.addEventListener("updatefromsandbox",fe=>{const xe={value(Se){ve==null||ve();const gt=Se.detail.value,qe=new Set(Array.isArray(gt)?gt:[gt]);for(const dt of ue.options)dt.selected=qe.has(dt.value);V.setValue(K,{value:Pe(!0)}),Fe=Pe(!1)},multipleSelection(Se){ue.multiple=!0},remove(Se){const gt=ue.options,qe=Se.detail.remove;gt[qe].selected=!1,ue.remove(qe),gt.length>0&&Array.prototype.findIndex.call(gt,yt=>yt.selected)===-1&&(gt[0].selected=!0),V.setValue(K,{value:Pe(!0),items:it(Se)}),Fe=Pe(!1)},clear(Se){for(;ue.length!==0;)ue.remove(0);V.setValue(K,{value:null,items:[]}),Fe=Pe(!1)},insert(Se){const{index:gt,displayValue:qe,exportValue:dt}=Se.detail.insert,yt=ue.children[gt],Nt=document.createElement("option");Nt.textContent=qe,Nt.value=dt,yt?yt.before(Nt):ue.append(Nt),V.setValue(K,{value:Pe(!0),items:it(Se)}),Fe=Pe(!1)},items(Se){const{items:gt}=Se.detail;for(;ue.length!==0;)ue.remove(0);for(const qe of gt){const{displayValue:dt,exportValue:yt}=qe,Nt=document.createElement("option");Nt.textContent=dt,Nt.value=yt,ue.append(Nt)}ue.options.length>0&&(ue.options[0].selected=!0),V.setValue(K,{value:Pe(!0),items:it(Se)}),Fe=Pe(!1)},indices(Se){const gt=new Set(Se.detail.indices);for(const qe of Se.target.options)qe.selected=gt.has(qe.index);V.setValue(K,{value:Pe(!0)}),Fe=Pe(!1)},editable(Se){Se.target.disabled=!Se.detail.editable}};this._dispatchEventFromSandbox(xe,fe)}),ue.addEventListener("input",fe=>{var Se;const xe=Pe(!0);V.setValue(K,{value:xe}),fe.preventDefault(),(Se=this.linkService.eventBus)==null||Se.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:Fe,changeEx:xe,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ue,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],fe=>fe.target.value)):ue.addEventListener("input",function(fe){V.setValue(K,{value:Pe(!0)})}),this.data.combo&&this._setTextStyle(ue),this._setBackgroundColor(ue),this._setDefaultPropertiesFromJS(ue),this.container.append(ue),this.container}}const ge=class ge extends x{constructor(V){var ue,Z,ve;const{data:K}=V,ae=!ge.IGNORE_TYPES.has(K.parentType)&&!!((ue=K.titleObj)!=null&&ue.str||(Z=K.contentsObj)!=null&&Z.str||(ve=K.richText)!=null&&ve.str);super(V,{isRenderable:ae})}render(){this.container.className="popupAnnotation";const V=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(V.length===0)return this.container;const K=new F({container:this.container,trigger:Array.from(V),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ae=this.page,ue=i.Util.normalizeRect([this.data.parentRect[0],ae.view[3]-this.data.parentRect[1]+ae.view[1],this.data.parentRect[2],ae.view[3]-this.data.parentRect[3]+ae.view[1]]),Z=ue[0]+this.data.parentRect[2]-this.data.parentRect[0],ve=ue[1],{pageWidth:Pe,pageHeight:Fe,pageX:it,pageY:fe}=this.viewport.rawDims;return this.container.style.left=`${100*(Z-it)/Pe}%`,this.container.style.top=`${100*(ve-fe)/Fe}%`,this.container.append(K.render()),this.container}};wr(ge,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let L=ge;class F{constructor(V){this.container=V.container,this.trigger=V.trigger,this.color=V.color,this.titleObj=V.titleObj,this.modificationDate=V.modificationDate,this.contentsObj=V.contentsObj,this.richText=V.richText,this.hideWrapper=V.hideWrapper||!1,this.pinned=!1}render(){var Pe,Fe;const K=document.createElement("div");K.className="popupWrapper",this.hideElement=this.hideWrapper?K:this.container,this.hideElement.hidden=!0;const ae=document.createElement("div");ae.className="popup";const ue=this.color;if(ue){const it=.7*(255-ue[0])+ue[0],fe=.7*(255-ue[1])+ue[1],xe=.7*(255-ue[2])+ue[2];ae.style.backgroundColor=i.Util.makeHexColor(it|0,fe|0,xe|0)}const Z=document.createElement("h1");Z.dir=this.titleObj.dir,Z.textContent=this.titleObj.str,ae.append(Z);const ve=s.PDFDateString.toDateObject(this.modificationDate);if(ve){const it=document.createElement("span");it.className="popupDate",it.textContent="{{date}}, {{time}}",it.dataset.l10nId="annotation_date_string",it.dataset.l10nArgs=JSON.stringify({date:ve.toLocaleDateString(),time:ve.toLocaleTimeString()}),ae.append(it)}if((Pe=this.richText)!=null&&Pe.str&&(!((Fe=this.contentsObj)!=null&&Fe.str)||this.contentsObj.str===this.richText.str))c.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ae}),ae.lastChild.className="richText popupContent";else{const it=this._formatContents(this.contentsObj);ae.append(it)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const it of this.trigger)it.addEventListener("click",this._toggle.bind(this)),it.addEventListener("mouseover",this._show.bind(this,!1)),it.addEventListener("mouseout",this._hide.bind(this,!1));return ae.addEventListener("click",this._hide.bind(this,!0)),K.append(ae),K}_formatContents({str:V,dir:K}){const ae=document.createElement("p");ae.className="popupContent",ae.dir=K;const ue=V.split(/(?:\r\n?|\n)/);for(let Z=0,ve=ue.length;Z<ve;++Z){const Pe=ue[Z];ae.append(document.createTextNode(Pe)),Z<ve-1&&ae.append(document.createElement("br"))}return ae}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(V=!1){V&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(V=!0){V&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class C extends x{constructor(V){var ae,ue,Z;const K=!!(V.data.hasPopup||(ae=V.data.titleObj)!=null&&ae.str||(ue=V.data.contentsObj)!=null&&ue.str||(Z=V.data.richText)!=null&&Z.str);super(V,{isRenderable:K,ignoreBorder:!0}),this.textContent=V.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const V=document.createElement("div");V.className="annotationTextContent",V.setAttribute("role","comment");for(const K of this.textContent){const ae=document.createElement("span");ae.textContent=K,V.append(ae)}this.container.append(V)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class O extends x{constructor(V){var ae,ue,Z;const K=!!(V.data.hasPopup||(ae=V.data.titleObj)!=null&&ae.str||(ue=V.data.contentsObj)!=null&&ue.str||(Z=V.data.richText)!=null&&Z.str);super(V,{isRenderable:K,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const V=this.data,{width:K,height:ae}=g(V.rect),ue=this.svgFactory.create(K,ae,!0),Z=this.svgFactory.createElement("svg:line");return Z.setAttribute("x1",V.rect[2]-V.lineCoordinates[0]),Z.setAttribute("y1",V.rect[3]-V.lineCoordinates[1]),Z.setAttribute("x2",V.rect[2]-V.lineCoordinates[2]),Z.setAttribute("y2",V.rect[3]-V.lineCoordinates[3]),Z.setAttribute("stroke-width",V.borderStyle.width||1),Z.setAttribute("stroke","transparent"),Z.setAttribute("fill","transparent"),ue.append(Z),this.container.append(ue),this._createPopup(Z,V),this.container}}class P extends x{constructor(V){var ae,ue,Z;const K=!!(V.data.hasPopup||(ae=V.data.titleObj)!=null&&ae.str||(ue=V.data.contentsObj)!=null&&ue.str||(Z=V.data.richText)!=null&&Z.str);super(V,{isRenderable:K,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const V=this.data,{width:K,height:ae}=g(V.rect),ue=this.svgFactory.create(K,ae,!0),Z=V.borderStyle.width,ve=this.svgFactory.createElement("svg:rect");return ve.setAttribute("x",Z/2),ve.setAttribute("y",Z/2),ve.setAttribute("width",K-Z),ve.setAttribute("height",ae-Z),ve.setAttribute("stroke-width",Z||1),ve.setAttribute("stroke","transparent"),ve.setAttribute("fill","transparent"),ue.append(ve),this.container.append(ue),this._createPopup(ve,V),this.container}}class G extends x{constructor(V){var ae,ue,Z;const K=!!(V.data.hasPopup||(ae=V.data.titleObj)!=null&&ae.str||(ue=V.data.contentsObj)!=null&&ue.str||(Z=V.data.richText)!=null&&Z.str);super(V,{isRenderable:K,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const V=this.data,{width:K,height:ae}=g(V.rect),ue=this.svgFactory.create(K,ae,!0),Z=V.borderStyle.width,ve=this.svgFactory.createElement("svg:ellipse");return ve.setAttribute("cx",K/2),ve.setAttribute("cy",ae/2),ve.setAttribute("rx",K/2-Z/2),ve.setAttribute("ry",ae/2-Z/2),ve.setAttribute("stroke-width",Z||1),ve.setAttribute("stroke","transparent"),ve.setAttribute("fill","transparent"),ue.append(ve),this.container.append(ue),this._createPopup(ve,V),this.container}}class W extends x{constructor(V){var ae,ue,Z;const K=!!(V.data.hasPopup||(ae=V.data.titleObj)!=null&&ae.str||(ue=V.data.contentsObj)!=null&&ue.str||(Z=V.data.richText)!=null&&Z.str);super(V,{isRenderable:K,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const V=this.data,{width:K,height:ae}=g(V.rect),ue=this.svgFactory.create(K,ae,!0);let Z=[];for(const Pe of V.vertices){const Fe=Pe.x-V.rect[0],it=V.rect[3]-Pe.y;Z.push(Fe+","+it)}Z=Z.join(" ");const ve=this.svgFactory.createElement(this.svgElementName);return ve.setAttribute("points",Z),ve.setAttribute("stroke-width",V.borderStyle.width||1),ve.setAttribute("stroke","transparent"),ve.setAttribute("fill","transparent"),ue.append(ve),this.container.append(ue),this._createPopup(ve,V),this.container}}class J extends W{constructor(V){super(V),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ne extends x{constructor(V){var ae,ue,Z;const K=!!(V.data.hasPopup||(ae=V.data.titleObj)!=null&&ae.str||(ue=V.data.contentsObj)!=null&&ue.str||(Z=V.data.richText)!=null&&Z.str);super(V,{isRenderable:K,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class we extends x{constructor(V){var ae,ue,Z;const K=!!(V.data.hasPopup||(ae=V.data.titleObj)!=null&&ae.str||(ue=V.data.contentsObj)!=null&&ue.str||(Z=V.data.richText)!=null&&Z.str);super(V,{isRenderable:K,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const V=this.data,{width:K,height:ae}=g(V.rect),ue=this.svgFactory.create(K,ae,!0);for(const Z of V.inkLists){let ve=[];for(const Fe of Z){const it=Fe.x-V.rect[0],fe=V.rect[3]-Fe.y;ve.push(`${it},${fe}`)}ve=ve.join(" ");const Pe=this.svgFactory.createElement(this.svgElementName);Pe.setAttribute("points",ve),Pe.setAttribute("stroke-width",V.borderStyle.width||1),Pe.setAttribute("stroke","transparent"),Pe.setAttribute("fill","transparent"),this._createPopup(Pe,V),ue.append(Pe)}return this.container.append(ue),this.container}}class me extends x{constructor(V){var ae,ue,Z;const K=!!(V.data.hasPopup||(ae=V.data.titleObj)!=null&&ae.str||(ue=V.data.contentsObj)!=null&&ue.str||(Z=V.data.richText)!=null&&Z.str);super(V,{isRenderable:K,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class re extends x{constructor(V){var ae,ue,Z;const K=!!(V.data.hasPopup||(ae=V.data.titleObj)!=null&&ae.str||(ue=V.data.contentsObj)!=null&&ue.str||(Z=V.data.richText)!=null&&Z.str);super(V,{isRenderable:K,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ee extends x{constructor(V){var ae,ue,Z;const K=!!(V.data.hasPopup||(ae=V.data.titleObj)!=null&&ae.str||(ue=V.data.contentsObj)!=null&&ue.str||(Z=V.data.richText)!=null&&Z.str);super(V,{isRenderable:K,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class be extends x{constructor(V){var ae,ue,Z;const K=!!(V.data.hasPopup||(ae=V.data.titleObj)!=null&&ae.str||(ue=V.data.contentsObj)!=null&&ue.str||(Z=V.data.richText)!=null&&Z.str);super(V,{isRenderable:K,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ke extends x{constructor(V){var ae,ue,Z;const K=!!(V.data.hasPopup||(ae=V.data.titleObj)!=null&&ae.str||(ue=V.data.contentsObj)!=null&&ue.str||(Z=V.data.richText)!=null&&Z.str);super(V,{isRenderable:K,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class z extends x{constructor(V){var ue;super(V,{isRenderable:!0});const{filename:K,content:ae}=this.data.file;this.filename=(0,s.getFilenameFromUrl)(K,!0),this.content=ae,(ue=this.linkService.eventBus)==null||ue.dispatch("fileattachmentannotation",{source:this,filename:K,content:ae})}render(){var K,ae;this.container.className="fileAttachmentAnnotation";let V;return this.data.hasAppearance?V=document.createElement("div"):(V=document.createElement("img"),V.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),V.className="popupTriggerArea",V.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((K=this.data.titleObj)!=null&&K.str||(ae=this.data.contentsObj)!=null&&ae.str||this.data.richText)&&this._createPopup(V,this.data),this.container.append(V),this.container}_download(){var V;(V=this.downloadManager)==null||V.openOrDownloadData(this.container,this.content,this.filename)}}const ot=class ot{static render(V){var Fe,it;const{annotations:K,div:ae,viewport:ue,accessibilityManager:Z}=V;(0,s.setLayerDimensions)(ae,ue);const ve={data:null,layer:ae,page:V.page,viewport:ue,linkService:V.linkService,downloadManager:V.downloadManager,imageResourcesPath:V.imageResourcesPath||"",renderForms:V.renderForms!==!1,svgFactory:new s.DOMSVGFactory,annotationStorage:V.annotationStorage||new o.AnnotationStorage,enableScripting:V.enableScripting===!0,hasJSActions:V.hasJSActions,fieldObjects:V.fieldObjects};let Pe=0;for(const fe of K){if(fe.annotationType!==i.AnnotationType.POPUP){const{width:gt,height:qe}=g(fe.rect);if(gt<=0||qe<=0)continue}ve.data=fe;const xe=y.create(ve);if(!xe.isRenderable)continue;const Se=xe.render();if(fe.hidden&&(Se.style.visibility="hidden"),Array.isArray(Se))for(const gt of Se)gt.style.zIndex=Pe++,Ft(Fe=ot,he,bu).call(Fe,gt,fe.id,ae,Z);else Se.style.zIndex=Pe++,xe instanceof L?ae.prepend(Se):Ft(it=ot,he,bu).call(it,Se,fe.id,ae,Z)}Ft(this,he,xu).call(this,ae,V.annotationCanvasMap)}static update(V){const{annotationCanvasMap:K,div:ae,viewport:ue}=V;(0,s.setLayerDimensions)(ae,{rotation:ue.rotation}),Ft(this,he,xu).call(this,ae,K),ae.hidden=!1}};he=new WeakSet,bu=function(V,K,ae,ue){const Z=V.firstChild||V;Z.id=`${s.AnnotationPrefix}${K}`,ae.append(V),ue==null||ue.moveElementInDOM(ae,V,Z,!1)},xu=function(V,K){if(K){for(const[ae,ue]of K){const Z=V.querySelector(`[data-annotation-id="${ae}"]`);if(!Z)continue;const{firstChild:ve}=Z;ve?ve.nodeName==="CANVAS"?ve.replaceWith(ue):ve.before(ue):Z.append(ue)}K.clear()}},Gt(ot,he);let j=ot;e.AnnotationLayer=j},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function n(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}class i{static CMYK_G([o,l,c,f]){return["G",1-Math.min(1,.3*o+.59*c+.11*l+f)]}static G_CMYK([o]){return["CMYK",0,0,0,1-o]}static G_RGB([o]){return["RGB",o,o,o]}static G_HTML([o]){const l=n(o);return`#${l}${l}${l}`}static RGB_G([o,l,c]){return["G",.3*o+.59*l+.11*c]}static RGB_HTML([o,l,c]){const f=n(o),h=n(l),p=n(c);return`#${f}${h}${p}`}static T_HTML(){return"#00000000"}static CMYK_RGB([o,l,c,f]){return["RGB",1-Math.min(1,o+f),1-Math.min(1,c+f),1-Math.min(1,l+f)]}static CMYK_HTML(o){const l=this.CMYK_RGB(o).slice(1);return this.RGB_HTML(l)}static RGB_CMYK([o,l,c]){const f=1-o,h=1-l,p=1-c,g=Math.min(f,h,p);return["CMYK",f,h,p,g]}}e.ColorConverters=i},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var i=n(19);class s{static setupStorage(l,c,f,h,p){const g=h.getValue(c,{value:null});switch(f.name){case"textarea":if(g.value!==null&&(l.textContent=g.value),p==="print")break;l.addEventListener("input",y=>{h.setValue(c,{value:y.target.value})});break;case"input":if(f.attributes.type==="radio"||f.attributes.type==="checkbox"){if(g.value===f.attributes.xfaOn?l.setAttribute("checked",!0):g.value===f.attributes.xfaOff&&l.removeAttribute("checked"),p==="print")break;l.addEventListener("change",y=>{h.setValue(c,{value:y.target.checked?y.target.getAttribute("xfaOn"):y.target.getAttribute("xfaOff")})})}else{if(g.value!==null&&l.setAttribute("value",g.value),p==="print")break;l.addEventListener("input",y=>{h.setValue(c,{value:y.target.value})})}break;case"select":if(g.value!==null)for(const y of f.children)y.attributes.value===g.value&&(y.attributes.selected=!0);l.addEventListener("input",y=>{const x=y.target.options,S=x.selectedIndex===-1?"":x[x.selectedIndex].value;h.setValue(c,{value:S})});break}}static setAttributes({html:l,element:c,storage:f=null,intent:h,linkService:p}){const{attributes:g}=c,y=l instanceof HTMLAnchorElement;g.type==="radio"&&(g.name=`${g.name}-${h}`);for(const[x,S]of Object.entries(g))if(S!=null)switch(x){case"class":S.length&&l.setAttribute(x,S.join(" "));break;case"dataId":break;case"id":l.setAttribute("data-element-id",S);break;case"style":Object.assign(l.style,S);break;case"textContent":l.textContent=S;break;default:(!y||x!=="href"&&x!=="newWindow")&&l.setAttribute(x,S)}y&&p.addLinkAttributes(l,g.href,g.newWindow),f&&g.dataId&&this.setupStorage(l,g.dataId,c,f)}static render(l){var w;const c=l.annotationStorage,f=l.linkService,h=l.xfaHtml,p=l.intent||"display",g=document.createElement(h.name);h.attributes&&this.setAttributes({html:g,element:h,intent:p,linkService:f});const y=[[h,-1,g]],x=l.div;if(x.append(g),l.viewport){const v=`matrix(${l.viewport.transform.join(",")})`;x.style.transform=v}p!=="richText"&&x.setAttribute("class","xfaLayer xfaFont");const S=[];for(;y.length>0;){const[v,b,_]=y.at(-1);if(b+1===v.children.length){y.pop();continue}const E=v.children[++y.at(-1)[1]];if(E===null)continue;const{name:k}=E;if(k==="#text"){const L=document.createTextNode(E.value);S.push(L),_.append(L);continue}let T;if((w=E==null?void 0:E.attributes)!=null&&w.xmlns?T=document.createElementNS(E.attributes.xmlns,k):T=document.createElement(k),_.append(T),E.attributes&&this.setAttributes({html:T,element:E,storage:c,intent:p,linkService:f}),E.children&&E.children.length>0)y.push([E,-1,T]);else if(E.value){const L=document.createTextNode(E.value);i.XfaText.shouldBuildText(k)&&S.push(L),T.append(L)}}for(const v of x.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:S}}static update(l){const c=`matrix(${l.viewport.transform.join(",")})`;l.div.style.transform=c,l.div.hidden=!1}}e.XfaLayer=s},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var i=n(6),s=n(1),o=n(10);let l=class{constructor(){(0,s.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=l;{let _=function(C){let O=[];const P=[];for(const G of C){if(G.fn==="save"){O.push({fnId:92,fn:"group",items:[]}),P.push(O),O=O.at(-1).items;continue}G.fn==="restore"?O=P.pop():O.push(G)}return O},E=function(C){if(Number.isInteger(C))return C.toString();const O=C.toFixed(10);let P=O.length-1;if(O[P]!=="0")return O;do P--;while(O[P]==="0");return O.substring(0,O[P]==="."?P:P+1)},k=function(C){if(C[4]===0&&C[5]===0){if(C[1]===0&&C[2]===0)return C[0]===1&&C[3]===1?"":`scale(${E(C[0])} ${E(C[3])})`;if(C[0]===C[3]&&C[1]===-C[2]){const O=Math.acos(C[0])*180/Math.PI;return`rotate(${E(O)})`}}else if(C[0]===1&&C[1]===0&&C[2]===0&&C[3]===1)return`translate(${E(C[4])} ${E(C[5])})`;return`matrix(${E(C[0])} ${E(C[1])} ${E(C[2])} ${E(C[3])} ${E(C[4])} ${E(C[5])})`};var c=_,f=E,h=k;const p={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},g="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/1999/xlink",x=["butt","round","square"],S=["miter","round","bevel"],w=function(C,O="",P=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!P)return URL.createObjectURL(new Blob([C],{type:O}));const G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let W=`data:${O};base64,`;for(let J=0,ne=C.length;J<ne;J+=3){const we=C[J]&255,me=C[J+1]&255,re=C[J+2]&255,ee=we>>2,be=(we&3)<<4|me>>4,ke=J+1<ne?(me&15)<<2|re>>6:64,z=J+2<ne?re&63:64;W+=G[ee]+G[be]+G[ke]+G[z]}return W},v=function(){const C=new Uint8Array([137,80,78,71,13,10,26,10]),O=12,P=new Int32Array(256);for(let re=0;re<256;re++){let ee=re;for(let be=0;be<8;be++)ee&1?ee=3988292384^ee>>1&2147483647:ee=ee>>1&2147483647;P[re]=ee}function G(re,ee,be){let ke=-1;for(let z=ee;z<be;z++){const j=(ke^re[z])&255,U=P[j];ke=ke>>>8^U}return ke^-1}function W(re,ee,be,ke){let z=ke;const j=ee.length;be[z]=j>>24&255,be[z+1]=j>>16&255,be[z+2]=j>>8&255,be[z+3]=j&255,z+=4,be[z]=re.charCodeAt(0)&255,be[z+1]=re.charCodeAt(1)&255,be[z+2]=re.charCodeAt(2)&255,be[z+3]=re.charCodeAt(3)&255,z+=4,be.set(ee,z),z+=ee.length;const U=G(be,ke+4,z);be[z]=U>>24&255,be[z+1]=U>>16&255,be[z+2]=U>>8&255,be[z+3]=U&255}function J(re,ee,be){let ke=1,z=0;for(let j=ee;j<be;++j)ke=(ke+(re[j]&255))%65521,z=(z+ke)%65521;return z<<16|ke}function ne(re){if(!o.isNodeJS)return we(re);try{let ee;parseInt(process.versions.node)>=8?ee=re:ee=Buffer.from(re);const be=require$$5.deflateSync(ee,{level:9});return be instanceof Uint8Array?be:new Uint8Array(be)}catch(ee){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ee)}return we(re)}function we(re){let ee=re.length;const be=65535,ke=Math.ceil(ee/be),z=new Uint8Array(2+ee+ke*5+4);let j=0;z[j++]=120,z[j++]=156;let U=0;for(;ee>be;)z[j++]=0,z[j++]=255,z[j++]=255,z[j++]=0,z[j++]=0,z.set(re.subarray(U,U+be),j),j+=be,U+=be,ee-=be;z[j++]=1,z[j++]=ee&255,z[j++]=ee>>8&255,z[j++]=~ee&65535&255,z[j++]=(~ee&65535)>>8&255,z.set(re.subarray(U),j),j+=re.length-U;const Y=J(re,0,re.length);return z[j++]=Y>>24&255,z[j++]=Y>>16&255,z[j++]=Y>>8&255,z[j++]=Y&255,z}function me(re,ee,be,ke){const z=re.width,j=re.height;let U,Y,ce;const ge=re.data;switch(ee){case s.ImageKind.GRAYSCALE_1BPP:Y=0,U=1,ce=z+7>>3;break;case s.ImageKind.RGB_24BPP:Y=2,U=8,ce=z*3;break;case s.ImageKind.RGBA_32BPP:Y=6,U=8,ce=z*4;break;default:throw new Error("invalid format")}const he=new Uint8Array((1+ce)*j);let ye=0,Ae=0;for(let ue=0;ue<j;++ue)he[ye++]=0,he.set(ge.subarray(Ae,Ae+ce),ye),Ae+=ce,ye+=ce;if(ee===s.ImageKind.GRAYSCALE_1BPP&&ke){ye=0;for(let ue=0;ue<j;ue++){ye++;for(let Z=0;Z<ce;Z++)he[ye++]^=255}}const ot=new Uint8Array([z>>24&255,z>>16&255,z>>8&255,z&255,j>>24&255,j>>16&255,j>>8&255,j&255,U,Y,0,0,0]),Ie=ne(he),V=C.length+O*3+ot.length+Ie.length,K=new Uint8Array(V);let ae=0;return K.set(C,ae),ae+=C.length,W("IHDR",ot,K,ae),ae+=O+ot.length,W("IDATA",Ie,K,ae),ae+=O+Ie.length,W("IEND",new Uint8Array(0),K,ae),w(K,"image/png",be)}return function(ee,be,ke){const z=ee.kind===void 0?s.ImageKind.GRAYSCALE_1BPP:ee.kind;return me(ee,z,be,ke)}}();class b{constructor(){this.fontSizeScale=1,this.fontWeight=p.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=p.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(O,P){this.x=O,this.y=P}}let T=0,L=0,F=0;e.SVGGraphics=l=class{constructor(C,O,P=!1){(0,i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new i.DOMSVGFactory,this.current=new b,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=C,this.objs=O,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!P,this._operatorIdMapping=[];for(const G in s.OPS)this._operatorIdMapping[s.OPS[G]]=G}getObject(C,O=null){return typeof C=="string"?C.startsWith("g_")?this.commonObjs.get(C):this.objs.get(C):O}save(){this.transformStack.push(this.transformMatrix);const C=this.current;this.extraStack.push(C),this.current=C.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(C){this.save(),this.executeOpTree(C),this.restore()}loadDependencies(C){const O=C.fnArray,P=C.argsArray;for(let G=0,W=O.length;G<W;G++)if(O[G]===s.OPS.dependency)for(const J of P[G]){const ne=J.startsWith("g_")?this.commonObjs:this.objs,we=new Promise(me=>{ne.get(J,me)});this.current.dependencies.push(we)}return Promise.all(this.current.dependencies)}transform(C,O,P,G,W,J){const ne=[C,O,P,G,W,J];this.transformMatrix=s.Util.transform(this.transformMatrix,ne),this.tgrp=null}getSVG(C,O){this.viewport=O;const P=this._initialize(O);return this.loadDependencies(C).then(()=>(this.transformMatrix=s.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(C)),P))}convertOpList(C){const O=this._operatorIdMapping,P=C.argsArray,G=C.fnArray,W=[];for(let J=0,ne=G.length;J<ne;J++){const we=G[J];W.push({fnId:we,fn:O[we],args:P[J]})}return _(W)}executeOpTree(C){for(const O of C){const P=O.fn,G=O.fnId,W=O.args;switch(G|0){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(W);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(W[0],W[1]);break;case s.OPS.setFont:this.setFont(W);break;case s.OPS.showText:this.showText(W[0]);break;case s.OPS.showSpacedText:this.showText(W[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(W[0],W[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(W[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(W[0]);break;case s.OPS.setHScale:this.setHScale(W[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(W[0],W[1],W[2],W[3],W[4],W[5]);break;case s.OPS.setTextRise:this.setTextRise(W[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(W[0]);break;case s.OPS.setLineWidth:this.setLineWidth(W[0]);break;case s.OPS.setLineJoin:this.setLineJoin(W[0]);break;case s.OPS.setLineCap:this.setLineCap(W[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(W[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(W[0],W[1],W[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(W[0],W[1],W[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(W);break;case s.OPS.setFillColorN:this.setFillColorN(W);break;case s.OPS.shadingFill:this.shadingFill(W[0]);break;case s.OPS.setDash:this.setDash(W[0],W[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(W[0]);break;case s.OPS.setFlatness:this.setFlatness(W[0]);break;case s.OPS.setGState:this.setGState(W[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(W[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(W[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(W[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(W[0],W[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(W[0],W[1],W[2],W[3],W[4],W[5]);break;case s.OPS.constructPath:this.constructPath(W[0],W[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(O.items);break;default:(0,s.warn)(`Unimplemented operator ${P}`);break}}}setWordSpacing(C){this.current.wordSpacing=C}setCharSpacing(C){this.current.charSpacing=C}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(C,O,P,G,W,J){const ne=this.current;ne.textMatrix=ne.lineMatrix=[C,O,P,G,W,J],ne.textMatrixScale=Math.hypot(C,O),ne.x=ne.lineX=0,ne.y=ne.lineY=0,ne.xcoords=[],ne.ycoords=[],ne.tspan=this.svgFactory.createElement("svg:tspan"),ne.tspan.setAttributeNS(null,"font-family",ne.fontFamily),ne.tspan.setAttributeNS(null,"font-size",`${E(ne.fontSize)}px`),ne.tspan.setAttributeNS(null,"y",E(-ne.y)),ne.txtElement=this.svgFactory.createElement("svg:text"),ne.txtElement.append(ne.tspan)}beginText(){const C=this.current;C.x=C.lineX=0,C.y=C.lineY=0,C.textMatrix=s.IDENTITY_MATRIX,C.lineMatrix=s.IDENTITY_MATRIX,C.textMatrixScale=1,C.tspan=this.svgFactory.createElement("svg:tspan"),C.txtElement=this.svgFactory.createElement("svg:text"),C.txtgrp=this.svgFactory.createElement("svg:g"),C.xcoords=[],C.ycoords=[]}moveText(C,O){const P=this.current;P.x=P.lineX+=C,P.y=P.lineY+=O,P.xcoords=[],P.ycoords=[],P.tspan=this.svgFactory.createElement("svg:tspan"),P.tspan.setAttributeNS(null,"font-family",P.fontFamily),P.tspan.setAttributeNS(null,"font-size",`${E(P.fontSize)}px`),P.tspan.setAttributeNS(null,"y",E(-P.y))}showText(C){const O=this.current,P=O.font,G=O.fontSize;if(G===0)return;const W=O.fontSizeScale,J=O.charSpacing,ne=O.wordSpacing,we=O.fontDirection,me=O.textHScale*we,re=P.vertical,ee=re?1:-1,be=P.defaultVMetrics,ke=G*O.fontMatrix[0];let z=0;for(const Y of C){if(Y===null){z+=we*ne;continue}else if(typeof Y=="number"){z+=ee*Y*G/1e3;continue}const ce=(Y.isSpace?ne:0)+J,ge=Y.fontChar;let he,ye,Ae=Y.width;if(re){let Ie;const V=Y.vmetric||be;Ie=Y.vmetric?V[1]:Ae*.5,Ie=-Ie*ke;const K=V[2]*ke;Ae=V?-V[0]:Ae,he=Ie/W,ye=(z+K)/W}else he=z/W,ye=0;(Y.isInFont||P.missingFile)&&(O.xcoords.push(O.x+he),re&&O.ycoords.push(-O.y+ye),O.tspan.textContent+=ge);let ot;re?ot=Ae*ke-ce*we:ot=Ae*ke+ce*we,z+=ot}O.tspan.setAttributeNS(null,"x",O.xcoords.map(E).join(" ")),re?O.tspan.setAttributeNS(null,"y",O.ycoords.map(E).join(" ")):O.tspan.setAttributeNS(null,"y",E(-O.y)),re?O.y-=z:O.x+=z*me,O.tspan.setAttributeNS(null,"font-family",O.fontFamily),O.tspan.setAttributeNS(null,"font-size",`${E(O.fontSize)}px`),O.fontStyle!==p.fontStyle&&O.tspan.setAttributeNS(null,"font-style",O.fontStyle),O.fontWeight!==p.fontWeight&&O.tspan.setAttributeNS(null,"font-weight",O.fontWeight);const j=O.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;if(j===s.TextRenderingMode.FILL||j===s.TextRenderingMode.FILL_STROKE?(O.fillColor!==p.fillColor&&O.tspan.setAttributeNS(null,"fill",O.fillColor),O.fillAlpha<1&&O.tspan.setAttributeNS(null,"fill-opacity",O.fillAlpha)):O.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?O.tspan.setAttributeNS(null,"fill","transparent"):O.tspan.setAttributeNS(null,"fill","none"),j===s.TextRenderingMode.STROKE||j===s.TextRenderingMode.FILL_STROKE){const Y=1/(O.textMatrixScale||1);this._setStrokeAttributes(O.tspan,Y)}let U=O.textMatrix;O.textRise!==0&&(U=U.slice(),U[5]+=O.textRise),O.txtElement.setAttributeNS(null,"transform",`${k(U)} scale(${E(me)}, -1)`),O.txtElement.setAttributeNS(g,"xml:space","preserve"),O.txtElement.append(O.tspan),O.txtgrp.append(O.txtElement),this._ensureTransformGroup().append(O.txtElement)}setLeadingMoveText(C,O){this.setLeading(-O),this.moveText(C,O)}addFontStyle(C){if(!C.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const O=w(C.data,C.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${C.loadedName}"; src: url(${O}); }
`}setFont(C){const O=this.current,P=this.commonObjs.get(C[0]);let G=C[1];O.font=P,this.embedFonts&&!P.missingFile&&!this.embeddedFonts[P.loadedName]&&(this.addFontStyle(P),this.embeddedFonts[P.loadedName]=P),O.fontMatrix=P.fontMatrix||s.FONT_IDENTITY_MATRIX;let W="normal";P.black?W="900":P.bold&&(W="bold");const J=P.italic?"italic":"normal";G<0?(G=-G,O.fontDirection=-1):O.fontDirection=1,O.fontSize=G,O.fontFamily=P.loadedName,O.fontWeight=W,O.fontStyle=J,O.tspan=this.svgFactory.createElement("svg:tspan"),O.tspan.setAttributeNS(null,"y",E(-O.y)),O.xcoords=[],O.ycoords=[]}endText(){var O;const C=this.current;C.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&((O=C.txtElement)!=null&&O.hasChildNodes())&&(C.element=C.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(C){C>0&&(this.current.lineWidth=C)}setLineCap(C){this.current.lineCap=x[C]}setLineJoin(C){this.current.lineJoin=S[C]}setMiterLimit(C){this.current.miterLimit=C}setStrokeAlpha(C){this.current.strokeAlpha=C}setStrokeRGBColor(C,O,P){this.current.strokeColor=s.Util.makeHexColor(C,O,P)}setFillAlpha(C){this.current.fillAlpha=C}setFillRGBColor(C,O,P){this.current.fillColor=s.Util.makeHexColor(C,O,P),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(C){this.current.strokeColor=this._makeColorN_Pattern(C)}setFillColorN(C){this.current.fillColor=this._makeColorN_Pattern(C)}shadingFill(C){const O=this.viewport.width,P=this.viewport.height,G=s.Util.inverseTransform(this.transformMatrix),W=s.Util.applyTransform([0,0],G),J=s.Util.applyTransform([0,P],G),ne=s.Util.applyTransform([O,0],G),we=s.Util.applyTransform([O,P],G),me=Math.min(W[0],J[0],ne[0],we[0]),re=Math.min(W[1],J[1],ne[1],we[1]),ee=Math.max(W[0],J[0],ne[0],we[0]),be=Math.max(W[1],J[1],ne[1],we[1]),ke=this.svgFactory.createElement("svg:rect");ke.setAttributeNS(null,"x",me),ke.setAttributeNS(null,"y",re),ke.setAttributeNS(null,"width",ee-me),ke.setAttributeNS(null,"height",be-re),ke.setAttributeNS(null,"fill",this._makeShadingPattern(C)),this.current.fillAlpha<1&&ke.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(ke)}_makeColorN_Pattern(C){return C[0]==="TilingPattern"?this._makeTilingPattern(C):this._makeShadingPattern(C)}_makeTilingPattern(C){const O=C[1],P=C[2],G=C[3]||s.IDENTITY_MATRIX,[W,J,ne,we]=C[4],me=C[5],re=C[6],ee=C[7],be=`shading${F++}`,[ke,z,j,U]=s.Util.normalizeRect([...s.Util.applyTransform([W,J],G),...s.Util.applyTransform([ne,we],G)]),[Y,ce]=s.Util.singularValueDecompose2dScale(G),ge=me*Y,he=re*ce,ye=this.svgFactory.createElement("svg:pattern");ye.setAttributeNS(null,"id",be),ye.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ye.setAttributeNS(null,"width",ge),ye.setAttributeNS(null,"height",he),ye.setAttributeNS(null,"x",`${ke}`),ye.setAttributeNS(null,"y",`${z}`);const Ae=this.svg,ot=this.transformMatrix,Ie=this.current.fillColor,V=this.current.strokeColor,K=this.svgFactory.create(j-ke,U-z);if(this.svg=K,this.transformMatrix=G,ee===2){const ae=s.Util.makeHexColor(...O);this.current.fillColor=ae,this.current.strokeColor=ae}return this.executeOpTree(this.convertOpList(P)),this.svg=Ae,this.transformMatrix=ot,this.current.fillColor=Ie,this.current.strokeColor=V,ye.append(K.childNodes[0]),this.defs.append(ye),`url(#${be})`}_makeShadingPattern(C){switch(typeof C=="string"&&(C=this.objs.get(C)),C[0]){case"RadialAxial":const O=`shading${F++}`,P=C[3];let G;switch(C[1]){case"axial":const W=C[4],J=C[5];G=this.svgFactory.createElement("svg:linearGradient"),G.setAttributeNS(null,"id",O),G.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),G.setAttributeNS(null,"x1",W[0]),G.setAttributeNS(null,"y1",W[1]),G.setAttributeNS(null,"x2",J[0]),G.setAttributeNS(null,"y2",J[1]);break;case"radial":const ne=C[4],we=C[5],me=C[6],re=C[7];G=this.svgFactory.createElement("svg:radialGradient"),G.setAttributeNS(null,"id",O),G.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),G.setAttributeNS(null,"cx",we[0]),G.setAttributeNS(null,"cy",we[1]),G.setAttributeNS(null,"r",re),G.setAttributeNS(null,"fx",ne[0]),G.setAttributeNS(null,"fy",ne[1]),G.setAttributeNS(null,"fr",me);break;default:throw new Error(`Unknown RadialAxial type: ${C[1]}`)}for(const W of P){const J=this.svgFactory.createElement("svg:stop");J.setAttributeNS(null,"offset",W[0]),J.setAttributeNS(null,"stop-color",W[1]),G.append(J)}return this.defs.append(G),`url(#${O})`;case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${C[0]}`)}}setDash(C,O){this.current.dashArray=C,this.current.dashPhase=O}constructPath(C,O){const P=this.current;let G=P.x,W=P.y,J=[],ne=0;for(const we of C)switch(we|0){case s.OPS.rectangle:G=O[ne++],W=O[ne++];const me=O[ne++],re=O[ne++],ee=G+me,be=W+re;J.push("M",E(G),E(W),"L",E(ee),E(W),"L",E(ee),E(be),"L",E(G),E(be),"Z");break;case s.OPS.moveTo:G=O[ne++],W=O[ne++],J.push("M",E(G),E(W));break;case s.OPS.lineTo:G=O[ne++],W=O[ne++],J.push("L",E(G),E(W));break;case s.OPS.curveTo:G=O[ne+4],W=O[ne+5],J.push("C",E(O[ne]),E(O[ne+1]),E(O[ne+2]),E(O[ne+3]),E(G),E(W)),ne+=6;break;case s.OPS.curveTo2:J.push("C",E(G),E(W),E(O[ne]),E(O[ne+1]),E(O[ne+2]),E(O[ne+3])),G=O[ne+2],W=O[ne+3],ne+=4;break;case s.OPS.curveTo3:G=O[ne+2],W=O[ne+3],J.push("C",E(O[ne]),E(O[ne+1]),E(G),E(W),E(G),E(W)),ne+=4;break;case s.OPS.closePath:J.push("Z");break}J=J.join(" "),P.path&&C.length>0&&C[0]!==s.OPS.rectangle&&C[0]!==s.OPS.moveTo?J=P.path.getAttributeNS(null,"d")+J:(P.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(P.path)),P.path.setAttributeNS(null,"d",J),P.path.setAttributeNS(null,"fill","none"),P.element=P.path,P.setCurrentPoint(G,W)}endPath(){const C=this.current;if(C.path=null,!this.pendingClip)return;if(!C.element){this.pendingClip=null;return}const O=`clippath${T++}`,P=this.svgFactory.createElement("svg:clipPath");P.setAttributeNS(null,"id",O),P.setAttributeNS(null,"transform",k(this.transformMatrix));const G=C.element.cloneNode(!0);if(this.pendingClip==="evenodd"?G.setAttributeNS(null,"clip-rule","evenodd"):G.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,P.append(G),this.defs.append(P),C.activeClipUrl){C.clipGroup=null;for(const W of this.extraStack)W.clipGroup=null;P.setAttributeNS(null,"clip-path",C.activeClipUrl)}C.activeClipUrl=`url(#${O})`,this.tgrp=null}clip(C){this.pendingClip=C}closePath(){const C=this.current;if(C.path){const O=`${C.path.getAttributeNS(null,"d")}Z`;C.path.setAttributeNS(null,"d",O)}}setLeading(C){this.current.leading=-C}setTextRise(C){this.current.textRise=C}setTextRenderingMode(C){this.current.textRenderingMode=C}setHScale(C){this.current.textHScale=C/100}setRenderingIntent(C){}setFlatness(C){}setGState(C){for(const[O,P]of C)switch(O){case"LW":this.setLineWidth(P);break;case"LC":this.setLineCap(P);break;case"LJ":this.setLineJoin(P);break;case"ML":this.setMiterLimit(P);break;case"D":this.setDash(P[0],P[1]);break;case"RI":this.setRenderingIntent(P);break;case"FL":this.setFlatness(P);break;case"Font":this.setFont(P);break;case"CA":this.setStrokeAlpha(P);break;case"ca":this.setFillAlpha(P);break;default:(0,s.warn)(`Unimplemented graphic state operator ${O}`);break}}fill(){const C=this.current;C.element&&(C.element.setAttributeNS(null,"fill",C.fillColor),C.element.setAttributeNS(null,"fill-opacity",C.fillAlpha),this.endPath())}stroke(){const C=this.current;C.element&&(this._setStrokeAttributes(C.element),C.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(C,O=1){const P=this.current;let G=P.dashArray;O!==1&&G.length>0&&(G=G.map(function(W){return O*W})),C.setAttributeNS(null,"stroke",P.strokeColor),C.setAttributeNS(null,"stroke-opacity",P.strokeAlpha),C.setAttributeNS(null,"stroke-miterlimit",E(P.miterLimit)),C.setAttributeNS(null,"stroke-linecap",P.lineCap),C.setAttributeNS(null,"stroke-linejoin",P.lineJoin),C.setAttributeNS(null,"stroke-width",E(O*P.lineWidth)+"px"),C.setAttributeNS(null,"stroke-dasharray",G.map(E).join(" ")),C.setAttributeNS(null,"stroke-dashoffset",E(O*P.dashPhase)+"px")}eoFill(){var C;(C=this.current.element)==null||C.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var C;(C=this.current.element)==null||C.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const C=this.svgFactory.createElement("svg:rect");C.setAttributeNS(null,"x","0"),C.setAttributeNS(null,"y","0"),C.setAttributeNS(null,"width","1px"),C.setAttributeNS(null,"height","1px"),C.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(C)}paintImageXObject(C){const O=this.getObject(C);if(!O){(0,s.warn)(`Dependent image with object ID ${C} is not ready yet`);return}this.paintInlineImageXObject(O)}paintInlineImageXObject(C,O){const P=C.width,G=C.height,W=v(C,this.forceDataSchema,!!O),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y","0"),J.setAttributeNS(null,"width",E(P)),J.setAttributeNS(null,"height",E(G)),this.current.element=J,this.clip("nonzero");const ne=this.svgFactory.createElement("svg:image");ne.setAttributeNS(y,"xlink:href",W),ne.setAttributeNS(null,"x","0"),ne.setAttributeNS(null,"y",E(-G)),ne.setAttributeNS(null,"width",E(P)+"px"),ne.setAttributeNS(null,"height",E(G)+"px"),ne.setAttributeNS(null,"transform",`scale(${E(1/P)} ${E(-1/G)})`),O?O.append(ne):this._ensureTransformGroup().append(ne)}paintImageMaskXObject(C){const O=this.getObject(C.data,C);if(O.bitmap){(0,s.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const P=this.current,G=O.width,W=O.height,J=P.fillColor;P.maskId=`mask${L++}`;const ne=this.svgFactory.createElement("svg:mask");ne.setAttributeNS(null,"id",P.maskId);const we=this.svgFactory.createElement("svg:rect");we.setAttributeNS(null,"x","0"),we.setAttributeNS(null,"y","0"),we.setAttributeNS(null,"width",E(G)),we.setAttributeNS(null,"height",E(W)),we.setAttributeNS(null,"fill",J),we.setAttributeNS(null,"mask",`url(#${P.maskId})`),this.defs.append(ne),this._ensureTransformGroup().append(we),this.paintInlineImageXObject(O,ne)}paintFormXObjectBegin(C,O){if(Array.isArray(C)&&C.length===6&&this.transform(C[0],C[1],C[2],C[3],C[4],C[5]),O){const P=O[2]-O[0],G=O[3]-O[1],W=this.svgFactory.createElement("svg:rect");W.setAttributeNS(null,"x",O[0]),W.setAttributeNS(null,"y",O[1]),W.setAttributeNS(null,"width",E(P)),W.setAttributeNS(null,"height",E(G)),this.current.element=W,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(C){const O=this.svgFactory.create(C.width,C.height),P=this.svgFactory.createElement("svg:defs");O.append(P),this.defs=P;const G=this.svgFactory.createElement("svg:g");return G.setAttributeNS(null,"transform",k(C.transform)),O.append(G),this.svg=G,O}_ensureClipGroup(){if(!this.current.clipGroup){const C=this.svgFactory.createElement("svg:g");C.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(C),this.current.clipGroup=C}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",k(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return o.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return l.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return c.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return f.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return h.SVGGraphics}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return p.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return i.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return i.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return s.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return n.version}});var e=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),i=__w_pdfjs_require__(6),s=__w_pdfjs_require__(26),o=__w_pdfjs_require__(27),l=__w_pdfjs_require__(5),c=__w_pdfjs_require__(32),f=__w_pdfjs_require__(14),h=__w_pdfjs_require__(35),p=__w_pdfjs_require__(34)})(),__webpack_exports__})())}(pdf)),pdf.exports}var hasRequiredCore_min;function requireCore_min(){return hasRequiredCore_min||(hasRequiredCore_min=1,function(t){var e=requireReact(),n=requirePdf();function i(q){var ie=Object.create(null);return q&&Object.keys(q).forEach(function(Re){if(Re!=="default"){var De=Object.getOwnPropertyDescriptor(q,Re);Object.defineProperty(ie,Re,De.get?De:{enumerable:!0,get:function(){return q[Re]}})}}),ie.default=q,Object.freeze(ie)}var s,o=i(e),l=i(n);t.AnnotationType=void 0,(s=t.AnnotationType||(t.AnnotationType={}))[s.Text=1]="Text",s[s.Link=2]="Link",s[s.FreeText=3]="FreeText",s[s.Line=4]="Line",s[s.Square=5]="Square",s[s.Circle=6]="Circle",s[s.Polygon=7]="Polygon",s[s.Polyline=8]="Polyline",s[s.Highlight=9]="Highlight",s[s.Underline=10]="Underline",s[s.Squiggly=11]="Squiggly",s[s.StrikeOut=12]="StrikeOut",s[s.Stamp=13]="Stamp",s[s.Caret=14]="Caret",s[s.Ink=15]="Ink",s[s.Popup=16]="Popup",s[s.FileAttachment=17]="FileAttachment";var c=function(q,ie){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Re,De){Re.__proto__=De}||function(Re,De){for(var $e in De)Object.prototype.hasOwnProperty.call(De,$e)&&(Re[$e]=De[$e])},c(q,ie)};function f(q,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Class extends value "+String(ie)+" is not a constructor or null");function Re(){this.constructor=q}c(q,ie),q.prototype=ie===null?Object.create(ie):(Re.prototype=ie.prototype,new Re)}var h,p=function(){return p=Object.assign||function(q){for(var ie,Re=1,De=arguments.length;Re<De;Re++)for(var $e in ie=arguments[Re])Object.prototype.hasOwnProperty.call(ie,$e)&&(q[$e]=ie[$e]);return q},p.apply(this,arguments)};t.TextDirection=void 0,(h=t.TextDirection||(t.TextDirection={})).RightToLeft="RTL",h.LeftToRight="LTR";var g,y=o.createContext({currentTheme:"light",direction:t.TextDirection.LeftToRight,setCurrentTheme:function(){}}),x=function(q){var ie=[];return Object.keys(q).forEach(function(Re){Re&&q[Re]&&ie.push(Re)}),ie.join(" ")},S=typeof window<"u"?o.useLayoutEffect:o.useEffect,w=function(q){var ie=o.useRef(null),Re=q.once,De=q.threshold,$e=q.onVisibilityChanged;return S(function(){var Ve=ie.current;if(Ve){var et=new IntersectionObserver(function(Ke){Ke.forEach(function(Oe){var tt=Oe.isIntersecting,Qe=Oe.intersectionRatio;$e({isVisible:tt,ratio:Qe}),tt&&Re&&(et.unobserve(Ve),et.disconnect())})},{threshold:De||0});return et.observe(Ve),function(){et.unobserve(Ve),et.disconnect()}}},[]),ie},v=function(q){var ie=q.children,Re=q.ignoreDirection,De=Re!==void 0&&Re,$e=q.size,Ve=$e===void 0?24:$e,et=o.useContext(y).direction,Ke=!De&&et===t.TextDirection.RightToLeft,Oe="".concat(Ve||24,"px");return o.createElement("svg",{"aria-hidden":"true",className:x({"rpv-core__icon":!0,"rpv-core__icon--rtl":Ke}),focusable:"false",height:Oe,viewBox:"0 0 24 24",width:Oe},ie)},b=function(){return o.createElement(v,{size:16},o.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},_=function(q){var ie=q.children,Re=q.testId,De=q.onClick,$e=o.useContext(y).direction===t.TextDirection.RightToLeft,Ve=Re?{"data-testid":Re}:{};return o.createElement("button",p({className:x({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":$e}),type:"button",onClick:De},Ve),ie)},E=function(q){var ie=q.size,Re=ie===void 0?"4rem":ie,De=q.testId,$e=o.useState(!1),Ve=$e[0],et=$e[1],Ke=De?{"data-testid":De}:{},Oe=w({onVisibilityChanged:function(tt){et(tt.isVisible)}});return o.createElement("div",p({},Ke,{className:x({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Ve}),ref:Oe,style:{height:Re,width:Re}}))},k=function(q){var ie=q.ariaLabel,Re=ie===void 0?"":ie,De=q.autoFocus,$e=De!==void 0&&De,Ve=q.placeholder,et=Ve===void 0?"":Ve,Ke=q.testId,Oe=q.type,tt=Oe===void 0?"text":Oe,Qe=q.value,kt=Qe===void 0?"":Qe,Rt=q.onChange,Tt=q.onKeyDown,Yt=Tt===void 0?function(){}:Tt,Bt=o.useContext(y).direction,$t=o.useRef(),On=Bt===t.TextDirection.RightToLeft,bn={ref:$t,"data-testid":"","aria-label":Re,className:x({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":On}),placeholder:et,value:kt,onChange:function(xn){return Rt(xn.target.value)},onKeyDown:Yt};return Ke&&(bn["data-testid"]=Ke),S(function(){if($e){var xn=$t.current;if(xn){var Sn=window.scrollX,dn=window.scrollY;xn.focus(),window.scrollTo(Sn,dn)}}},[]),tt==="text"?o.createElement("input",p({type:"text"},bn)):o.createElement("input",p({type:"password"},bn))};(function(q){q[q.ExitFullScreen=0]="ExitFullScreen",q[q.FullScreenChange=1]="FullScreenChange",q[q.FullScreenElement=2]="FullScreenElement",q[q.FullScreenEnabled=3]="FullScreenEnabled",q[q.RequestFullScreen=4]="RequestFullScreen"})(g||(g={}));var T,L={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},F={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},C={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},O=typeof window<"u",P=O&&(g.FullScreenEnabled in document&&L||F.FullScreenEnabled in document&&F||C.FullScreenEnabled in document&&C)||L,G=function(){return O&&P.FullScreenEnabled in document&&document[P.FullScreenEnabled]===!0},W=function(q){return O?q[P.ExitFullScreen]():Promise.resolve({})},J=function(){return O?document[P.FullScreenElement]:null},ne=function(q,ie){var Re=o.useRef(),De=function(){Re.current&&clearTimeout(Re.current)};return o.useEffect(function(){return function(){return De()}},[]),o.useCallback(function(){for(var $e=[],Ve=0;Ve<arguments.length;Ve++)$e[Ve]=arguments[Ve];De(),Re.current=setTimeout(function(){q.apply(void 0,$e)},ie)},[q,ie])},we=function(){var q=o.useRef(!1);return o.useEffect(function(){return q.current=!0,function(){q.current=!1}},[]),q},me=function(q){var ie=o.useRef(q);return o.useEffect(function(){ie.current=q},[q]),ie.current};(function(q){q.NotRenderedYet="NotRenderedYet",q.Rendering="Rendering",q.Rendered="Rendered"})(T||(T={}));var re,ee=-9999,be=function(q){var ie=q.doc,Re=ie.numPages,De=ie.loadingTask.docId,$e=o.useMemo(function(){return Array(Re).fill(null).map(function(Ke,Oe){return{pageIndex:Oe,renderStatus:T.NotRenderedYet,visibility:ee}})},[De]),Ve=o.useRef({currentRenderingPage:-1,startRange:0,endRange:Re-1,visibilities:$e}),et=function(Ke,Oe){Ve.current.visibilities[Ke].visibility=Oe};return{getHighestPriorityPage:function(){var Ke=Ve.current.visibilities.slice(Ve.current.startRange,Ve.current.endRange+1).filter(function(Rt){return Rt.visibility>ee});if(!Ke.length)return-1;for(var Oe=Ke[0].pageIndex,tt=Ke[Ke.length-1].pageIndex,Qe=Ke.length,kt=0;kt<Qe;kt++){if(Ke[kt].renderStatus===T.Rendering)return-1;if(Ke[kt].renderStatus===T.NotRenderedYet)return Ke[kt].pageIndex}return tt+1<Re&&Ve.current.visibilities[tt+1].renderStatus!==T.Rendered?tt+1:Oe-1>=0&&Ve.current.visibilities[Oe-1].renderStatus!==T.Rendered?Oe-1:-1},isInRange:function(Ke){return Ke>=Ve.current.startRange&&Ke<=Ve.current.endRange},markNotRendered:function(){for(var Ke=0;Ke<Re;Ke++)Ve.current.visibilities[Ke].renderStatus=T.NotRenderedYet},markRendered:function(Ke){Ve.current.visibilities[Ke].renderStatus=T.Rendered},markRendering:function(Ke){Ve.current.currentRenderingPage!==-1&&Ve.current.currentRenderingPage!==Ke&&Ve.current.visibilities[Ve.current.currentRenderingPage].renderStatus===T.Rendering&&(Ve.current.visibilities[Ve.current.currentRenderingPage].renderStatus=T.NotRenderedYet),Ve.current.visibilities[Ke].renderStatus=T.Rendering,Ve.current.currentRenderingPage=Ke},setOutOfRange:function(Ke){et(Ke,ee)},setRange:function(Ke,Oe){Ve.current.startRange=Ke,Ve.current.endRange=Oe;for(var tt=0;tt<Re;tt++)(tt<Ke||tt>Oe)&&(Ve.current.visibilities[tt].visibility=ee,Ve.current.visibilities[tt].renderStatus=T.NotRenderedYet)},setVisibility:et}},ke={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},z=o.createContext({l10n:ke,setL10n:function(){}}),j=0,U=function(){return j++},Y=function(q,ie,Re){var De=function($e){var Ve=ie.current;if(Ve){var et=$e.target;if(et instanceof Element&&et.shadowRoot){var Ke=$e.composedPath();Ke.length>0&&!Ve.contains(Ke[0])&&Re()}else Ve.contains(et)||Re()}};o.useEffect(function(){if(q){var $e={capture:!0};return document.addEventListener("click",De,$e),function(){document.removeEventListener("click",De,$e)}}},[])},ce=function(q){var ie=function(Re){Re.key==="Escape"&&q()};o.useEffect(function(){return document.addEventListener("keyup",ie),function(){document.removeEventListener("keyup",ie)}},[])},ge=function(q){var ie=q.ariaControlsSuffix,Re=q.children,De=q.closeOnClickOutside,$e=q.closeOnEscape,Ve=q.onToggle,et=o.useRef(),Ke=o.useContext(y).direction===t.TextDirection.RightToLeft;return o.useEffect(function(){var Oe=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Oe}},[]),ce(function(){et.current&&$e&&Ve()}),Y(De,et,Ve),S(function(){var Oe=et.current;if(Oe){var tt=.75*document.body.clientHeight;Oe.getBoundingClientRect().height>=tt&&(Oe.style.overflow="auto",Oe.style.maxHeight="".concat(tt,"px"))}},[]),o.createElement("div",{"aria-modal":"true",className:x({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Ke}),id:"rpv-core__modal-body-".concat(ie),ref:et,role:"dialog",tabIndex:-1},Re)},he=function(q){var ie=q.children;return o.createElement("div",{className:"rpv-core__modal-overlay"},ie)};t.ToggleStatus=void 0,(re=t.ToggleStatus||(t.ToggleStatus={})).Close="Close",re.Open="Open",re.Toggle="Toggle";var ye,Ae=function(q){var ie=o.useState(q),Re=ie[0],De=ie[1];return{opened:Re,toggle:function($e){switch($e){case t.ToggleStatus.Close:De(!1);break;case t.ToggleStatus.Open:De(!0);break;case t.ToggleStatus.Toggle:default:De(function(Ve){return!Ve})}}}},ot=function(q){var ie=q.content,Re=q.isOpened,De=Re!==void 0&&Re,$e=q.target,Ve=Ae(De),et=Ve.opened,Ke=Ve.toggle;return o.createElement(o.Fragment,null,$e&&$e(Ke,et),et&&ie(Ke))};t.Position=void 0,(ye=t.Position||(t.Position={})).TopLeft="TOP_LEFT",ye.TopCenter="TOP_CENTER",ye.TopRight="TOP_RIGHT",ye.RightTop="RIGHT_TOP",ye.RightCenter="RIGHT_CENTER",ye.RightBottom="RIGHT_BOTTOM",ye.BottomLeft="BOTTOM_LEFT",ye.BottomCenter="BOTTOM_CENTER",ye.BottomRight="BOTTOM_RIGHT",ye.LeftTop="LEFT_TOP",ye.LeftCenter="LEFT_CENTER",ye.LeftBottom="LEFT_BOTTOM";var Ie,V,K,ae,ue,Z,ve,Pe,Fe=function(q,ie,Re,De,$e){S(function(){var Ve=ie.current,et=q.current,Ke=Re.current;if(et&&Ve&&Ke){var Oe=Ke.getBoundingClientRect(),tt=function(Rt,Tt,Yt,Bt){var $t=Tt.getBoundingClientRect(),On=Rt.getBoundingClientRect(),bn=On.height,xn=On.width,Sn=0,dn=0;switch(Yt){case t.Position.TopLeft:Sn=$t.top-bn,dn=$t.left;break;case t.Position.TopCenter:Sn=$t.top-bn,dn=$t.left+$t.width/2-xn/2;break;case t.Position.TopRight:Sn=$t.top-bn,dn=$t.left+$t.width-xn;break;case t.Position.RightTop:Sn=$t.top,dn=$t.left+$t.width;break;case t.Position.RightCenter:Sn=$t.top+$t.height/2-bn/2,dn=$t.left+$t.width;break;case t.Position.RightBottom:Sn=$t.top+$t.height-bn,dn=$t.left+$t.width;break;case t.Position.BottomLeft:Sn=$t.top+$t.height,dn=$t.left;break;case t.Position.BottomCenter:Sn=$t.top+$t.height,dn=$t.left+$t.width/2-xn/2;break;case t.Position.BottomRight:Sn=$t.top+$t.height,dn=$t.left+$t.width-xn;break;case t.Position.LeftTop:Sn=$t.top,dn=$t.left-xn;break;case t.Position.LeftCenter:Sn=$t.top+$t.height/2-bn/2,dn=$t.left-xn;break;case t.Position.LeftBottom:Sn=$t.top+$t.height-bn,dn=$t.left-xn}return{left:dn+(Bt.left||0),top:Sn+(Bt.top||0)}}(et,Ve,De,$e),Qe=tt.top,kt=tt.left;et.style.top="".concat(Qe-Oe.top,"px"),et.style.left="".concat(kt-Oe.left,"px")}},[])},it=function(q){var ie,Re=q.customClassName,De=q.position;return o.createElement("div",{className:x((ie={"rpv-core__arrow":!0,"rpv-core__arrow--tl":De===t.Position.TopLeft,"rpv-core__arrow--tc":De===t.Position.TopCenter,"rpv-core__arrow--tr":De===t.Position.TopRight,"rpv-core__arrow--rt":De===t.Position.RightTop,"rpv-core__arrow--rc":De===t.Position.RightCenter,"rpv-core__arrow--rb":De===t.Position.RightBottom,"rpv-core__arrow--bl":De===t.Position.BottomLeft,"rpv-core__arrow--bc":De===t.Position.BottomCenter,"rpv-core__arrow--br":De===t.Position.BottomRight,"rpv-core__arrow--lt":De===t.Position.LeftTop,"rpv-core__arrow--lc":De===t.Position.LeftCenter,"rpv-core__arrow--lb":De===t.Position.LeftBottom},ie["".concat(Re)]=Re!=="",ie))})},fe=function(q){var ie=q.ariaControlsSuffix,Re=q.children,De=q.closeOnClickOutside,$e=q.offset,Ve=q.position,et=q.targetRef,Ke=q.onClose,Oe=o.useRef(),tt=o.useRef(),Qe=o.useRef(),kt=o.useContext(y).direction===t.TextDirection.RightToLeft;Y(De,Oe,Ke),Fe(Oe,et,Qe,Ve,$e),S(function(){var Tt=tt.current;if(Tt){var Yt=.75*document.body.clientHeight;Tt.getBoundingClientRect().height>=Yt&&(Tt.style.overflow="auto",Tt.style.maxHeight="".concat(Yt,"px"))}},[]);var Rt="rpv-core__popover-body-inner-".concat(ie);return o.createElement(o.Fragment,null,o.createElement("div",{ref:Qe,style:{left:0,position:"absolute",top:0}}),o.createElement("div",{"aria-describedby":Rt,className:x({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":kt}),id:"rpv-core__popover-body-".concat(ie),ref:Oe,role:"dialog",tabIndex:-1},o.createElement(it,{customClassName:"rpv-core__popover-body-arrow",position:Ve}),o.createElement("div",{id:Rt,ref:tt},Re)))},xe=function(q){var ie=q.closeOnEscape,Re=q.onClose,De=o.useRef();return ce(function(){De.current&&ie&&Re()}),o.createElement("div",{className:"rpv-core__popover-overlay",ref:De})},Se=function(q){var ie=q.ariaControlsSuffix,Re=q.children,De=q.contentRef,$e=q.offset,Ve=q.position,et=q.targetRef,Ke=o.useRef(),Oe=o.useContext(y).direction===t.TextDirection.RightToLeft;return Fe(De,et,Ke,Ve,$e),o.createElement(o.Fragment,null,o.createElement("div",{ref:Ke,style:{left:0,position:"absolute",top:0}}),o.createElement("div",{className:x({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Oe}),id:"rpv-core__tooltip-body-".concat(ie),ref:De,role:"tooltip"},o.createElement(it,{customClassName:"rpv-core__tooltip-body-arrow",position:Ve}),o.createElement("div",{className:"rpv-core__tooltip-body-content"},Re)))};t.FullScreenMode=void 0,(Ie=t.FullScreenMode||(t.FullScreenMode={})).Normal="Normal",Ie.Entering="Entering",Ie.Entered="Entered",Ie.EnteredCompletely="EnteredCompletely",Ie.Exitting="Exitting",Ie.Exited="Exited",t.LayerRenderStatus=void 0,(V=t.LayerRenderStatus||(t.LayerRenderStatus={}))[V.PreRender=0]="PreRender",V[V.DidRender=1]="DidRender",t.PageMode=void 0,(K=t.PageMode||(t.PageMode={})).Attachments="UseAttachments",K.Bookmarks="UseOutlines",K.ContentGroup="UseOC",K.Default="UserNone",K.FullScreen="FullScreen",K.Thumbnails="UseThumbs",t.PasswordStatus=void 0,(ae=t.PasswordStatus||(t.PasswordStatus={})).RequiredPassword="RequiredPassword",ae.WrongPassword="WrongPassword",t.RotateDirection=void 0,(ue=t.RotateDirection||(t.RotateDirection={})).Backward="Backward",ue.Forward="Forward",t.ScrollMode=void 0,(Z=t.ScrollMode||(t.ScrollMode={})).Page="Page",Z.Horizontal="Horizontal",Z.Vertical="Vertical",Z.Wrapped="Wrapped",t.SpecialZoomLevel=void 0,(ve=t.SpecialZoomLevel||(t.SpecialZoomLevel={})).ActualSize="ActualSize",ve.PageFit="PageFit",ve.PageWidth="PageWidth",t.ViewMode=void 0,(Pe=t.ViewMode||(t.ViewMode={})).DualPage="DualPage",Pe.DualPageWithCover="DualPageWithCover",Pe.SinglePage="SinglePage";var gt,qe=function(q,ie){return q.reduce(function(Re,De,$e){return $e%ie?Re[Re.length-1].push(De):Re.push([De]),Re},[])},dt=function(q,ie){switch(ie[1].name){case"XYZ":return{bottomOffset:function(Re,De){return ie[3]===null?De:ie[3]},leftOffset:function(Re,De){return ie[2]===null?0:ie[2]},pageIndex:q,scaleTo:ie[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:q,scaleTo:t.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:ie[2],leftOffset:0,pageIndex:q,scaleTo:t.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:q,scaleTo:1}}},yt=new Map,Nt=new Map,nn=function(q,ie){return"".concat(q.loadingTask.docId,"___").concat(ie.num,"R").concat(ie.gen===0?"":ie.gen)},zt=function(q,ie,Re){yt.set(nn(q,ie),Re)},mt=function(q,ie){if(!q)return Promise.reject("The document is not loaded yet");var Re="".concat(q.loadingTask.docId,"___").concat(ie),De=Nt.get(Re);return De?Promise.resolve(De):new Promise(function($e,Ve){q.getPage(ie+1).then(function(et){Nt.set(Re,et),et.ref&&zt(q,et.ref,ie),$e(et)})})},Ue=function(q,ie){return new Promise(function(Re){new Promise(function(De){typeof ie=="string"?q.getDestination(ie).then(function($e){De($e)}):De(ie)}).then(function(De){if(typeof De[0]=="object"&&De[0]!==null){var $e=De[0],Ve=function(Ke,Oe){var tt=nn(Ke,Oe);return yt.has(tt)?yt.get(tt):null}(q,$e);Ve===null?q.getPageIndex($e).then(function(Ke){zt(q,$e,Ke),Ue(q,ie).then(function(Oe){return Re(Oe)})}):Re(dt(Ve,De))}else{var et=dt(De[0],De);Re(et)}})})};(function(q){q[q.Solid=1]="Solid",q[q.Dashed=2]="Dashed",q[q.Beveled=3]="Beveled",q[q.Inset=4]="Inset",q[q.Underline=5]="Underline"})(gt||(gt={}));var Me,Mt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),cn=function(q,ie,Re,De){var $e=parseInt(q,10);return $e>=ie&&$e<=Re?$e:De},te=function(q){return q.contentsObj?q.contentsObj.str:q.contents||""},vt=function(q){return q.titleObj?q.titleObj.str:q.title||""},It=function(q){var ie=q.annotation,Re=o.useContext(y).direction,De=vt(ie),$e=te(ie),Ve=Re===t.TextDirection.RightToLeft,et=o.useRef(),Ke="";if(ie.modificationDate){var Oe=function(tt){var Qe=Mt.exec(tt);if(!Qe)return null;var kt=parseInt(Qe[1],10),Rt=cn(Qe[2],1,12,1)-1,Tt=cn(Qe[3],1,31,1),Yt=cn(Qe[4],0,23,0),Bt=cn(Qe[5],0,59,0),$t=cn(Qe[6],0,59,0),On=Qe[7]||"Z",bn=cn(Qe[8],0,23,0),xn=cn(Qe[9],0,59,0);switch(On){case"-":Yt+=bn,Bt+=xn;break;case"+":Yt-=bn,Bt-=xn}return new Date(Date.UTC(kt,Rt,Tt,Yt,Bt,$t))}(ie.modificationDate);Ke=Oe?"".concat(Oe.toLocaleDateString(),", ").concat(Oe.toLocaleTimeString()):""}return o.useLayoutEffect(function(){if(et.current){var tt=document.querySelector('[data-annotation-id="'.concat(ie.id,'"]'));if(tt){var Qe=tt;return Qe.style.zIndex+=1,function(){Qe.style.zIndex="".concat(parseInt(Qe.style.zIndex,10)-1)}}}},[]),o.createElement("div",{ref:et,className:x({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Ve}),style:{top:ie.annotationType===t.AnnotationType.Popup?"":"100%"}},De&&o.createElement(o.Fragment,null,o.createElement("div",{className:x({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Ve,"rpv-core__annotation-popup-title--rtl":Ve})},De),o.createElement("div",{className:"rpv-core__annotation-popup-date"},Ke)),$e&&o.createElement("div",{className:"rpv-core__annotation-popup-content"},$e.split(`
`).map(function(tt,Qe){return o.createElement(o.Fragment,{key:Qe},tt,o.createElement("br",null))})))};(function(q){q.Click="Click",q.Hover="Hover"})(Me||(Me={}));var Dt,Ee=function(q){var ie,Re=q.annotation,De=q.children,$e=q.ignoreBorder,Ve=q.hasPopup,et=q.isRenderable,Ke=q.page,Oe=q.viewport,tt=Re.rect,Qe=function(){var wn=Ae(!1),Qn=wn.opened,Hn=wn.toggle,Jn=o.useState(Me.Hover),Zn=Jn[0],er=Jn[1];return{opened:Qn,closeOnHover:function(){Zn===Me.Hover&&Hn(t.ToggleStatus.Close)},openOnHover:function(){Zn===Me.Hover&&Hn(t.ToggleStatus.Open)},toggleOnClick:function(){switch(Zn){case Me.Click:Qn&&er(Me.Hover),Hn(t.ToggleStatus.Toggle);break;case Me.Hover:er(Me.Click),Hn(t.ToggleStatus.Open)}}}}(),kt=Qe.closeOnHover,Rt=Qe.opened,Tt=Qe.openOnHover,Yt=Qe.toggleOnClick,Bt=(ie=[tt[0],Ke.view[3]+Ke.view[1]-tt[1],tt[2],Ke.view[3]+Ke.view[1]-tt[3]],[Math.min(ie[0],ie[2]),Math.min(ie[1],ie[3]),Math.max(ie[0],ie[2]),Math.max(ie[1],ie[3])]),$t=tt[2]-tt[0],On=tt[3]-tt[1],bn={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!$e&&Re.borderStyle.width>0){switch(Re.borderStyle.style){case gt.Dashed:bn.borderStyle="dashed";break;case gt.Solid:bn.borderStyle="solid";break;case gt.Underline:bn=Object.assign({borderBottomStyle:"solid"},bn);case gt.Beveled:case gt.Inset:}var xn=Re.borderStyle.width;bn.borderWidth="".concat(xn,"px"),Re.borderStyle.style!==gt.Underline&&($t-=2*xn,On-=2*xn);var Sn=Re.borderStyle,dn=Sn.horizontalCornerRadius,mn=Sn.verticalCornerRadius;(dn>0||mn>0)&&(bn.borderRadius="".concat(dn,"px / ").concat(mn,"px")),Re.color?bn.borderColor="rgb(".concat(0|Re.color[0],", ").concat(0|Re.color[1],", ").concat(0|Re.color[2],")"):bn.borderWidth="0"}return o.createElement(o.Fragment,null,et&&De({popup:{opened:Rt,closeOnHover:kt,openOnHover:Tt,toggleOnClick:Yt},slot:{attrs:{style:Object.assign({height:"".concat(On,"px"),left:"".concat(Bt[0],"px"),top:"".concat(Bt[1],"px"),transform:"matrix(".concat(Oe.transform.join(","),")"),transformOrigin:"-".concat(Bt[0],"px -").concat(Bt[1],"px"),width:"".concat($t,"px")},bn)},children:o.createElement(o.Fragment,null,Ve&&Rt&&o.createElement(It,{annotation:Re}))}}))},Et=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=ie.hasPopup===!1,Ve=vt(ie),et=te(ie),Ke=!!(ie.hasPopup||Ve||et);return o.createElement(Ee,{annotation:ie,hasPopup:$e,ignoreBorder:!0,isRenderable:Ke,page:Re,viewport:De},function(Oe){return o.createElement("div",p({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":ie.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},I=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=ie.hasPopup===!1,Ve=vt(ie),et=te(ie),Ke=!!(ie.hasPopup||Ve||et),Oe=ie.rect,tt=Oe[2]-Oe[0],Qe=Oe[3]-Oe[1],kt=ie.borderStyle.width;return o.createElement(Ee,{annotation:ie,hasPopup:$e,ignoreBorder:!0,isRenderable:Ke,page:Re,viewport:De},function(Rt){return o.createElement("div",p({},Rt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":ie.id,onClick:Rt.popup.toggleOnClick,onMouseEnter:Rt.popup.openOnHover,onMouseLeave:Rt.popup.closeOnHover}),o.createElement("svg",{height:"".concat(Qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(tt," ").concat(Qe),width:"".concat(tt,"px")},o.createElement("circle",{cy:Qe/2,fill:"none",rx:tt/2-kt/2,ry:Qe/2-kt/2,stroke:"transparent",strokeWidth:kt||1})),Rt.slot.children)})},X=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=vt(ie),Ve=te(ie),et=!(ie.hasPopup!==!1||!$e&&!Ve),Ke=function(){var Oe,tt,Qe,kt,Rt=ie.file;Rt&&(Oe=Rt.filename,tt=Rt.content,Qe=typeof tt=="string"?"":URL.createObjectURL(new Blob([tt],{type:""})),(kt=document.createElement("a")).style.display="none",kt.href=Qe||Oe,kt.setAttribute("download",function(Tt){var Yt=Tt.split("/").pop();return Yt?Yt.split("#")[0].split("?")[0]:Tt}(Oe)),document.body.appendChild(kt),kt.click(),document.body.removeChild(kt),Qe&&URL.revokeObjectURL(Qe))};return o.createElement(Ee,{annotation:ie,hasPopup:et,ignoreBorder:!0,isRenderable:!0,page:Re,viewport:De},function(Oe){return o.createElement("div",p({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":ie.id,onClick:Oe.popup.toggleOnClick,onDoubleClick:Ke,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},Ce=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=ie.hasPopup===!1,Ve=vt(ie),et=te(ie),Ke=!!(ie.hasPopup||Ve||et);return o.createElement(Ee,{annotation:ie,hasPopup:$e,ignoreBorder:!0,isRenderable:Ke,page:Re,viewport:De},function(Oe){return o.createElement("div",p({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":ie.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},N=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=vt(ie),Ve=te(ie),et=!(!$e&&!Ve),Ke=!ie.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(ie.parentType)!==-1;return S(function(){if(ie.parentId){var Oe=document.querySelector('[data-annotation-id="'.concat(ie.parentId,'"]')),tt=document.querySelector('[data-annotation-id="'.concat(ie.id,'"]'));if(Oe&&tt){var Qe=parseFloat(Oe.style.left),kt=parseFloat(Oe.style.top)+parseFloat(Oe.style.height);tt.style.left="".concat(Qe,"px"),tt.style.top="".concat(kt,"px"),tt.style.transformOrigin="-".concat(Qe,"px -").concat(kt,"px")}}},[]),o.createElement(Ee,{annotation:ie,hasPopup:Ke,ignoreBorder:!1,isRenderable:et,page:Re,viewport:De},function(Oe){return o.createElement("div",p({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":ie.id}),o.createElement(It,{annotation:ie}))})},Ne=function(q){var ie=q.annotation,Re=q.childAnnotation,De=q.page,$e=q.viewport,Ve=ie.hasPopup===!1,et=vt(ie),Ke=te(ie),Oe=!!(ie.hasPopup||et||Ke);if(ie.quadPoints&&ie.quadPoints.length>0){var tt=ie.quadPoints.map(function(Qe){return Object.assign({},ie,{rect:[Qe[2].x,Qe[2].y,Qe[1].x,Qe[1].y],quadPoints:[]})});return o.createElement(o.Fragment,null,tt.map(function(Qe,kt){return o.createElement(Ne,{key:kt,annotation:Qe,childAnnotation:Re,page:De,viewport:$e})}))}return o.createElement(Ee,{annotation:ie,hasPopup:Ve,ignoreBorder:!0,isRenderable:Oe,page:De,viewport:$e},function(Qe){return o.createElement(o.Fragment,null,o.createElement("div",p({},Qe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":ie.id,onClick:Qe.popup.toggleOnClick,onMouseEnter:Qe.popup.openOnHover,onMouseLeave:Qe.popup.closeOnHover}),Qe.slot.children),Re&&Re.annotationType===t.AnnotationType.Popup&&Qe.popup.opened&&o.createElement(N,{annotation:Re,page:De,viewport:$e}))})},Je=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=ie.hasPopup===!1,Ve=vt(ie),et=te(ie),Ke=!!(ie.hasPopup||Ve||et),Oe=ie.rect,tt=Oe[2]-Oe[0],Qe=Oe[3]-Oe[1],kt=ie.borderStyle.width;return o.createElement(Ee,{annotation:ie,hasPopup:$e,ignoreBorder:!0,isRenderable:Ke,page:Re,viewport:De},function(Rt){return o.createElement("div",p({},Rt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":ie.id,onClick:Rt.popup.toggleOnClick,onMouseEnter:Rt.popup.openOnHover,onMouseLeave:Rt.popup.closeOnHover}),ie.inkLists&&ie.inkLists.length&&o.createElement("svg",{height:"".concat(Qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(tt," ").concat(Qe),width:"".concat(tt,"px")},ie.inkLists.map(function(Tt,Yt){return o.createElement("polyline",{key:Yt,fill:"none",stroke:"transparent",strokeWidth:kt||1,points:Tt.map(function(Bt){return"".concat(Bt.x-Oe[0],",").concat(Oe[3]-Bt.y)}).join(" ")})})),Rt.slot.children)})},se=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=ie.hasPopup===!1,Ve=vt(ie),et=te(ie),Ke=!!(ie.hasPopup||Ve||et),Oe=ie.rect,tt=Oe[2]-Oe[0],Qe=Oe[3]-Oe[1],kt=ie.borderStyle.width;return o.createElement(Ee,{annotation:ie,hasPopup:$e,ignoreBorder:!0,isRenderable:Ke,page:Re,viewport:De},function(Rt){return o.createElement("div",p({},Rt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":ie.id,onClick:Rt.popup.toggleOnClick,onMouseEnter:Rt.popup.openOnHover,onMouseLeave:Rt.popup.closeOnHover}),o.createElement("svg",{height:"".concat(Qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(tt," ").concat(Qe),width:"".concat(tt,"px")},o.createElement("line",{stroke:"transparent",strokeWidth:kt||1,x1:Oe[2]-ie.lineCoordinates[0],x2:Oe[2]-ie.lineCoordinates[2],y1:Oe[3]-ie.lineCoordinates[1],y2:Oe[3]-ie.lineCoordinates[3]})),Rt.slot.children)})},Be=/^([^\w]*)(javascript|data|vbscript)/im,ft=/&#(\w+)(^\w|;)?/g,Zt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Lt=/^([^:]+):/gm,Vt=function(q,ie){var Re,De=(Re=q||"",Re.replace(ft,function(Ke,Oe){return String.fromCharCode(Oe)})).replace(Zt,"").trim();if(!De)return ie;var $e=De[0];if($e==="."||$e==="/")return De;var Ve=De.match(Lt);if(!Ve)return De;var et=Ve[0];return Be.test(et)?ie:De},In=function(q){var ie,Re=q.annotation,De=q.annotationContainerRef,$e=q.doc,Ve=q.outlines,et=q.page,Ke=q.pageIndex,Oe=q.scale,tt=q.viewport,Qe=q.onExecuteNamedAction,kt=q.onJumpFromLinkAnnotation,Rt=q.onJumpToDest,Tt=o.useRef(),Yt=Ve&&Ve.length&&Re.dest&&typeof Re.dest=="string"?(ie=Ve.find(function(bn){return bn.dest===Re.dest}))===null||ie===void 0?void 0:ie.title:"",Bt=!!(Re.url||Re.dest||Re.action||Re.unsafeUrl),$t={};if(Re.url||Re.unsafeUrl){var On=Vt(Re.url||Re.unsafeUrl,"");On?$t={"data-target":"external",href:On,rel:"noopener noreferrer nofollow",target:Re.newWindow?"_blank":"",title:On}:Bt=!1}else $t={href:"","data-annotation-link":Re.id,onClick:function(bn){bn.preventDefault(),Re.action?Qe(Re.action):Ue($e,Re.dest).then(function(xn){var Sn=Tt.current,dn=De.current;if(Sn&&dn){var mn=Sn.getBoundingClientRect();dn.style.setProperty("height","100%"),dn.style.setProperty("width","100%");var wn=dn.getBoundingClientRect();dn.style.removeProperty("height"),dn.style.removeProperty("width");var Qn=(mn.left-wn.left)/Oe,Hn=(wn.bottom-mn.bottom+mn.height)/Oe;kt({bottomOffset:Hn,label:Yt,leftOffset:Qn,pageIndex:Ke})}Rt(xn)})}};return Yt&&($t=Object.assign({},$t,{title:Yt,"aria-label":Yt})),o.createElement(Ee,{annotation:Re,hasPopup:!1,ignoreBorder:!1,isRenderable:Bt,page:et,viewport:tt},function(bn){return o.createElement("div",p({},bn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Re.id,"data-testid":"core__annotation--link-".concat(Re.id)}),o.createElement("a",p({ref:Tt},$t)))})},vr=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=ie.hasPopup===!1,Ve=vt(ie),et=te(ie),Ke=!!(ie.hasPopup||Ve||et),Oe=ie.rect,tt=Oe[2]-Oe[0],Qe=Oe[3]-Oe[1],kt=ie.borderStyle.width;return o.createElement(Ee,{annotation:ie,hasPopup:$e,ignoreBorder:!0,isRenderable:Ke,page:Re,viewport:De},function(Rt){return o.createElement("div",p({},Rt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":ie.id,onClick:Rt.popup.toggleOnClick,onMouseEnter:Rt.popup.openOnHover,onMouseLeave:Rt.popup.closeOnHover}),ie.vertices&&ie.vertices.length&&o.createElement("svg",{height:"".concat(Qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(tt," ").concat(Qe),width:"".concat(tt,"px")},o.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:kt||1,points:ie.vertices.map(function(Tt){return"".concat(Tt.x-Oe[0],",").concat(Oe[3]-Tt.y)}).join(" ")})),Rt.slot.children)})},Kn=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=ie.hasPopup===!1,Ve=vt(ie),et=te(ie),Ke=!!(ie.hasPopup||Ve||et),Oe=ie.rect,tt=Oe[2]-Oe[0],Qe=Oe[3]-Oe[1],kt=ie.borderStyle.width;return o.createElement(Ee,{annotation:ie,hasPopup:$e,ignoreBorder:!0,isRenderable:Ke,page:Re,viewport:De},function(Rt){return o.createElement("div",p({},Rt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":ie.id,onClick:Rt.popup.toggleOnClick,onMouseEnter:Rt.popup.openOnHover,onMouseLeave:Rt.popup.closeOnHover}),ie.vertices&&ie.vertices.length&&o.createElement("svg",{height:"".concat(Qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(tt," ").concat(Qe),width:"".concat(tt,"px")},o.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:kt||1,points:ie.vertices.map(function(Tt){return"".concat(Tt.x-Oe[0],",").concat(Oe[3]-Tt.y)}).join(" ")})),Rt.slot.children)})},Mn=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=ie.hasPopup===!1,Ve=vt(ie),et=te(ie),Ke=!!(ie.hasPopup||Ve||et),Oe=ie.rect,tt=Oe[2]-Oe[0],Qe=Oe[3]-Oe[1],kt=ie.borderStyle.width;return o.createElement(Ee,{annotation:ie,hasPopup:$e,ignoreBorder:!0,isRenderable:Ke,page:Re,viewport:De},function(Rt){return o.createElement("div",p({},Rt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":ie.id,onClick:Rt.popup.toggleOnClick,onMouseEnter:Rt.popup.openOnHover,onMouseLeave:Rt.popup.closeOnHover}),o.createElement("svg",{height:"".concat(Qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(tt," ").concat(Qe),width:"".concat(tt,"px")},o.createElement("rect",{height:Qe-kt,fill:"none",stroke:"transparent",strokeWidth:kt||1,x:kt/2,y:kt/2,width:tt-kt})),Rt.slot.children)})},ur=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=ie.hasPopup===!1,Ve=vt(ie),et=te(ie),Ke=!!(ie.hasPopup||Ve||et);return o.createElement(Ee,{annotation:ie,hasPopup:$e,ignoreBorder:!0,isRenderable:Ke,page:Re,viewport:De},function(Oe){return o.createElement("div",p({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":ie.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},Wn=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=ie.hasPopup===!1,Ve=vt(ie),et=te(ie),Ke=!!(ie.hasPopup||Ve||et);return o.createElement(Ee,{annotation:ie,hasPopup:$e,ignoreBorder:!0,isRenderable:Ke,page:Re,viewport:De},function(Oe){return o.createElement("div",p({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":ie.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},br=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=ie.hasPopup===!1,Ve=vt(ie),et=te(ie),Ke=!!(ie.hasPopup||Ve||et);return o.createElement(Ee,{annotation:ie,hasPopup:$e,ignoreBorder:!0,isRenderable:Ke,page:Re,viewport:De},function(Oe){return o.createElement("div",p({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":ie.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},dr=function(){return o.createElement(v,{size:16},o.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),o.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),o.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),o.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Qr=function(){return o.createElement(v,{size:16},o.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),o.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),o.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),o.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),o.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),o.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),o.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),o.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),o.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),o.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Sr=function(){return o.createElement(v,{size:16},o.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),o.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Rr=function(){return o.createElement(v,{size:16},o.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),o.createElement("path",{d:"M6 4.5L6 0.5"}),o.createElement("path",{d:"M18 4.5L18 0.5"}),o.createElement("path",{d:"M10 4.5L10 0.5"}),o.createElement("path",{d:"M14 4.5L14 0.5"}))},kr=function(){return o.createElement(v,{size:16},o.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),o.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),o.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Fr=function(){return o.createElement(v,{size:16},o.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Xr=function(q){var ie=q.annotation,Re=q.childAnnotation,De=q.page,$e=q.viewport,Ve=ie.hasPopup===!1,et=vt(ie),Ke=te(ie),Oe=!!(ie.hasPopup||et||Ke),tt=ie.name?ie.name.toLowerCase():"";return o.createElement(Ee,{annotation:ie,hasPopup:Ve,ignoreBorder:!1,isRenderable:Oe,page:De,viewport:$e},function(Qe){return o.createElement(o.Fragment,null,o.createElement("div",p({},Qe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":ie.id,onClick:Qe.popup.toggleOnClick,onMouseEnter:Qe.popup.openOnHover,onMouseLeave:Qe.popup.closeOnHover}),tt&&o.createElement("div",{className:"rpv-core__annotation-text-icon"},tt==="check"&&o.createElement(b,null),tt==="comment"&&o.createElement(dr,null),tt==="help"&&o.createElement(Qr,null),tt==="insert"&&o.createElement(Fr,null),tt==="key"&&o.createElement(Sr,null),tt==="note"&&o.createElement(Rr,null),(tt==="newparagraph"||tt==="paragraph")&&o.createElement(kr,null)),Qe.slot.children),Re&&Re.annotationType===t.AnnotationType.Popup&&Qe.popup.opened&&o.createElement(N,{annotation:Re,page:De,viewport:$e}))})},zi=function(q){var ie=q.annotation,Re=q.page,De=q.viewport,$e=ie.hasPopup===!1,Ve=vt(ie),et=te(ie),Ke=!!(ie.hasPopup||Ve||et);return o.createElement(Ee,{annotation:ie,hasPopup:$e,ignoreBorder:!0,isRenderable:Ke,page:Re,viewport:De},function(Oe){return o.createElement("div",p({},Oe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":ie.id,onClick:Oe.popup.toggleOnClick,onMouseEnter:Oe.popup.openOnHover,onMouseLeave:Oe.popup.closeOnHover}),Oe.slot.children)})},Pr=function(q){var ie=q.annotations,Re=q.doc,De=q.outlines,$e=q.page,Ve=q.pageIndex,et=q.plugins,Ke=q.rotation,Oe=q.scale,tt=q.onExecuteNamedAction,Qe=q.onJumpFromLinkAnnotation,kt=q.onJumpToDest,Rt=o.useRef(),Tt=$e.getViewport({rotation:Ke,scale:Oe}).clone({dontFlip:!0}),Yt=ie.filter(function(Bt){return!Bt.parentId});return S(function(){var Bt=Rt.current;Bt&&et.forEach(function($t){$t.onAnnotationLayerRender&&$t.onAnnotationLayerRender({annotations:Yt,container:Bt,pageIndex:Ve,rotation:Ke,scale:Oe})})},[]),o.createElement("div",{ref:Rt,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Ve)},Yt.map(function(Bt){var $t=ie.find(function(On){return On.parentId===Bt.id});switch(Bt.annotationType){case t.AnnotationType.Caret:return o.createElement(Et,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});case t.AnnotationType.Circle:return o.createElement(I,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});case t.AnnotationType.FileAttachment:return o.createElement(X,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});case t.AnnotationType.FreeText:return o.createElement(Ce,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});case t.AnnotationType.Highlight:return o.createElement(Ne,{key:Bt.id,annotation:Bt,childAnnotation:$t,page:$e,viewport:Tt});case t.AnnotationType.Ink:return o.createElement(Je,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});case t.AnnotationType.Line:return o.createElement(se,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});case t.AnnotationType.Link:return o.createElement(In,{key:Bt.id,annotation:Bt,annotationContainerRef:Rt,doc:Re,outlines:De,page:$e,pageIndex:Ve,scale:Oe,viewport:Tt,onExecuteNamedAction:tt,onJumpFromLinkAnnotation:Qe,onJumpToDest:kt});case t.AnnotationType.Polygon:return o.createElement(vr,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});case t.AnnotationType.Polyline:return o.createElement(Kn,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});case t.AnnotationType.Popup:return o.createElement(N,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});case t.AnnotationType.Square:return o.createElement(Mn,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});case t.AnnotationType.Squiggly:return o.createElement(ur,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});case t.AnnotationType.Stamp:return o.createElement(Wn,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});case t.AnnotationType.StrikeOut:return o.createElement(br,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});case t.AnnotationType.Text:return o.createElement(Xr,{key:Bt.id,annotation:Bt,childAnnotation:$t,page:$e,viewport:Tt});case t.AnnotationType.Underline:return o.createElement(zi,{key:Bt.id,annotation:Bt,page:$e,viewport:Tt});default:return o.createElement(o.Fragment,{key:Bt.id})}}))},Pi=function(q){var ie=q.page,Re=q.renderAnnotations,De=we(),$e=o.useState({loading:!0,annotations:[]}),Ve=$e[0],et=$e[1];return o.useEffect(function(){ie.getAnnotations({intent:"display"}).then(function(Ke){De.current&&et({loading:!1,annotations:Ke})})},[]),Ve.loading?o.createElement(o.Fragment,null):Re(Ve.annotations)},nr=function(q){var ie=q.doc,Re=q.outlines,De=q.page,$e=q.pageIndex,Ve=q.plugins,et=q.rotation,Ke=q.scale,Oe=q.onExecuteNamedAction,tt=q.onJumpFromLinkAnnotation,Qe=q.onJumpToDest;return o.createElement(Pi,{page:De,renderAnnotations:function(kt){return o.createElement(Pr,{annotations:kt,doc:ie,outlines:Re,page:De,pageIndex:$e,plugins:Ve,rotation:et,scale:Ke,onExecuteNamedAction:Oe,onJumpFromLinkAnnotation:tt,onJumpToDest:Qe})}})},Gi=function(q,ie){var Re=q%ie;return Re===0?q:Math.floor(q-Re)},Jr=function(q){var ie=q.canvasLayerRef,Re=q.height,De=q.page,$e=q.pageIndex,Ve=q.plugins,et=q.rotation,Ke=q.scale,Oe=q.width,tt=q.onRenderCanvasCompleted,Qe=o.useRef();return S(function(){var kt=Qe.current;kt&&kt.cancel();var Rt=ie.current;Rt.removeAttribute("data-testid"),Ve.forEach(function(wn){wn.onCanvasLayerRender&&wn.onCanvasLayerRender({ele:Rt,pageIndex:$e,rotation:et,scale:Ke,status:t.LayerRenderStatus.PreRender})});var Tt=De.getViewport({rotation:et,scale:Ke}),Yt=window.devicePixelRatio||1,Bt=Math.sqrt(16777216/(Tt.width*Tt.height)),$t=Yt>Bt;$t?Rt.style.transform="scale(1, 1)":Rt.style.removeProperty("transform");var On=Math.min(Bt,Yt),bn=function(wn,Qn){var Hn,Jn;if(Math.floor(wn)===wn)return[wn,1];var Zn=1/wn;if(Zn>Qn)return[1,Qn];if(Math.floor(Zn)===Zn)return[1,Zn];for(var er=wn>1?Zn:wn,fr=0,qn=1,xr=1,hr=1;;){var Tr=fr+xr,Er=qn+hr;if(Er>Qn)break;er<=Tr/Er?(xr=(Hn=[Tr,Er])[0],hr=Hn[1]):(fr=(Jn=[Tr,Er])[0],qn=Jn[1])}return er<(fr/qn+xr/hr)/2?er===wn?[fr,qn]:[qn,fr]:er===wn?[xr,hr]:[hr,xr]}(On,8),xn=bn[0],Sn=bn[1];Rt.width=Gi(Tt.width*On,xn),Rt.height=Gi(Tt.height*On,xn),Rt.style.width="".concat(Gi(Tt.width,Sn),"px"),Rt.style.height="".concat(Gi(Tt.height,Sn),"px"),Rt.hidden=!0;var dn=Rt.getContext("2d",{alpha:!1}),mn=$t||Yt!==1?[On,0,0,On,0,0]:null;return Qe.current=De.render({canvasContext:dn,transform:mn,viewport:Tt}),Qe.current.promise.then(function(){Rt.hidden=!1,Rt.setAttribute("data-testid","core__canvas-layer-".concat($e)),Ve.forEach(function(wn){wn.onCanvasLayerRender&&wn.onCanvasLayerRender({ele:Rt,pageIndex:$e,rotation:et,scale:Ke,status:t.LayerRenderStatus.DidRender})}),tt()},function(){tt()}),function(){Rt&&(Rt.width=0,Rt.height=0)}},[]),o.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Re,"px"),width:"".concat(Oe,"px")}},o.createElement("canvas",{ref:ie}))},ss=function(q){var ie=q.height,Re=q.page,De=q.rotation,$e=q.scale,Ve=q.width,et=o.useRef();return S(function(){var Ke=et.current,Oe=Re.getViewport({rotation:De,scale:$e});Re.getOperatorList().then(function(tt){(function(){var Qe=et.current;Qe&&(Qe.innerHTML="")})(),new l.SVGGraphics(Re.commonObjs,Re.objs).getSVG(tt,Oe).then(function(Qe){Qe.style.height="".concat(ie,"px"),Qe.style.width="".concat(Ve,"px"),Ke.appendChild(Qe)})})},[]),o.createElement("div",{className:"rpv-core__svg-layer",ref:et})},Ci=function(q){var ie=q.containerRef,Re=q.page,De=q.pageIndex,$e=q.plugins,Ve=q.rotation,et=q.scale,Ke=q.onRenderTextCompleted,Oe=o.useRef(),tt=function(){var Qe=ie.current;Qe&&([].slice.call(Qe.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(kt){return Qe.removeChild(kt)}),[].slice.call(Qe.querySelectorAll('br[role="presentation"]')).forEach(function(kt){return Qe.removeChild(kt)}))};return S(function(){var Qe=Oe.current;Qe&&Qe.cancel();var kt=ie.current;if(kt){kt.removeAttribute("data-testid");var Rt=Re.getViewport({rotation:Ve,scale:et});return $e.forEach(function(Tt){Tt.onTextLayerRender&&Tt.onTextLayerRender({ele:kt,pageIndex:De,scale:et,status:t.LayerRenderStatus.PreRender})}),Re.getTextContent().then(function(Tt){tt(),Oe.current=l.renderTextLayer({container:kt,textContent:Tt,textContentSource:Tt,viewport:Rt}),Oe.current.promise.then(function(){kt.setAttribute("data-testid","core__text-layer-".concat(De)),[].slice.call(kt.children).forEach(function(Yt){Yt.classList.contains("rpv-core__text-layer-text--not")||Yt.classList.add("rpv-core__text-layer-text")}),$e.forEach(function(Yt){Yt.onTextLayerRender&&Yt.onTextLayerRender({ele:kt,pageIndex:De,scale:et,status:t.LayerRenderStatus.DidRender})}),Ke()},function(){kt.removeAttribute("data-testid"),Ke()})}),function(){var Tt;tt(),(Tt=Oe.current)===null||Tt===void 0||Tt.cancel()}}},[]),o.createElement("div",{className:"rpv-core__text-layer",ref:ie})},os=function(q){var ie=q.doc,Re=q.measureRef,De=q.outlines,$e=q.pageIndex,Ve=q.pageRotation,et=q.pageSize,Ke=q.plugins,Oe=q.renderPage,tt=q.renderQueueKey,Qe=q.rotation,kt=q.scale,Rt=q.shouldRender,Tt=q.viewMode,Yt=q.onExecuteNamedAction,Bt=q.onJumpFromLinkAnnotation,$t=q.onJumpToDest,On=q.onRenderCompleted,bn=q.onRotatePage,xn=we(),Sn=o.useState(null),dn=Sn[0],mn=Sn[1],wn=o.useState(!1),Qn=wn[0],Hn=wn[1],Jn=o.useState(!1),Zn=Jn[0],er=Jn[1],fr=o.useRef(),qn=o.useRef(),xr=Math.abs(Qe+Ve)%180==0,hr=et.pageWidth*kt,Tr=et.pageHeight*kt,Er=xr?hr:Tr,yr=xr?Tr:hr,Hr=(et.rotation+Qe+Ve)%360,ci=o.useRef(0),di=Oe||function(Cr){return o.createElement(o.Fragment,null,Cr.canvasLayer.children,Cr.textLayer.children,Cr.annotationLayer.children)};return o.useEffect(function(){mn(null),Hn(!1),er(!1)},[Ve,Qe,kt]),o.useEffect(function(){Rt&&xn.current&&!dn&&mt(ie,$e).then(function(Cr){xn.current&&(ci.current=tt,mn(Cr))})},[Rt,dn]),o.useEffect(function(){Qn&&Zn&&(tt!==ci.current?(mn(null),Hn(!1),er(!1)):On($e))},[Qn,Zn]),o.createElement("div",{className:x({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Tt===t.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Tt===t.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Tt===t.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat($e),ref:Re,style:{height:"".concat(yr,"px"),width:"".concat(Er,"px")}},dn?o.createElement(o.Fragment,null,di({annotationLayer:{attrs:{},children:o.createElement(nr,{doc:ie,outlines:De,page:dn,pageIndex:$e,plugins:Ke,rotation:Hr,scale:kt,onExecuteNamedAction:Yt,onJumpFromLinkAnnotation:Bt,onJumpToDest:$t})},canvasLayer:{attrs:{},children:o.createElement(Jr,{canvasLayerRef:fr,height:yr,page:dn,pageIndex:$e,plugins:Ke,rotation:Hr,scale:kt,width:Er,onRenderCanvasCompleted:function(){xn.current&&Hn(!0)}})},canvasLayerRendered:Qn,doc:ie,height:yr,pageIndex:$e,rotation:Hr,scale:kt,svgLayer:{attrs:{},children:o.createElement(ss,{height:yr,page:dn,rotation:Hr,scale:kt,width:Er})},textLayer:{attrs:{},children:o.createElement(Ci,{containerRef:qn,page:dn,pageIndex:$e,plugins:Ke,rotation:Hr,scale:kt,onRenderTextCompleted:function(){xn.current&&er(!0)}})},textLayerRendered:Zn,width:Er,markRendered:On,onRotatePage:function(Cr){return bn($e,Cr)}}),Ke.map(function(Cr,Yr){return Cr.renderPageLayer?o.createElement(o.Fragment,{key:Yr},Cr.renderPageLayer({canvasLayerRef:fr,canvasLayerRendered:Qn,doc:ie,height:yr,pageIndex:$e,rotation:Hr,scale:kt,textLayerRef:qn,textLayerRendered:Zn,width:Er})):o.createElement(o.Fragment,{key:Yr})})):o.createElement(E,{testId:"core__page-layer-loading-".concat($e)}))},Di=function(q,ie){var Re=ie.rect;return q.height!==Re.height||q.width!==Re.width?Re:q};(function(q){q.Horizontal="Horizontal",q.Vertical="Vertical",q.Both="Both"})(Dt||(Dt={}));var as=function(q){return 1-Math.pow(1-q,4)},Br=1e-4,xs={left:0,top:0},jn={capture:!1,passive:!0},pe=function(q){var ie=q.elementRef,Re=q.enableSmoothScroll,De=q.isRtl,$e=q.scrollDirection,Ve=q.onSmoothScroll,et=o.useState(xs),Ke=et[0],Oe=et[1],tt=o.useState(ie.current),Qe=tt[0],kt=tt[1],Rt=De?-1:1,Tt=o.useRef($e);Tt.current=$e;var Yt=o.useRef(xs),Bt=o.useRef(!0),$t=o.useCallback(function(){Bt.current=!0,Re&&Oe(Yt.current),Ve(!1)},[]),On=o.useCallback(function(){if(Qe){switch(Tt.current){case Dt.Horizontal:Yt.current={left:Rt*Qe.scrollLeft,top:0};break;case Dt.Both:Yt.current={left:Rt*Qe.scrollLeft,top:Qe.scrollTop};break;case Dt.Vertical:default:Yt.current={left:0,top:Qe.scrollTop}}Re&&!Bt.current||Oe(Yt.current)}},[Qe]);S(function(){kt(ie.current)}),S(function(){if(Qe)return Qe.addEventListener("scroll",On,jn),function(){Qe.removeEventListener("scroll",On,jn)}},[Qe]);var bn=o.useCallback(function(xn,Sn){var dn=ie.current;if(!dn)return Promise.resolve();var mn={left:0,top:0};switch(Tt.current){case Dt.Horizontal:mn.left=Rt*xn.left;break;case Dt.Both:mn.left=Rt*xn.left,mn.top=xn.top;break;case Dt.Vertical:default:mn.top=xn.top}return Sn?(Bt.current=!1,Ve(!0),new Promise(function(wn,Qn){(function(Hn,Jn,Zn,er,fr,qn){fr===void 0&&(fr=function(Yr){return Yr}),qn===void 0&&(qn=function(){});var xr=0,hr=0,Tr=!1;switch(Jn){case Dt.Horizontal:hr=Hn.scrollLeft,xr=0;case Dt.Both:hr=Hn.scrollLeft,xr=Hn.scrollTop;break;case Dt.Vertical:default:hr=0,xr=Hn.scrollTop}var Er=function(){Tr||(Tr=!0,Hn.scrollLeft=Zn.left,Hn.scrollTop=Zn.top,qn())};if(Math.abs(xr-Zn.top)<=Br&&Jn===Dt.Vertical)Er();else if(Math.abs(hr-Zn.left)<=Br&&Jn===Dt.Horizontal)Er();else{var yr,Hr=-1,ci=hr-Zn.left,di=xr-Zn.top,Cr=function(Yr){Hr===-1&&(Hr=Yr);var yi=Yr-Hr,An=Math.min(yi/er,1),_n=fr(An),pn={left:hr-ci*_n,top:xr-di*_n};switch(Jn){case Dt.Horizontal:Hn.scrollLeft=pn.left;break;case Dt.Both:Hn.scrollLeft=pn.left,Hn.scrollTop=pn.top;break;case Dt.Vertical:default:Hn.scrollTop=pn.top}Math.abs(pn.top-Zn.top)<=Br&&Math.abs(pn.left-Zn.left)<=Br&&!Tr&&(window.cancelAnimationFrame(yr),Er()),yi<er?yr=window.requestAnimationFrame(Cr):window.cancelAnimationFrame(yr)};yr=window.requestAnimationFrame(Cr)}})(dn,Tt.current,mn,400,as,function(){$t(),wn()})})):new Promise(function(wn,Qn){switch(Tt.current){case Dt.Horizontal:dn.scrollLeft=mn.left;break;case Dt.Both:dn.scrollLeft=mn.left,dn.scrollTop=mn.top;break;case Dt.Vertical:default:dn.scrollTop=mn.top}wn()})},[ie]);return{scrollOffset:Ke,scrollTo:bn}},We=function(q,ie,Re){return Math.max(q,Math.min(Re,ie))},Te=function(q,ie){if(ie!==t.ViewMode.DualPageWithCover)return 0;if(!function($e){var Ve=$e.length;if(Ve===1)return!1;for(var et=1;et<Ve;et++)if($e[et].height!==$e[0].height||$e[et].width!==$e[0].width)return!0;return!1}(q))return 2*q[0].width;var Re=qe(q.slice(1),2).map(function($e){return $e.length===2?$e[0].width+$e[1].width:$e[0].width}),De=[q[0].width].concat(Re);return Math.max.apply(Math,De)},He={left:0,top:0},ut={left:0,top:0},Ye={left:0,top:0},Pt={left:0,top:0},Ut={height:0,width:0},Kt={left:0,top:0},Wt="data-virtual-index",tn=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],gn=function(q){var ie=q.enableSmoothScroll,Re=q.isRtl,De=q.numberOfItems,$e=q.parentRef,Ve=q.setRenderRange,et=q.sizes,Ke=q.scrollMode,Oe=q.viewMode,tt=o.useState(!1),Qe=tt[0],kt=tt[1],Rt=o.useCallback(function(An){return kt(An)},[]),Tt=o.useRef(Ke);Tt.current=Ke;var Yt=o.useRef(Oe);Yt.current=Oe;var Bt=Ke===t.ScrollMode.Wrapped||Oe===t.ViewMode.DualPageWithCover||Oe===t.ViewMode.DualPage?Dt.Both:Ke===t.ScrollMode.Horizontal?Dt.Horizontal:Dt.Vertical,$t=pe({elementRef:$e,enableSmoothScroll:ie,isRtl:Re,scrollDirection:Bt,onSmoothScroll:Rt}),On=$t.scrollOffset,bn=$t.scrollTo,xn=function(An){var _n=An.elementRef,pn=o.useState(_n.current),En=pn[0],hn=pn[1],kn=o.useRef(!1),Fn=o.useReducer(Di,{height:0,width:0}),vn=Fn[0],on=Fn[1];return S(function(){_n.current!==En&&hn(_n.current)}),S(function(){if(En&&!kn.current){kn.current=!0;var zn=En.getBoundingClientRect(),Gn=zn.height,pr=zn.width;on({rect:{height:Gn,width:pr}})}},[En]),o.useEffect(function(){if(En){var zn=new ResizeObserver(function(Gn,pr){Gn.forEach(function(lr){if(lr.target===En){var Ur=lr.contentRect,fi=Ur.height,Bn=Ur.width;on({rect:{height:fi,width:Bn}})}})});return zn.observe(En),function(){zn.unobserve(En)}}},[En]),vn}({elementRef:$e}),Sn=o.useRef({scrollOffset:Kt,measurements:[]});Sn.current.scrollOffset=On;var dn=o.useMemo(function(){return Array(De).fill(-1)},[]),mn=o.useState(dn),wn=mn[0],Qn=mn[1],Hn=o.useMemo(function(){var An=new IntersectionObserver(function(_n){_n.forEach(function(pn){var En=pn.isIntersecting?pn.intersectionRatio:-1,hn=pn.target.getAttribute(Wt);if(hn){var kn=parseInt(hn,10);0<=kn&&kn<De&&Qn(function(Fn){return Fn[kn]=En,function(vn,on,zn){for(var Gn,pr=0,lr=on.length;pr<lr;pr++)!Gn&&pr in on||(Gn||(Gn=Array.prototype.slice.call(on,0,pr)),Gn[pr]=on[pr]);return vn.concat(Gn||Array.prototype.slice.call(on))}([],Fn)})}})},{threshold:tn});return An},[]),Jn=o.useMemo(function(){return Ke===t.ScrollMode.Page&&Oe===t.ViewMode.SinglePage?function(An,_n,pn){for(var En=[],hn=0;hn<An;hn++){var kn={height:Math.max(_n.height,pn[hn].height),width:Math.max(_n.width,pn[hn].width)},Fn=hn===0?Pt:En[hn-1].end,vn={left:Fn.left+kn.width,top:Fn.top+kn.height};En[hn]={index:hn,start:Fn,size:kn,end:vn,visibility:-1}}return En}(De,xn,et):Oe===t.ViewMode.DualPageWithCover?function(An,_n,pn,En){for(var hn=[],kn=0,Fn=0,vn=Ye,on=0;on<An;on++){var zn=on===0?{height:En===t.ScrollMode.Page?Math.max(_n.height,pn[on].height):pn[on].height,width:En===t.ScrollMode.Page?Math.max(_n.width,pn[on].width):pn[on].width}:{height:En===t.ScrollMode.Page?Math.max(_n.height,pn[on].height):pn[on].height,width:Math.max(_n.width/2,pn[on].width)};En===t.ScrollMode.Page?vn=on===0?Ye:{left:on%2==0?zn.width:0,top:Math.floor((on-1)/2)*zn.height+hn[0].end.top}:on===0?(vn=Ye,kn=pn[0].height,Fn=0):on%2==1?(vn={left:0,top:kn+=Fn},Fn=on===An-1?pn[on].height:Math.max(pn[on].height,pn[on+1].height)):vn={left:hn[on-1].end.left,top:kn};var Gn={left:vn.left+zn.width,top:vn.top+zn.height};hn[on]={index:on,start:vn,size:zn,end:Gn,visibility:-1}}return hn}(De,xn,et,Ke):Oe===t.ViewMode.DualPage?function(An,_n,pn,En){for(var hn=[],kn=0,Fn=0,vn=ut,on=0;on<An;on++){var zn={height:En===t.ScrollMode.Page?Math.max(_n.height,pn[on].height):pn[on].height,width:Math.max(_n.width/2,pn[on].width)};En===t.ScrollMode.Page?vn={left:on%2==0?0:zn.width,top:Math.floor(on/2)*zn.height}:on%2==0?(vn={left:0,top:kn+=Fn},Fn=on===An-1?pn[on].height:Math.max(pn[on].height,pn[on+1].height)):vn={left:hn[on-1].end.left,top:kn};var Gn={left:vn.left+zn.width,top:vn.top+zn.height};hn[on]={index:on,start:vn,size:zn,end:Gn,visibility:-1}}return hn}(De,xn,et,Ke):function(An,_n,pn,En){for(var hn=[],kn=0,Fn={left:0,top:0},vn=0,on=He,zn=0;zn<An;zn++){var Gn=pn[zn];if(zn===0)kn=Gn.width,Fn={left:0,top:0},vn=Gn.height;else switch(En){case t.ScrollMode.Wrapped:(kn+=Gn.width)<_n.width?(on={left:hn[zn-1].end.left,top:Fn.top},vn=Math.max(vn,Gn.height)):(kn=Gn.width,Fn={left:(on={left:Fn.left,top:Fn.top+vn}).left,top:on.top},vn=Gn.height);break;case t.ScrollMode.Horizontal:case t.ScrollMode.Vertical:default:on=hn[zn-1].end}var pr={left:on.left+Gn.width,top:on.top+Gn.height};hn[zn]={index:zn,start:on,size:Gn,end:pr,visibility:-1}}return hn}(De,xn,et,Ke)},[Ke,et,Oe,xn]),Zn=Jn[De-1]?{height:Jn[De-1].end.top,width:Jn[De-1].end.left}:Ut;Sn.current.measurements=Jn;var er=o.useMemo(function(){var An=function(zn,Gn,pr,lr){var Ur=0;switch(zn){case Dt.Horizontal:Ur=lr.left;break;case Dt.Vertical:default:Ur=lr.top}var fi=Gn.length-1,Bn=function(or,Vi,Ii,hi){for(;or<=Vi;){var ar=(or+Vi)/2|0,Xi=hi(ar);if(Xi<Ii)or=ar+1;else{if(!(Xi>Ii))return ar;Vi=ar-1}}return or>0?or-1:0}(0,fi,Ur,function(or){switch(zn){case Dt.Horizontal:return Gn[or].start.left;case Dt.Both:case Dt.Vertical:default:return Gn[or].start.top}});if(zn===Dt.Both)for(var Dr=Gn[Bn].start.top;Bn-1>=0&&Gn[Bn-1].start.top===Dr&&Gn[Bn-1].start.left>=lr.left;)Bn--;for(var ir=Bn;ir<=fi;){var mr={top:Gn[ir].start.top-lr.top,left:Gn[ir].start.left-lr.left},Nr={height:pr.height-mr.top,width:pr.width-mr.left};if(zn===Dt.Horizontal&&Nr.width<0||zn===Dt.Vertical&&Nr.height<0||zn===Dt.Both&&(Nr.width<0||Nr.height<0))break;ir++}return{start:Bn,end:ir}}(Bt,Jn,xn,On),_n=An.start,pn=An.end,En=wn.slice(We(0,De,_n),We(0,De,pn)),hn=_n+En.reduce(function(zn,Gn,pr,lr){return Gn>lr[zn]?pr:zn},0),kn=hn=We(0,De-1,hn),Fn=Ve({endPage:pn,numPages:De,startPage:_n}),vn=Fn.startPage,on=Fn.endPage;switch(vn=Math.max(vn,0),on=Math.min(on,De-1),Oe){case t.ViewMode.DualPageWithCover:hn>0&&(kn=hn%2==1?hn:hn-1),vn=vn===0?0:vn%2==1?vn:vn-1,De-(on=on%2==1?on-1:on)<=2&&(on=De-1);break;case t.ViewMode.DualPage:kn=hn%2==0?hn:hn-1,vn=vn%2==0?vn:vn-1,on=on%2==1?on:on-1;break;case t.ViewMode.SinglePage:default:kn=hn}return{startPage:vn,endPage:on,maxVisbilityIndex:kn}},[Jn,xn,On,Oe,wn]),fr=er.startPage,qn=er.endPage,xr=er.maxVisbilityIndex,hr=o.useMemo(function(){for(var An=[],_n=function(En){var hn=Jn[En],kn=p(p({},hn),{visibility:wn[En]!==void 0?wn[En]:-1,measureRef:function(Fn){Fn&&(Fn.setAttribute(Wt,"".concat(En)),Hn.observe(Fn))}});An.push(kn)},pn=fr;pn<=qn;pn++)_n(pn);return An},[fr,qn,wn,Jn]),Tr=o.useCallback(function(An,_n){var pn=Sn.current.measurements[We(0,De-1,An)],En=Tt.current===t.ScrollMode.Page?Kt:_n;return pn?bn({left:En.left+pn.start.left,top:En.top+pn.start.top},ie):Promise.resolve()},[bn,ie]),Er=o.useCallback(function(An,_n){var pn=Sn.current.measurements,En=pn[An].start,hn=pn.find(function(Fn){return Fn.start.top-En.top>1e-12});if(!hn)return Promise.resolve();var kn=hn.index;switch(Yt.current){case t.ViewMode.DualPage:kn=kn%2==0?kn:kn+1;break;case t.ViewMode.DualPageWithCover:kn=kn%2==1?kn:kn+1}return Tr(kn,_n)},[]),yr=o.useCallback(function(An,_n){for(var pn=Sn.current.measurements,En=pn[An].start,hn=An,kn=!1,Fn=De-1;Fn>=0;Fn--)if(En.top-pn[Fn].start.top>1e-12){kn=!0,hn=pn[Fn].index;break}if(!kn)return Promise.resolve();switch(Yt.current){case t.ViewMode.DualPage:hn=hn%2==0?hn:hn-1;break;case t.ViewMode.DualPageWithCover:hn=hn%2==0?hn-1:hn}return hn===An&&(hn=An-1),Tr(hn,_n)},[]),Hr=o.useCallback(function(An,_n){if(Yt.current===t.ViewMode.DualPageWithCover||Yt.current===t.ViewMode.DualPage)return Er(An,_n);switch(Tt.current){case t.ScrollMode.Wrapped:return Er(An,_n);case t.ScrollMode.Horizontal:case t.ScrollMode.Vertical:default:return Tr(An+1,_n)}},[]),ci=o.useCallback(function(An,_n){if(Yt.current===t.ViewMode.DualPageWithCover||Yt.current===t.ViewMode.DualPage)return yr(An,_n);switch(Tt.current){case t.ScrollMode.Wrapped:return yr(An,_n);case t.ScrollMode.Horizontal:case t.ScrollMode.Vertical:default:return Tr(An-1,_n)}},[]),di=o.useCallback(function(){return function(An,_n){switch(_n){case t.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(An.width,"px")};case t.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(An.height,"px"),width:"100%"}}}(Zn,Tt.current)},[Zn]),Cr=o.useCallback(function(An){return function(_n,pn,En){return En!==t.ScrollMode.Page?{}:{height:"".concat(pn.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(_n.start.top,"px)")}}(An,xn,Tt.current)},[xn]),Yr=o.useCallback(function(An){return function(_n,pn,En,hn,kn){var Fn,vn,on,zn,Gn,pr,lr,Ur=pn?"right":"left",fi=pn?-1:1,Bn=En.length,Dr=_n.start.left*fi,ir=_n.size,mr=ir.height,Nr=ir.width;if(hn===t.ViewMode.DualPageWithCover){var or=kn===t.ScrollMode.Page?0:_n.start.top;return _n.index===0||Bn%2==0&&_n.index===Bn-1?((Fn={height:"".concat(mr,"px"),minWidth:"".concat(Te(En,hn),"px"),width:"100%"})[Ur]=0,Fn.position="absolute",Fn.top=0,Fn.transform="translate(".concat(Dr,"px, ").concat(or,"px)"),Fn):((vn={height:"".concat(mr,"px"),width:"".concat(Nr,"px")})[Ur]=0,vn.position="absolute",vn.top=0,vn.transform="translate(".concat(Dr,"px, ").concat(or,"px)"),vn)}if(hn===t.ViewMode.DualPage)return(on={height:"".concat(mr,"px"),width:"".concat(Nr,"px")})[Ur]=0,on.position="absolute",on.top=0,on.transform="translate(".concat(Dr,"px, ").concat(kn===t.ScrollMode.Page?0:_n.start.top,"px)"),on;switch(kn){case t.ScrollMode.Horizontal:return(zn={height:"100%",width:"".concat(Nr,"px")})[Ur]=0,zn.position="absolute",zn.top=0,zn.transform="translateX(".concat(Dr,"px)"),zn;case t.ScrollMode.Page:return(Gn={height:"".concat(mr,"px"),width:"".concat(Nr,"px")})[Ur]=0,Gn.position="absolute",Gn.top=0,Gn;case t.ScrollMode.Wrapped:return(pr={height:"".concat(mr,"px"),width:"".concat(Nr,"px")})[Ur]=0,pr.position="absolute",pr.top=0,pr.transform="translate(".concat(Dr,"px, ").concat(_n.start.top,"px)"),pr;case t.ScrollMode.Vertical:default:return(lr={height:"".concat(mr,"px"),width:"100%"})[Ur]=0,lr.position="absolute",lr.top=0,lr.transform="translateY(".concat(_n.start.top,"px)"),lr}}(An,Re,et,Yt.current,Tt.current)},[Re,et]),yi=o.useCallback(function(An,_n){var pn=Sn.current,En=pn.measurements,hn=pn.scrollOffset,kn=En[We(0,De-1,_n)];if(kn){var Fn=Tt.current===t.ScrollMode.Page?{left:kn.start.left,top:kn.start.top}:{left:hn.left*An,top:hn.top*An};return bn(Fn,!1)}return Promise.resolve()},[]);return o.useEffect(function(){return function(){Hn.disconnect()}},[]),{boundingClientRect:xn,isSmoothScrolling:Qe,startPage:fr,endPage:qn,maxVisbilityIndex:xr,virtualItems:hr,getContainerStyles:di,getItemContainerStyles:Cr,getItemStyles:Yr,scrollToItem:Tr,scrollToNextItem:Hr,scrollToPreviousItem:ci,zoom:yi}},Vn=function(q,ie,Re,De,$e,Ve){var et=Re;switch(!0){case($e===t.ViewMode.DualPageWithCover&&Ve>=3):case($e===t.ViewMode.DualPage&&Ve>=3):et=2*Re;break;default:et=Re}switch(De){case t.SpecialZoomLevel.ActualSize:return 1;case t.SpecialZoomLevel.PageFit:return Math.min((q.clientWidth-17)/et,(q.clientHeight-16)/ie);case t.SpecialZoomLevel.PageWidth:return(q.clientWidth-17)/et}},tr=function(q){var ie,Re,De=q.getCurrentPage,$e=(ie=50,Re=o.useRef([]),o.useEffect(function(){return function(){Re.current=[]}},[]),{push:function(tt){var Qe=Re.current;Qe.length+1>ie&&Qe.shift(),Qe.push(tt),Re.current=Qe},map:function(tt){return Re.current.map(function(Qe){return tt(Qe)})},pop:function(){var tt=Re.current;if(tt.length===0)return null;var Qe=tt.pop();return Re.current=tt,Qe}}),Ve=function(tt){var Qe=o.useRef([]);return o.useEffect(function(){return function(){Qe.current=[]}},[]),{dequeue:function(){var kt=Qe.current;if(kt.length===0)return null;var Rt=kt.shift();return Qe.current=kt,Rt||null},enqueue:function(kt){var Rt=Qe.current;Rt.length+1>tt&&Rt.pop(),Qe.current=[kt].concat(Rt)},map:function(kt){return Qe.current.map(function(Rt){return kt(Rt)})}}}(50),et=function(){var tt=Ve.dequeue();return tt&&$e.push(tt),tt&&tt.pageIndex===De()?et():tt},Ke=function(){var tt=$e.pop();return tt&&Ve.enqueue(tt),tt&&tt.pageIndex===De()?Ke():tt},Oe=o.useCallback(function(tt){$e.push(tt)},[]);return{getNextDestination:et,getPreviousDestination:Ke,markVisitedDestination:Oe}},rr=function(q){var ie=[];return q.map(function(Re){ie=ie.concat(Re).concat(function(De){var $e=[];return De.items&&De.items.length>0&&($e=$e.concat(rr(De.items))),$e}(Re))}),ie},Nn={capture:!1,passive:!0},Dn={height:0,width:0},$r={height:0,width:0},$i=function(q){var ie=q.getCurrentPage,Re=q.getCurrentScrollMode,De=q.jumpToPage,$e=q.targetRef,Ve=o.useState(t.FullScreenMode.Normal),et=Ve[0],Ke=Ve[1],Oe=function(){var wn=o.useState(Dn),Qn=wn[0],Hn=wn[1],Jn=ne(function(){Hn({height:window.innerHeight,width:window.innerWidth})},100);return S(function(){return window.addEventListener("resize",Jn,Nn),function(){window.removeEventListener("resize",Jn,Nn)}},[]),Qn}(),tt=o.useState($r),Qe=tt[0],kt=tt[1],Rt=o.useRef($r),Tt=o.useRef(ie()),Yt=o.useRef($r),Bt=o.useState($e.current),$t=Bt[0],On=Bt[1],bn=o.useRef();S(function(){$e.current!==$t&&On($e.current)},[]),S(function(){if($t){var wn=new ResizeObserver(function(Qn){Qn.forEach(function(Hn){var Jn=Hn.target.getBoundingClientRect(),Zn=Jn.height,er=Jn.width;kt({height:Zn,width:er})})});return wn.observe($t),function(){wn.unobserve($t),wn.disconnect()}}},[$t]);var xn=o.useCallback(function(wn){var Qn=J();return Qn&&Qn!==wn?(Ke(t.FullScreenMode.Normal),W(Qn)):Promise.resolve()},[]),Sn=o.useCallback(function(wn){wn&&G()&&(On(wn),xn(wn).then(function(){bn.current=wn,Ke(t.FullScreenMode.Entering),function(Qn){O&&Qn[P.RequestFullScreen]()}(wn)}))},[]),dn=o.useCallback(function(){J()&&(Ke(t.FullScreenMode.Exitting),W(document))},[]),mn=o.useCallback(function(){$t&&J()!==$t&&Ke(t.FullScreenMode.Exitting)},[$t]);return o.useEffect(function(){switch(et){case t.FullScreenMode.Entering:bn.current&&(bn.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Tt.current=ie(),Rt.current={height:window.innerHeight,width:window.innerWidth};break;case t.FullScreenMode.Entered:Re()===t.ScrollMode.Page?De(Tt.current).then(function(){Ke(t.FullScreenMode.EnteredCompletely)}):Ke(t.FullScreenMode.EnteredCompletely);break;case t.FullScreenMode.Exitting:bn.current&&(bn.current.style.backgroundColor="",bn.current=null),Tt.current=ie();break;case t.FullScreenMode.Exited:Ke(t.FullScreenMode.Normal),Re()===t.ScrollMode.Page&&De(Tt.current)}},[et]),o.useEffect(function(){if(et!==t.FullScreenMode.Normal)return et===t.FullScreenMode.Entering&&Oe.height===Qe.height&&Oe.width===Qe.width&&Oe.height>0&&Oe.width>0&&(Yt.current.height===0||Oe.height==Yt.current.height)?(Yt.current={height:window.innerHeight,width:window.innerWidth},void Ke(t.FullScreenMode.Entered)):void(et===t.FullScreenMode.Exitting&&Rt.current.height===Oe.height&&Rt.current.width===Oe.width&&Oe.height>0&&Oe.width>0&&Ke(t.FullScreenMode.Exited))},[et,Oe,Qe]),o.useEffect(function(){var wn;return wn=mn,O&&document.addEventListener(P.FullScreenChange,wn),function(){(function(Qn){O&&document.removeEventListener(P.FullScreenChange,Qn)})(mn)}},[$t]),{enterFullScreenMode:Sn,exitFullScreenMode:dn,fullScreenMode:et}},ps={buildPageStyles:function(){return{}},transformSize:function(q){return q.size}},Ir={left:0,top:0},Ai=function(q){var ie=q.currentFile,Re=q.defaultScale,De=q.doc,$e=q.enableSmoothScroll,Ve=q.initialPage,et=q.initialRotation,Ke=q.initialScale,Oe=q.pageLayout,tt=q.pageSizes,Qe=q.plugins,kt=q.renderPage,Rt=q.scrollMode,Tt=q.setRenderRange,Yt=q.viewMode,Bt=q.viewerState,$t=q.onDocumentLoad,On=q.onOpenFile,bn=q.onPageChange,xn=q.onRotate,Sn=q.onRotatePage,dn=q.onZoom,mn=De.numPages,wn=De.loadingTask.docId,Qn=o.useContext(z).l10n,Hn=o.useContext(y),Jn=Hn.direction===t.TextDirection.RightToLeft,Zn=o.useRef(),er=o.useRef(),fr=o.useState(Ve),qn=fr[0],xr=fr[1],hr=o.useRef(null),Tr=tr({getCurrentPage:function(){return Bn.current.pageIndex}}),Er=o.useState(et),yr=Er[0],Hr=Er[1],ci=me(yr),di=o.useState(!1),Cr=di[0],Yr=di[1],yi=o.useState(new Map),An=yi[0],_n=yi[1],pn=o.useState(Rt),En=pn[0],hn=pn[1],kn=me(En),Fn=o.useState(Yt),vn=Fn[0],on=Fn[1],zn=me(vn),Gn=function(at){var At=we(),jt=o.useState([]),un=jt[0],fn=jt[1];return o.useEffect(function(){at.getOutline().then(function(an){if(At.current&&an!==null){var sr=rr(an);fn(sr)}})},[]),un}(De),pr=o.useState(Ke),lr=pr[0],Ur=pr[1],fi=me(lr),Bn=o.useRef(Bt),Dr=o.useRef(typeof Re=="string"?Re:null),ir=o.useRef(-1),mr=o.useRef(-1),Nr=o.useRef(Ve),or=$i({getCurrentPage:function(){return Bn.current.pageIndex},getCurrentScrollMode:function(){return Bn.current.scrollMode},jumpToPage:function(at){return _e(at)},targetRef:er}),Vi=o.useState(-1),Ii=Vi[0],hi=Vi[1],ar=o.useState(0),Xi=ar[0],bi=ar[1],pi=be({doc:De});o.useEffect(function(){return function(){yt.clear(),Nt.clear()}},[wn]);var ws=o.useMemo(function(){return Object.assign({},ps,Oe)},[]),Gs=o.useMemo(function(){return Array(mn).fill(0).map(function(at,At){var jt=[tt[At].pageHeight,tt[At].pageWidth],un=Math.abs(yr)%180==0?{height:jt[0],width:jt[1]}:{height:jt[1],width:jt[0]},fn={height:un.height*lr,width:un.width*lr};return ws.transformSize({numPages:mn,pageIndex:At,size:fn})})},[yr,lr]),Yn=gn({enableSmoothScroll:$e,isRtl:Jn,numberOfItems:mn,parentRef:er,scrollMode:En,setRenderRange:Tt,sizes:Gs,viewMode:vn}),ls=ne(function(){!Dr.current||Bn.current.fullScreenMode!==t.FullScreenMode.Normal||Ve>0&&Nr.current===Ve||Xe(Dr.current)},200);(function(at){var At=at.targetRef,jt=at.onResize;S(function(){var un=new ResizeObserver(function(an){an.forEach(function(sr){jt(sr.target)})}),fn=At.current;if(fn)return un.observe(fn),function(){un.unobserve(fn)}},[])})({targetRef:er,onResize:ls});var mi=function(at){var At=at;Qe.forEach(function(jt){jt.onViewerStateChange&&(At=jt.onViewerStateChange(At))}),Bn.current=At},Ti=function(){return er.current},ao=function(){return Bn.current},A=o.useCallback(function(at){Tr.markVisitedDestination(at)},[]),D=o.useCallback(function(at){var At=at.pageIndex,jt=at.bottomOffset,un=at.leftOffset,fn=at.scaleTo,an=er.current,sr=Bn.current;return an&&sr?new Promise(function(Ln,Vr){mt(De,At).then(function(jr){var xi=jr.getViewport({scale:1}),Ar=0,Ni=(typeof jt=="function"?jt(xi.width,xi.height):jt)||0,Yi=(typeof un=="function"?un(xi.width,xi.height):un)||0,Ds=sr.scale;switch(fn){case t.SpecialZoomLevel.PageFit:Ar=0,Yi=0,Xe(t.SpecialZoomLevel.PageFit);break;case t.SpecialZoomLevel.PageWidth:Ds=Vn(an,tt[At].pageHeight,tt[At].pageWidth,t.SpecialZoomLevel.PageWidth,Yt,mn),Ar=(xi.height-Ni)*Ds,Yi*=Ds,Xe(Ds);break;default:Ar=(xi.height-Ni)*Ds,Yi*=Ds}switch(sr.scrollMode){case t.ScrollMode.Horizontal:Yn.scrollToItem(At,{left:Yi,top:0}).then(function(){Ln()});break;case t.ScrollMode.Vertical:default:Yn.scrollToItem(At,{left:0,top:Ar}).then(function(){Ln()})}})}):Promise.resolve()},[]),B=o.useCallback(function(at){return Tr.markVisitedDestination(at),D(at)},[]),H=o.useCallback(function(){var at=Tr.getNextDestination();return at?D(at):Promise.resolve()},[]),Q=o.useCallback(function(){var at=Tr.getPreviousDestination();return at?D(at):Promise.resolve()},[]),le=o.useCallback(function(){return Yn.scrollToNextItem(Bn.current.pageIndex,Ir)},[]),_e=o.useCallback(function(at){return 0<=at&&at<mn?Yn.scrollToItem(at,Ir):Promise.resolve()},[]),je=o.useCallback(function(){return Yn.scrollToPreviousItem(Bn.current.pageIndex,Ir)},[]),Ze=o.useCallback(function(at){var At,jt;(At=at.name,jt=At.split(/\./).pop(),jt?jt.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(un){var fn=new FileReader;fn.readAsArrayBuffer(at),fn.onload=function(){var an=new Uint8Array(fn.result);un(an)}}).then(function(un){On(at.name,un)})},[On]),nt=o.useCallback(function(at){var At=at===t.RotateDirection.Backward?-90:90,jt=Bn.current.rotation,un=jt===360||jt===-360?At:jt+At;pi.markNotRendered(),Hr(un),mi(p(p({},Bn.current),{rotation:un})),xn({direction:at,doc:De,rotation:un})},[]),ct=o.useCallback(function(at,At){var jt=At===t.RotateDirection.Backward?-90:90,un=Bn.current.pagesRotation,fn=(un.has(at)?un.get(at):et)+jt,an=un.set(at,fn);_n(an),Yr(function(sr){return!sr}),mi(p(p({},Bn.current),{pagesRotation:an,rotatedPage:at})),Sn({direction:At,doc:De,pageIndex:at,rotation:fn}),pi.markRendering(at),hi(at)},[]),ze=o.useCallback(function(at){mi(p(p({},Bn.current),{scrollMode:at})),hn(at)},[]),ht=o.useCallback(function(at){mi(p(p({},Bn.current),{viewMode:at})),on(at)},[]),Xe=o.useCallback(function(at){var At=er.current,jt=Bn.current.pageIndex;if(!(jt<0||jt>=mn)){var un=tt[jt].pageHeight,fn=tt[jt].pageWidth,an=At?typeof at=="string"?Vn(At,un,fn,at,Bn.current.viewMode,mn):at:1;Dr.current=typeof at=="string"?at:null,an!==Bn.current.scale&&(bi(function(sr){return sr+1}),pi.markNotRendered(),Ur(an),dn({doc:De,scale:an}),mi(p(p({},Bn.current),{scale:an})))}},[]),lt=o.useCallback(function(at){or.enterFullScreenMode(at)},[]),pt=o.useCallback(function(){or.exitFullScreenMode()},[]);o.useEffect(function(){mi(p(p({},Bn.current),{fullScreenMode:or.fullScreenMode}))},[or.fullScreenMode]),o.useEffect(function(){var at={enterFullScreenMode:lt,exitFullScreenMode:pt,getPagesContainer:Ti,getViewerState:ao,jumpToDestination:B,jumpToNextDestination:H,jumpToPreviousDestination:Q,jumpToNextPage:le,jumpToPreviousPage:je,jumpToPage:_e,openFile:Ze,rotate:nt,rotatePage:ct,setViewerState:mi,switchScrollMode:ze,switchViewMode:ht,zoom:Xe};return Qe.forEach(function(At){At.install&&At.install(at)}),function(){Qe.forEach(function(At){At.uninstall&&At.uninstall(at)})}},[wn]),o.useEffect(function(){$t({doc:De,file:ie}),Qe.forEach(function(at){at.onDocumentLoad&&at.onDocumentLoad({doc:De,file:ie})})},[wn]);var rt,xt,St,_t=Yn.boundingClientRect;rt=function(){Ve&&_e(Ve)},xt=_t.height>0&&_t.width>0,St=o.useRef(!1),S(function(){xt&&!St.current&&(St.current=!0,rt())},[rt,xt]),S(function(){var at=Bn.current.pageIndex;at>-1&&kn!==En&&Yn.scrollToItem(at,Ir).then(function(){or.fullScreenMode===t.FullScreenMode.EnteredCompletely&&($e||pi.markNotRendered(),ir.current=-1)})},[En]),S(function(){var at=Bn.current.pageIndex;at>-1&&ci!==yr&&Yn.scrollToItem(at,Ir)},[yr]),S(function(){fi!=0&&fi!=Bn.current.scale&&Yn.zoom(Bn.current.scale/fi,Bn.current.pageIndex).then(function(){or.fullScreenMode===t.FullScreenMode.EnteredCompletely&&(mr.current=-1)})},[lr]),S(function(){if(zn!==Bn.current.viewMode){var at=Yn.startPage,At=Yn.endPage,jt=Yn.virtualItems;pi.markNotRendered(),pi.setRange(at,At);for(var un=function(an){var sr=jt.find(function(Ln){return Ln.index===an});sr&&pi.setVisibility(an,sr.visibility)},fn=at;fn<=At;fn++)un(fn);Xt()}},[vn]),S(function(){var at=Bn.current.pageIndex;at>-1&&zn!==vn&&Yn.scrollToItem(at,Ir)},[vn]),S(function(){var at=Bn.current.pageIndex;at>0&&at===Ve&&Nr.current===Ve&&Dr.current&&(Nr.current=-1,Xe(Dr.current))},[qn]),o.useEffect(function(){Yn.isSmoothScrolling||hr.current!==null&&hr.current===qn||(hr.current=qn,bn({currentPage:qn,doc:De}))},[qn,Yn.isSmoothScrolling]),o.useEffect(function(){or.fullScreenMode===t.FullScreenMode.Entering&&Bn.current.scrollMode===t.ScrollMode.Page&&(ir.current=Bn.current.pageIndex),or.fullScreenMode===t.FullScreenMode.EnteredCompletely&&Bn.current.scrollMode===t.ScrollMode.Page&&$e&&(ir.current=-1),or.fullScreenMode===t.FullScreenMode.EnteredCompletely&&Dr.current&&(mr.current=Bn.current.pageIndex,Xe(Dr.current))},[or.fullScreenMode]),o.useEffect(function(){if(or.fullScreenMode!==t.FullScreenMode.Entering&&or.fullScreenMode!==t.FullScreenMode.Exitting&&!Yn.isSmoothScrolling){var at=Yn.startPage,At=Yn.endPage,jt=Yn.maxVisbilityIndex,un=Yn.virtualItems,fn=jt,an=or.fullScreenMode===t.FullScreenMode.Entered||or.fullScreenMode===t.FullScreenMode.EnteredCompletely;if(!(an&&fn!==ir.current&&ir.current>-1||an&&fn!==mr.current&&mr.current>-1)){xr(fn),mi(p(p({},Bn.current),{pageIndex:fn})),pi.setRange(at,At);for(var sr=function(Vr){var jr=un.find(function(xi){return xi.index===Vr});jr&&pi.setVisibility(Vr,jr.visibility)},Ln=at;Ln<=At;Ln++)sr(Ln);Xt()}}},[Yn.startPage,Yn.endPage,Yn.isSmoothScrolling,Yn.maxVisbilityIndex,or.fullScreenMode,Cr,yr,lr]);var Ot=o.useCallback(function(at){pi.markRendered(at),Xt()},[Xi]),Xt=function(){var at=pi.getHighestPriorityPage();at>-1&&pi.isInRange(at)&&(pi.markRendering(at),hi(at))},rn=function(at){var At=qn-1,jt=qn+1;switch(at){case"FirstPage":_e(0);break;case"LastPage":_e(mn-1);break;case"NextPage":jt<mn&&_e(jt);break;case"PrevPage":At>=0&&_e(At)}},Qt=o.useCallback(function(){var at=Yn.virtualItems,At=[];switch(vn){case t.ViewMode.DualPage:At=qe(at,2);break;case t.ViewMode.DualPageWithCover:at.length&&(At=at[0].index===0?[[at[0]]].concat(qe(at.slice(1),2)):qe(at,2));break;case t.ViewMode.SinglePage:default:At=qe(at,1)}var jt=Qn&&Qn.core?Qn.core.pageLabel:"Page {{pageIndex}}",un={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Zn,style:{height:"100%"}},children:o.createElement(o.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:x({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":En===t.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Jn,"rpv-core__inner-pages--single":En===t.ScrollMode.Page,"rpv-core__inner-pages--vertical":En===t.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":En===t.ScrollMode.Wrapped}),ref:er,style:{height:"100%",position:"relative"}},children:o.createElement("div",{"data-testid":"core__inner-current-page-".concat(qn),style:Object.assign({"--scale-factor":lr},Yn.getContainerStyles())},At.map(function(fn){return o.createElement("div",{className:x({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":En===t.ScrollMode.Page}),style:Yn.getItemContainerStyles(fn[0]),key:"".concat(fn[0].index,"-").concat(vn)},fn.map(function(an){var sr=vn===t.ViewMode.DualPageWithCover&&(an.index===0||mn%2==0&&an.index===mn-1);return o.createElement("div",{"aria-label":jt.replace("{{pageIndex}}","".concat(an.index+1)),className:x({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":vn===t.ViewMode.DualPage&&an.index%2==0,"rpv-core__inner-page--dual-odd":vn===t.ViewMode.DualPage&&an.index%2==1,"rpv-core__inner-page--dual-cover":sr,"rpv-core__inner-page--dual-cover-even":vn===t.ViewMode.DualPageWithCover&&!sr&&an.index%2==0,"rpv-core__inner-page--dual-cover-odd":vn===t.ViewMode.DualPageWithCover&&!sr&&an.index%2==1,"rpv-core__inner-page--single":vn===t.ViewMode.SinglePage&&En===t.ScrollMode.Page}),role:"region",key:"".concat(an.index,"-").concat(vn),style:Object.assign({},Yn.getItemStyles(an),ws.buildPageStyles({numPages:mn,pageIndex:an.index,scrollMode:En,viewMode:vn}))},o.createElement(os,{doc:De,measureRef:an.measureRef,outlines:Gn,pageIndex:an.index,pageRotation:An.has(an.index)?An.get(an.index):0,pageSize:tt[an.index],plugins:Qe,renderPage:kt,renderQueueKey:Xi,rotation:yr,scale:lr,shouldRender:Ii===an.index,viewMode:vn,onExecuteNamedAction:rn,onJumpFromLinkAnnotation:A,onJumpToDest:B,onRenderCompleted:Ot,onRotatePage:ct}))}))}))}};return Qe.forEach(function(fn){fn.renderViewer&&(un=fn.renderViewer({containerRef:Zn,doc:De,pagesContainerRef:er,pagesRotation:An,pageSizes:tt,rotation:yr,slot:un,themeContext:Hn,jumpToPage:_e,openFile:Ze,rotate:nt,rotatePage:ct,switchScrollMode:ze,switchViewMode:ht,zoom:Xe}))}),un},[Qe,Yn]),en=o.useCallback(function(at){return o.createElement("div",p({},at.attrs,{style:at.attrs&&at.attrs.style?at.attrs.style:{}}),at.children,at.subSlot&&en(at.subSlot))},[]);return en(Qt())},Ki=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],ui=function(q){var ie=q.defaultScale,Re=q.doc,De=q.render,$e=q.scrollMode,Ve=q.viewMode,et=o.useRef(),Ke=o.useState({pageSizes:[],scale:0}),Oe=Ke[0],tt=Ke[1];return o.useLayoutEffect(function(){var Qe=Array(Re.numPages).fill(0).map(function(kt,Rt){return new Promise(function(Tt,Yt){mt(Re,Rt).then(function(Bt){var $t=Bt.getViewport({scale:1});Tt({pageHeight:$t.height,pageWidth:$t.width,rotation:$t.rotation})})})});Promise.all(Qe).then(function(kt){var Rt=et.current;if(Rt&&kt.length!==0){var Tt=kt[0].pageWidth,Yt=kt[0].pageHeight,Bt=Rt.parentElement,$t=(Bt.clientWidth-45)/Tt,On=(Bt.clientHeight-45)/Yt,bn=$t;switch($e){case t.ScrollMode.Horizontal:bn=Math.min($t,On);break;case t.ScrollMode.Vertical:default:bn=$t}var xn,Sn,dn=ie?typeof ie=="string"?Vn(Bt,Yt,Tt,ie,Ve,Re.numPages):ie:(xn=bn,(Sn=Ki.findIndex(function(mn){return mn>=xn}))===-1||Sn===0?xn:Ki[Sn-1]);tt({pageSizes:kt,scale:dn})}})},[Re.loadingTask.docId]),Oe.pageSizes.length===0||Oe.scale===0?o.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:et},o.createElement(E,null)):De(Oe.pageSizes,Oe.scale)},ri=function(){},ii=function(q){function ie(Re,De){var $e=q.call(this)||this;return $e.verifyPassword=Re,$e.passwordStatus=De,$e}return f(ie,q),ie}(ri),_r=function(q){var ie=q.passwordStatus,Re=q.renderProtectedView,De=q.verifyPassword,$e=q.onDocumentAskPassword,Ve=o.useContext(z).l10n,et=o.useState(""),Ke=et[0],Oe=et[1],tt=o.useContext(y).direction===t.TextDirection.RightToLeft,Qe=function(){return De(Ke)};return o.useEffect(function(){$e&&$e({verifyPassword:De})},[]),Re?Re({passwordStatus:ie,verifyPassword:De}):o.createElement("div",{className:"rpv-core__asking-password-wrapper"},o.createElement("div",{className:x({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":tt})},o.createElement("div",{className:"rpv-core__asking-password-message"},ie===t.PasswordStatus.RequiredPassword&&Ve.core.askingPassword.requirePasswordToOpen,ie===t.PasswordStatus.WrongPassword&&Ve.core.wrongPassword.tryAgain),o.createElement("div",{className:"rpv-core__asking-password-body"},o.createElement("div",{className:x({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!tt,"rpv-core__asking-password-input--rtl":tt})},o.createElement(k,{testId:"core__asking-password-input",type:"password",value:Ke,onChange:Oe,onKeyDown:function(kt){kt.key==="Enter"&&Qe()}})),o.createElement(_,{onClick:Qe},Ve.core.askingPassword.submit))))},ei=function(q){function ie(Re){var De=q.call(this)||this;return De.doc=Re,De}return f(ie,q),ie}(ri),Oi=function(q){function ie(Re){var De=q.call(this)||this;return De.error=Re,De}return f(ie,q),ie}(ri),si=function(q){function ie(Re){var De=q.call(this)||this;return De.percentages=Re,De}return f(ie,q),ie}(ri),Hs=function(q){var ie=q.characterMap,Re=q.file,De=q.httpHeaders,$e=q.render,Ve=q.renderError,et=q.renderLoader,Ke=q.renderProtectedView,Oe=q.transformGetDocumentParams,tt=q.withCredentials,Qe=q.onDocumentAskPassword,kt=o.useContext(y).direction===t.TextDirection.RightToLeft,Rt=o.useState(new si(0)),Tt=Rt[0],Yt=Rt[1],Bt=o.useRef(""),$t=we();return o.useEffect(function(){Bt.current="",Yt(new si(0));var On=new l.PDFWorker({name:"PDFWorker_".concat(Date.now())}),bn=Object.assign({httpHeaders:De,withCredentials:tt,worker:On},typeof Re=="string"?{url:Re}:{data:Re},ie?{cMapUrl:ie.url,cMapPacked:ie.isCompressed}:{}),xn=Oe?Oe(bn):bn,Sn=l.getDocument(xn);return Sn.onPassword=function(dn,mn){switch(mn){case l.PasswordResponses.NEED_PASSWORD:$t.current&&Yt(new ii(dn,t.PasswordStatus.RequiredPassword));break;case l.PasswordResponses.INCORRECT_PASSWORD:$t.current&&Yt(new ii(dn,t.PasswordStatus.WrongPassword))}},Sn.onProgress=function(dn){var mn=dn.total>0?Math.min(100,100*dn.loaded/dn.total):100;$t.current&&Bt.current===""&&Yt(new si(mn))},Sn.promise.then(function(dn){Bt.current=dn.loadingTask.docId,$t.current&&Yt(new ei(dn))},function(dn){return $t.current&&!On.destroyed&&Yt(new Oi({message:dn.message||"Cannot load document",name:dn.name}))}),function(){Sn.destroy(),On.destroy()}},[Re]),Tt instanceof ii?o.createElement(_r,{passwordStatus:Tt.passwordStatus,renderProtectedView:Ke,verifyPassword:Tt.verifyPassword,onDocumentAskPassword:Qe}):Tt instanceof ei?$e(Tt.doc):Tt instanceof Oi?Ve?Ve(Tt.error):o.createElement("div",{className:x({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":kt})},o.createElement("div",{className:"rpv-core__doc-error-text"},Tt.error.message)):o.createElement("div",{"data-testid":"core__doc-loading",className:x({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":kt})},et?et(Tt.percentages):o.createElement(E,null))},Ui=function(q,ie){var Re=o.useMemo(function(){return q==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":q},[]),De=o.useState(Re),$e=De[0],Ve=De[1],et=me($e);return o.useEffect(function(){if(q==="auto"){var Ke=window.matchMedia("(prefers-color-scheme: dark)"),Oe=function(tt){Ve(tt.matches?"dark":"light")};return Ke.addEventListener("change",Oe),function(){return Ke.removeEventListener("change",Oe)}}},[]),o.useEffect(function(){$e!==et&&ie&&ie($e)},[$e]),o.useEffect(function(){q!==$e&&Ve(q)},[q]),{currentTheme:$e,setCurrentTheme:Ve}},Es=function(q){return{startPage:q.startPage-3,endPage:q.endPage+3}};t.Button=function(q){var ie=q.children,Re=q.testId,De=q.onClick,$e=o.useContext(y).direction===t.TextDirection.RightToLeft,Ve=Re?{"data-testid":Re}:{};return o.createElement("button",p({className:x({"rpv-core__button":!0,"rpv-core__button--rtl":$e}),type:"button",onClick:De},Ve),ie)},t.Icon=v,t.LazyRender=function(q){var ie=q.attrs,Re=q.children,De=q.testId,$e=o.useState(!1),Ve=$e[0],et=$e[1],Ke=De?p(p({},ie),{"data-testid":De}):ie,Oe=w({once:!0,onVisibilityChanged:function(tt){tt.isVisible&&et(!0)}});return o.createElement("div",p({ref:Oe},Ke),Ve&&Re)},t.LocalizationContext=z,t.Menu=function(q){var ie=q.children,Re=o.useRef(),De=o.useRef([]),$e=o.useContext(y).direction===t.TextDirection.RightToLeft,Ve=function(Ke){if(Re.current)switch(Ke.key){case"Tab":Ke.preventDefault();break;case"ArrowDown":Ke.preventDefault(),et(function(Oe,tt){return tt+1});break;case"ArrowUp":Ke.preventDefault(),et(function(Oe,tt){return tt-1});break;case"End":Ke.preventDefault(),et(function(Oe,tt){return Oe.length-1});break;case"Home":Ke.preventDefault(),et(function(Oe,tt){return 0})}},et=function(Ke){if(Re.current){var Oe=De.current,tt=Oe.findIndex(function(kt){return kt.getAttribute("tabindex")==="0"}),Qe=Math.min(Oe.length-1,Math.max(0,Ke(Oe,tt)));tt>=0&&tt<=Oe.length-1&&Oe[tt].setAttribute("tabindex","-1"),Oe[Qe].setAttribute("tabindex","0"),Oe[Qe].focus()}};return S(function(){var Ke=Re.current;if(Ke){var Oe=function(tt){var Qe=[];return tt.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(kt){if(kt instanceof HTMLElement){var Rt=kt.parentElement;(Rt===tt||window.getComputedStyle(Rt).display!=="none")&&Qe.push(kt)}}),Qe}(Ke);De.current=Oe}},[]),S(function(){return document.addEventListener("keydown",Ve),function(){document.removeEventListener("keydown",Ve)}},[]),o.createElement("div",{ref:Re,"aria-orientation":"vertical",className:x({"rpv-core__menu":!0,"rpv-core__menu--rtl":$e}),role:"menu",tabIndex:0},ie)},t.MenuDivider=function(){return o.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},t.MenuItem=function(q){var ie=q.checked,Re=ie!==void 0&&ie,De=q.children,$e=q.icon,Ve=$e===void 0?null:$e,et=q.isDisabled,Ke=et!==void 0&&et,Oe=q.testId,tt=q.onClick,Qe=o.useContext(y).direction===t.TextDirection.RightToLeft,kt=Oe?{"data-testid":Oe}:{};return o.createElement("button",p({className:x({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Ke,"rpv-core__menu-item--ltr":!Qe,"rpv-core__menu-item--rtl":Qe}),role:"menuitem",tabIndex:-1,type:"button",onClick:tt},kt),o.createElement("div",{className:x({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Qe,"rpv-core__menu-item-icon--rtl":Qe})},Ve),o.createElement("div",{className:x({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Qe,"rpv-core__menu-item-label--rtl":Qe})},De),o.createElement("div",{className:x({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Qe,"rpv-core__menu-item-check--rtl":Qe})},Re&&o.createElement(b,null)))},t.MinimalButton=function(q){var ie=q.ariaLabel,Re=ie===void 0?"":ie,De=q.ariaKeyShortcuts,$e=De===void 0?"":De,Ve=q.children,et=q.isDisabled,Ke=et!==void 0&&et,Oe=q.isSelected,tt=Oe!==void 0&&Oe,Qe=q.testId,kt=q.onClick,Rt=o.useContext(y).direction===t.TextDirection.RightToLeft,Tt=Qe?{"data-testid":Qe}:{};return o.createElement("button",p({"aria-label":Re},$e&&{"aria-keyshortcuts":$e},Ke&&{"aria-disabled":!0},{className:x({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Ke,"rpv-core__minimal-button--rtl":Rt,"rpv-core__minimal-button--selected":tt}),type:"button",onClick:kt},Tt),Ve)},t.Modal=function(q){var ie=q.ariaControlsSuffix,Re=q.closeOnClickOutside,De=q.closeOnEscape,$e=q.content,Ve=q.isOpened,et=Ve!==void 0&&Ve,Ke=q.target,Oe=ie||"".concat(U());return o.createElement(ot,{target:Ke?function(tt,Qe){return o.createElement("div",{"aria-expanded":Qe?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Oe)},Ke(tt,Qe))}:null,content:function(tt){return o.createElement(he,null,o.createElement(ge,{ariaControlsSuffix:Oe,closeOnClickOutside:Re,closeOnEscape:De,onToggle:tt},$e(tt)))},isOpened:et})},t.Popover=function(q){var ie=q.ariaHasPopup,Re=ie===void 0?"dialog":ie,De=q.ariaControlsSuffix,$e=q.closeOnClickOutside,Ve=q.closeOnEscape,et=q.content,Ke=q.lockScroll,Oe=Ke===void 0||Ke,tt=q.offset,Qe=q.position,kt=q.target,Rt=Ae(!1),Tt=Rt.opened,Yt=Rt.toggle,Bt=o.useRef(),$t=o.useMemo(function(){return De||"".concat(U())},[]);return o.createElement("div",{ref:Bt,"aria-expanded":Tt?"true":"false","aria-haspopup":Re,"aria-controls":"rpv-core__popver-body-".concat($t)},kt(Yt,Tt),Tt&&o.createElement(o.Fragment,null,Oe&&o.createElement(xe,{closeOnEscape:Ve,onClose:Yt}),o.createElement(fe,{ariaControlsSuffix:$t,closeOnClickOutside:$e,offset:tt,position:Qe,targetRef:Bt,onClose:Yt},et(Yt))))},t.PrimaryButton=_,t.ProgressBar=function(q){var ie=q.progress,Re=o.useContext(y).direction===t.TextDirection.RightToLeft;return o.createElement("div",{className:x({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Re})},o.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(ie,"%")}},ie,"%"))},t.Separator=function(){return o.createElement("div",{className:"rpv-core__separator"})},t.Spinner=E,t.Splitter=function(q){var ie=q.constrain,Re=o.useContext(y).direction===t.TextDirection.RightToLeft,De=o.useRef(),$e=o.useRef(),Ve=o.useRef(),et=o.useRef(0),Ke=o.useRef(0),Oe=o.useRef(0),tt=o.useRef(0),Qe={capture:!0},kt=function(Tt){var Yt=De.current,Bt=$e.current,$t=Ve.current;if(Yt&&Bt&&$t){var On=tt.current,bn=Tt.clientX-et.current,xn=Oe.current+(Re?-bn:bn),Sn=Yt.parentElement.getBoundingClientRect().width,dn=100*xn/Sn;if(Yt.classList.add("rpv-core__splitter--resizing"),ie){var mn=Sn-xn-On;if(!ie({firstHalfPercentage:dn,firstHalfSize:xn,secondHalfPercentage:100*mn/Sn,secondHalfSize:mn}))return}Bt.style.width="".concat(dn,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Bt.classList.add("rpv-core__splitter-sibling--resizing"),$t.classList.add("rpv-core__splitter-sibling--resizing")}},Rt=function(Tt){var Yt=De.current,Bt=$e.current,$t=Ve.current;Yt&&Bt&&$t&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Yt.classList.remove("rpv-core__splitter--resizing"),Bt.classList.remove("rpv-core__splitter-sibling--resizing"),$t.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",kt,Qe),document.removeEventListener("mouseup",Rt,Qe))};return o.useEffect(function(){var Tt=De.current;Tt&&(tt.current=Tt.getBoundingClientRect().width,$e.current=Tt.previousElementSibling,Ve.current=Tt.nextElementSibling)},[]),o.createElement("div",{ref:De,className:"rpv-core__splitter",onMouseDown:function(Tt){var Yt=$e.current;Yt&&(et.current=Tt.clientX,Ke.current=Tt.clientY,Oe.current=Yt.getBoundingClientRect().width,document.addEventListener("mousemove",kt,Qe),document.addEventListener("mouseup",Rt,Qe))}})},t.TextBox=k,t.ThemeContext=y,t.Tooltip=function(q){var ie=q.ariaControlsSuffix,Re=q.content,De=q.offset,$e=q.position,Ve=q.target,et=Ae(!1),Ke=et.opened,Oe=et.toggle,tt=o.useRef(),Qe=o.useRef(),kt=o.useMemo(function(){return ie||"".concat(U())},[]);ce(function(){tt.current&&document.activeElement&&tt.current.contains(document.activeElement)&&Tt()});var Rt=function(){Oe(t.ToggleStatus.Open)},Tt=function(){Oe(t.ToggleStatus.Close)};return o.createElement(o.Fragment,null,o.createElement("div",{ref:tt,"aria-describedby":"rpv-core__tooltip-body-".concat(kt),onBlur:function(Yt){Yt.relatedTarget instanceof HTMLElement&&Yt.currentTarget.parentElement&&Yt.currentTarget.parentElement.contains(Yt.relatedTarget)?Qe.current&&(Qe.current.style.display="none"):Tt()},onFocus:Rt,onMouseEnter:Rt,onMouseLeave:Tt},Ve),Ke&&o.createElement(Se,{ariaControlsSuffix:kt,contentRef:Qe,offset:De,position:$e,targetRef:tt},Re()))},t.Viewer=function(q){var ie=q.characterMap,Re=q.defaultScale,De=q.enableSmoothScroll,$e=De===void 0||De,Ve=q.fileUrl,et=q.httpHeaders,Ke=et===void 0?{}:et,Oe=q.initialPage,tt=Oe===void 0?0:Oe,Qe=q.pageLayout,kt=q.initialRotation,Rt=kt===void 0?0:kt,Tt=q.localization,Yt=q.plugins,Bt=Yt===void 0?[]:Yt,$t=q.renderError,On=q.renderLoader,bn=q.renderPage,xn=q.renderProtectedView,Sn=q.scrollMode,dn=Sn===void 0?t.ScrollMode.Vertical:Sn,mn=q.setRenderRange,wn=mn===void 0?Es:mn,Qn=q.transformGetDocumentParams,Hn=q.theme,Jn=Hn===void 0?{direction:t.TextDirection.LeftToRight,theme:"light"}:Hn,Zn=q.viewMode,er=Zn===void 0?t.ViewMode.SinglePage:Zn,fr=q.withCredentials,qn=fr!==void 0&&fr,xr=q.onDocumentAskPassword,hr=q.onDocumentLoad,Tr=hr===void 0?function(){}:hr,Er=q.onPageChange,yr=Er===void 0?function(){}:Er,Hr=q.onRotate,ci=Hr===void 0?function(){}:Hr,di=q.onRotatePage,Cr=di===void 0?function(){}:di,Yr=q.onSwitchTheme,yi=Yr===void 0?function(){}:Yr,An=q.onZoom,_n=An===void 0?function(){}:An,pn=o.useState({data:Ve,name:typeof Ve=="string"?Ve:"",shouldLoad:!1}),En=pn[0],hn=pn[1],kn=function(ir,mr){hn({data:mr,name:ir,shouldLoad:!0})},Fn=o.useState(!1),vn=Fn[0],on=Fn[1],zn=me(En);o.useEffect(function(){var ir,mr,Nr,or;ir=zn.data,or=typeof(mr=Ve),(Nr=typeof ir)=="string"&&or==="string"&&ir===mr||Nr==="object"&&or==="object"&&ir.length===mr.length&&ir.every(function(Vi,Ii){return Vi===mr[Ii]})||hn({data:Ve,name:typeof Ve=="string"?Ve:"",shouldLoad:vn})},[Ve,vn]);var Gn=w({onVisibilityChanged:function(ir){on(ir.isVisible),ir.isVisible&&hn(function(mr){return Object.assign({},mr,{shouldLoad:!0})})}}),pr=typeof Jn=="string"?{direction:t.TextDirection.LeftToRight,theme:Jn}:Jn,lr=o.useState(Tt||ke),Ur=lr[0],fi=lr[1],Bn={l10n:Ur,setL10n:fi},Dr=Object.assign({},{direction:pr.direction},Ui(pr.theme||"light",yi));return o.useEffect(function(){Tt&&fi(Tt)},[Tt]),o.createElement(z.Provider,{value:Bn},o.createElement(y.Provider,{value:Dr},o.createElement("div",{ref:Gn,className:"rpv-core__viewer rpv-core__viewer--".concat(Dr.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},En.shouldLoad&&o.createElement(Hs,{characterMap:ie,file:En.data,httpHeaders:Ke,render:function(ir){return o.createElement(ui,{defaultScale:Re,doc:ir,render:function(mr,Nr){return o.createElement(Ai,{currentFile:{data:En.data,name:En.name},defaultScale:Re,doc:ir,enableSmoothScroll:$e,initialPage:tt,initialRotation:Rt,initialScale:Nr,pageLayout:Qe,pageSizes:mr,plugins:Bt,renderPage:bn,scrollMode:dn,setRenderRange:wn,viewMode:er,viewerState:{file:En,fullScreenMode:t.FullScreenMode.Normal,pageIndex:-1,pageHeight:mr[0].pageHeight,pageWidth:mr[0].pageWidth,pagesRotation:new Map,rotation:Rt,scale:Nr,scrollMode:dn,viewMode:er},onDocumentLoad:Tr,onOpenFile:kn,onPageChange:yr,onRotate:ci,onRotatePage:Cr,onZoom:_n})},scrollMode:dn,viewMode:er})},renderError:$t,renderLoader:On,renderProtectedView:xn,transformGetDocumentParams:Qn,withCredentials:qn,onDocumentAskPassword:xr}))))},t.Worker=function(q){var ie=q.children,Re=q.workerUrl;return l.GlobalWorkerOptions.workerSrc=Re,o.createElement(o.Fragment,null,ie)},t.chunk=qe,t.classNames=x,t.createStore=function(q){var ie=q||{},Re={},De=function(Ve,et){var Ke;ie=p(p({},ie),((Ke={})[Ve]=et,Ke)),(Re[Ve]||[]).forEach(function(Oe){return Oe(ie[Ve])})},$e=function(Ve){return ie[Ve]};return{subscribe:function(Ve,et){Re[Ve]=(Re[Ve]||[]).concat(et)},unsubscribe:function(Ve,et){Re[Ve]=(Re[Ve]||[]).filter(function(Ke){return Ke!==et})},update:function(Ve,et){De(Ve,et)},updateCurrentValue:function(Ve,et){var Ke=$e(Ve);Ke!==void 0&&De(Ve,et(Ke))},get:function(Ve){return $e(Ve)}}},t.getDestination=Ue,t.getPage=mt,t.isFullScreenEnabled=G,t.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},t.useDebounceCallback=ne,t.useIntersectionObserver=w,t.useIsMounted=we,t.useIsomorphicLayoutEffect=S,t.usePrevious=me,t.useRenderQueue=be}(core_min)),core_min}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib.exports;hasRequiredLib=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib.exports=requireCore_min(),lib.exports}var libExports=requireLib();const PdfReader=({file:t})=>{const[e,n]=reactExports.useState(null);return reactExports.useEffect(()=>{if(t){const i=new Blob([t],{type:"application/pdf"}),s=URL.createObjectURL(i);return n(s),()=>URL.revokeObjectURL(s)}},[t]),jsxRuntimeExports.jsx("div",{style:{textAlign:"center"},children:e&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FlowLibraryButton,{}),jsxRuntimeExports.jsx(libExports.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.4.120/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx(libExports.Viewer,{fileUrl:e})})]})})},useContainerSize=t=>{const[e,n]=reactExports.useState({width:0,height:0});return reactExports.useEffect(()=>{const i=()=>{t.current&&n({width:t.current.offsetWidth,height:t.current.offsetHeight})},s=new ResizeObserver(i);return t.current&&s.observe(t.current),window.addEventListener("resize",i),i(),()=>{s.disconnect(),window.removeEventListener("resize",i)}},[t]),e},BookReader=({book:t})=>{const[e,n]=reactExports.useState(16),[i,s]=reactExports.useState("single");if(t.fileType==="epub")return jsxRuntimeExports.jsx(EpubReader,{file:t.file});if(t.fileType==="pdf")return jsxRuntimeExports.jsx(PdfReader,{file:t.file});if(t.fileType==="fb2"){const o=reactExports.useRef(null),l=useContainerSize(o),[c,f]=reactExports.useState(0),h=reactExports.useCallback((g,y)=>{f(g/y*100),bookStorage.updateBookMetadataField(t.id,"currentPage",g)},[t.id]),p=reactExports.useCallback((g,y)=>{bookStorage.updateBookMetadataField(t.id,"totalPages",y),f(g/y*100)},[t.id]);return jsxRuntimeExports.jsx(Box,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:{xs:"90%",sm:"80%",md:"70%",lg:"60%",xl:"50%"},margin:"0 auto"},children:jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",flexDirection:"column",height:"100vh",width:"90%"},children:[jsxRuntimeExports.jsx(Toolbar,{pageMode:i,fontSize:e,setFontSize:n,setPageMode:s,progress:c}),jsxRuntimeExports.jsx(Box,{ref:o,sx:{height:"90%"},children:l.width>0&&l.height>0&&jsxRuntimeExports.jsx(FB2Reader,{file:t.file,pageMode:i,fontSize:e,onChangePage:h,onLoadPages:p,height:l.height,width:l.width,lastPageNum:t.metadata.currentPage})})]})})}return jsxRuntimeExports.jsx("div",{children:"Unsupported format"})};function bind(t,e){return function(){return t.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(t=>e=>{const n=toString.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=t=>t!==null&&typeof t=="object",isBoolean=t=>t===!0||t===!1,isPlainObject=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject(t)&&isFunction(t.pipe),isFormData=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction(t.append)&&((e=kindOf(t))==="formdata"||e==="object"&&isFunction(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),isArray(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let c;for(i=0;i<l;i++)c=o[i],e.call(null,t[c],c,t)}}function findKey(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge(){const{caseless:t}=isContextDefined(this)&&this||{},e={},n=(i,s)=>{const o=t&&findKey(e,s)||s;isPlainObject(e[o])&&isPlainObject(i)?e[o]=merge(e[o],i):isPlainObject(i)?e[o]=merge({},i):isArray(i)?e[o]=i.slice():e[o]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&forEach(arguments[i],n);return e}const extend=(t,e,n,{allOwnKeys:i}={})=>(forEach(e,(s,o)=>{n&&isFunction(s)?t[o]=bind(s,n):t[o]=s},{allOwnKeys:i}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject=(t,e,n,i)=>{let s,o,l;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)l=s[o],(!i||i(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},endsWith=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},toArray=t=>{if(!t)return null;if(isArray(t))return t;let e=t.length;if(!isNumber(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},isTypedArray=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},matchAll=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),hasOwnProperty$1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};forEach(n,(s,o)=>{let l;(l=e(s,o,t))!==!1&&(i[o]=l||s)}),Object.defineProperties(t,i)},freezeMethods=t=>{reduceDescriptors(t,(e,n)=>{if(isFunction(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(isFunction(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet=(t,e)=>{const n={},i=s=>{s.forEach(o=>{n[o]=!0})};return isArray(t)?i(t):i(String(t).split(e)),n},noop=()=>{},toFiniteNumber=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function isSpecCompliantForm(t){return!!(t&&isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const toJSONObject=t=>{const e=new Array(10),n=(i,s)=>{if(isObject(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const o=isArray(i)?[]:{};return forEach(i,(l,c)=>{const f=n(l,s+1);!isUndefined(f)&&(o[c]=f)}),e[s]=void 0,o}}return i};return n(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject(t)||isFunction(t))&&isFunction(t.then)&&isFunction(t.catch),_setImmediate=((t,e)=>t?setImmediate:e?((n,i)=>(_global.addEventListener("message",({source:s,data:o})=>{s===_global&&o===n&&i.length&&i.shift()()},!1),s=>{i.push(s),_global.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function t(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(t,e,n,i,s,o)=>{const l=Object.create(prototype$1);return utils$1.toFlatObject(t,l,function(f){return f!==Error.prototype},c=>c!=="isAxiosError"),AxiosError.call(l,t.message,e,n,i,s),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const httpAdapter=null;function isVisitable(t){return utils$1.isPlainObject(t)||utils$1.isArray(t)}function removeBrackets(t){return utils$1.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,n){return t?t.concat(e).map(function(s,o){return s=removeBrackets(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function isFlatArray(t){return utils$1.isArray(t)&&!t.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function t(e){return/^is[A-Z]/.test(e)});function toFormData(t,e,n){if(!utils$1.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=utils$1.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,v){return!utils$1.isUndefined(v[w])});const i=n.metaTokens,s=n.visitor||p,o=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(e);if(!utils$1.isFunction(s))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(utils$1.isDate(S))return S.toISOString();if(!f&&utils$1.isBlob(S))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(S)||utils$1.isTypedArray(S)?f&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function p(S,w,v){let b=S;if(S&&!v&&typeof S=="object"){if(utils$1.endsWith(w,"{}"))w=i?w:w.slice(0,-2),S=JSON.stringify(S);else if(utils$1.isArray(S)&&isFlatArray(S)||(utils$1.isFileList(S)||utils$1.endsWith(w,"[]"))&&(b=utils$1.toArray(S)))return w=removeBrackets(w),b.forEach(function(E,k){!(utils$1.isUndefined(E)||E===null)&&e.append(l===!0?renderKey([w],k,o):l===null?w:w+"[]",h(E))}),!1}return isVisitable(S)?!0:(e.append(renderKey(v,w,o),h(S)),!1)}const g=[],y=Object.assign(predicates,{defaultVisitor:p,convertValue:h,isVisitable});function x(S,w){if(!utils$1.isUndefined(S)){if(g.indexOf(S)!==-1)throw Error("Circular reference detected in "+w.join("."));g.push(S),utils$1.forEach(S,function(b,_){(!(utils$1.isUndefined(b)||b===null)&&s.call(e,b,utils$1.isString(_)?_.trim():_,w,y))===!0&&x(b,w?w.concat(_):[_])}),g.pop()}}if(!utils$1.isObject(t))throw new TypeError("data must be an object");return x(t),e}function encode$1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function t(e,n){this._pairs.push([e,n])};prototype.toString=function t(e){const n=e?function(i){return e.call(this,i,encode$1)}:encode$1;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function encode(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(t,e,n){if(!e)return t;const i=n&&n.encode||encode;utils$1.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=utils$1.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,n).toString(i),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1.forEach(this.handlers,function(i){i!==null&&e(i)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(t,e){return toFormData(t,new platform.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,o){return platform.isNode&&utils$1.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(t){return utils$1.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},n=Object.keys(t);let i;const s=n.length;let o;for(i=0;i<s;i++)o=n[i],e[o]=t[o];return e}function formDataToJSON(t){function e(n,i,s,o){let l=n[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),f=o>=n.length;return l=!l&&utils$1.isArray(s)?s.length:l,f?(utils$1.hasOwnProp(s,l)?s[l]=[s[l],i]:s[l]=i,!c):((!s[l]||!utils$1.isObject(s[l]))&&(s[l]=[]),e(n,i,s[l],o)&&utils$1.isArray(s[l])&&(s[l]=arrayToObject(s[l])),!c)}if(utils$1.isFormData(t)&&utils$1.isFunction(t.entries)){const n={};return utils$1.forEachEntry(t,(i,s)=>{e(parsePropPath(i),s,n,0)}),n}return null}function stringifySafely(t,e,n){if(utils$1.isString(t))try{return(e||JSON.parse)(t),utils$1.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(t)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function t(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,o=utils$1.isObject(e);if(o&&utils$1.isHTMLForm(e)&&(e=new FormData(e)),utils$1.isFormData(e))return s?JSON.stringify(formDataToJSON(e)):e;if(utils$1.isArrayBuffer(e)||utils$1.isBuffer(e)||utils$1.isStream(e)||utils$1.isFile(e)||utils$1.isBlob(e)||utils$1.isReadableStream(e))return e;if(utils$1.isArrayBufferView(e))return e.buffer;if(utils$1.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((c=utils$1.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return toFormData(c?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function t(e){const n=this.transitional||defaults.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(utils$1.isResponse(e)||utils$1.isReadableStream(e))return e;if(e&&utils$1.isString(e)&&(i&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?AxiosError.from(c,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function t(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],t=>{defaults.headers[t]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),i=l.substring(s+1).trim(),!(!n||e[n]&&ignoreDuplicateOf[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},$internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$1.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,e,n,i,s){if(utils$1.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!utils$1.isString(e)){if(utils$1.isString(i))return e.indexOf(i)!==-1;if(utils$1.isRegExp(i))return i.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function buildAccessors(t,e){const n=utils$1.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,o,l){return this[i].call(this,e,s,o,l)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function o(c,f,h){const p=normalizeHeader(f);if(!p)throw new Error("header name must be a non-empty string");const g=utils$1.findKey(s,p);(!g||s[g]===void 0||h===!0||h===void 0&&s[g]!==!1)&&(s[g||f]=normalizeValue(c))}const l=(c,f)=>utils$1.forEach(c,(h,p)=>o(h,p,f));if(utils$1.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(utils$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))l(parseHeaders(e),n);else if(utils$1.isHeaders(e))for(const[c,f]of e.entries())o(f,c,i);else e!=null&&o(n,e,i);return this}get(e,n){if(e=normalizeHeader(e),e){const i=utils$1.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return parseTokens(s);if(utils$1.isFunction(n))return n.call(this,s,i);if(utils$1.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=normalizeHeader(e),e){const i=utils$1.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||matchHeaderValue(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function o(l){if(l=normalizeHeader(l),l){const c=utils$1.findKey(i,l);c&&(!n||matchHeaderValue(i,i[c],c,n))&&(delete i[c],s=!0)}}return utils$1.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const o=n[i];(!e||matchHeaderValue(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,i={};return utils$1.forEach(this,(s,o)=>{const l=utils$1.findKey(i,o);if(l){n[l]=normalizeValue(s),delete n[o];return}const c=e?formatHeader(o):String(o).trim();c!==o&&delete n[o],n[c]=normalizeValue(s),i[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return utils$1.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&utils$1.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[$internals]=this[$internals]={accessors:{}}).accessors,s=this.prototype;function o(l){const c=normalizeHeader(l);i[c]||(buildAccessors(s,l),i[c]=!0)}return utils$1.isArray(e)?e.forEach(o):o(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});utils$1.freezeMethods(AxiosHeaders);function transformData(t,e){const n=this||defaults,i=e||n,s=AxiosHeaders.from(i.headers);let o=i.data;return utils$1.forEach(t,function(c){o=c.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function isCancel(t){return!!(t&&t.__CANCEL__)}function CanceledError(t,e,n){AxiosError.call(this,t??"canceled",AxiosError.ERR_CANCELED,e,n),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new AxiosError("Request failed with status code "+n.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,o=0,l;return e=e!==void 0?e:1e3,function(f){const h=Date.now(),p=i[o];l||(l=h),n[s]=f,i[s]=h;let g=o,y=0;for(;g!==s;)y+=n[g++],g=g%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),h-l<e)return;const x=p&&h-p;return x?Math.round(y*1e3/x):void 0}}function throttle(t,e){let n=0,i=1e3/e,s,o;const l=(h,p=Date.now())=>{n=p,s=null,o&&(clearTimeout(o),o=null),t.apply(null,h)};return[(...h)=>{const p=Date.now(),g=p-n;g>=i?l(h,p):(s=h,o||(o=setTimeout(()=>{o=null,l(s)},i-g)))},()=>s&&l(s)]}const progressEventReducer=(t,e,n=3)=>{let i=0;const s=speedometer(50,250);return throttle(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,f=l-i,h=s(f),p=l<=c;i=l;const g={loaded:l,total:c,progress:c?l/c:void 0,bytes:f,rate:h||void 0,estimated:h&&c&&p?(c-l)/h:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(g)},n)},progressEventDecorator=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},asyncDecorator=t=>(...e)=>utils$1.asap(()=>t(...e)),isURLSameOrigin=platform.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,platform.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(t,e,n,i,s,o){const l=[t+"="+encodeURIComponent(e)];utils$1.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),utils$1.isString(i)&&l.push("path="+i),utils$1.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e,n){let i=!isAbsoluteURL(e);return t&&i||n==!1?combineURLs(t,e):e}const headersToObject=t=>t instanceof AxiosHeaders?{...t}:t;function mergeConfig(t,e){e=e||{};const n={};function i(h,p,g,y){return utils$1.isPlainObject(h)&&utils$1.isPlainObject(p)?utils$1.merge.call({caseless:y},h,p):utils$1.isPlainObject(p)?utils$1.merge({},p):utils$1.isArray(p)?p.slice():p}function s(h,p,g,y){if(utils$1.isUndefined(p)){if(!utils$1.isUndefined(h))return i(void 0,h,g,y)}else return i(h,p,g,y)}function o(h,p){if(!utils$1.isUndefined(p))return i(void 0,p)}function l(h,p){if(utils$1.isUndefined(p)){if(!utils$1.isUndefined(h))return i(void 0,h)}else return i(void 0,p)}function c(h,p,g){if(g in e)return i(h,p);if(g in t)return i(void 0,h)}const f={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,p,g)=>s(headersToObject(h),headersToObject(p),g,!0)};return utils$1.forEach(Object.keys(Object.assign({},t,e)),function(p){const g=f[p]||s,y=g(t[p],e[p],p);utils$1.isUndefined(y)&&g!==c||(n[p]=y)}),n}const resolveConfig=t=>{const e=mergeConfig({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:c}=e;e.headers=l=AxiosHeaders.from(l),e.url=buildURL(buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let f;if(utils$1.isFormData(n)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((f=l.getContentType())!==!1){const[h,...p]=f?f.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...p].join("; "))}}if(platform.hasStandardBrowserEnv&&(i&&utils$1.isFunction(i)&&(i=i(e)),i||i!==!1&&isURLSameOrigin(e.url))){const h=s&&o&&cookies.read(o);h&&l.set(s,h)}return e},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(n,i){const s=resolveConfig(t);let o=s.data;const l=AxiosHeaders.from(s.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:h}=s,p,g,y,x,S;function w(){x&&x(),S&&S(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function b(){if(!v)return;const E=AxiosHeaders.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!c||c==="text"||c==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:E,config:t,request:v};settle(function(F){n(F),w()},function(F){i(F),w()},T),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(i(new AxiosError("Request aborted",AxiosError.ECONNABORTED,t,v)),v=null)},v.onerror=function(){i(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||transitionalDefaults;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),i(new AxiosError(k,T.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,t,v)),v=null},o===void 0&&l.setContentType(null),"setRequestHeader"in v&&utils$1.forEach(l.toJSON(),function(k,T){v.setRequestHeader(T,k)}),utils$1.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),c&&c!=="json"&&(v.responseType=s.responseType),h&&([y,S]=progressEventReducer(h,!0),v.addEventListener("progress",y)),f&&v.upload&&([g,x]=progressEventReducer(f),v.upload.addEventListener("progress",g),v.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(p=E=>{v&&(i(!E||E.type?new CanceledError(null,t,v):E),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const _=parseProtocol(s.url);if(_&&platform.protocols.indexOf(_)===-1){i(new AxiosError("Unsupported protocol "+_+":",AxiosError.ERR_BAD_REQUEST,t));return}v.send(o||null)})},composeSignals=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const o=function(h){if(!s){s=!0,c();const p=h instanceof Error?h:this.reason;i.abort(p instanceof AxiosError?p:new CanceledError(p instanceof Error?p.message:p))}};let l=e&&setTimeout(()=>{l=null,o(new AxiosError(`timeout ${e} of ms exceeded`,AxiosError.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:f}=i;return f.unsubscribe=()=>utils$1.asap(c),f}},streamChunk=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},readBytes=async function*(t,e){for await(const n of readStream(t))yield*streamChunk(n,e)},readStream=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},trackStream=(t,e,n,i)=>{const s=readBytes(t,e);let o=0,l,c=f=>{l||(l=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:h,value:p}=await s.next();if(h){c(),f.close();return}let g=p.byteLength;if(n){let y=o+=g;n(y)}f.enqueue(new Uint8Array(p))}catch(h){throw c(h),h}},cancel(f){return c(f),s.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),test=(t,...e)=>{try{return!!t(...e)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let t=!1;const e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(t=>t.body)};isFetchSupported&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!resolvers[e]&&(resolvers[e]=utils$1.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new AxiosError(`Response type '${e}' is not supported`,AxiosError.ERR_NOT_SUPPORT,i)})})})(new Response);const getBodyLength=async t=>{if(t==null)return 0;if(utils$1.isBlob(t))return t.size;if(utils$1.isSpecCompliantForm(t))return(await new Request(platform.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(t)||utils$1.isArrayBuffer(t))return t.byteLength;if(utils$1.isURLSearchParams(t)&&(t=t+""),utils$1.isString(t))return(await encodeText(t)).byteLength},resolveBodyLength=async(t,e)=>{const n=utils$1.toFiniteNumber(t.getContentLength());return n??getBodyLength(e)},fetchAdapter=isFetchSupported&&(async t=>{let{url:e,method:n,data:i,signal:s,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:f,responseType:h,headers:p,withCredentials:g="same-origin",fetchOptions:y}=resolveConfig(t);h=h?(h+"").toLowerCase():"text";let x=composeSignals([s,o&&o.toAbortSignal()],l),S;const w=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let v;try{if(f&&supportsRequestStream&&n!=="get"&&n!=="head"&&(v=await resolveBodyLength(p,i))!==0){let T=new Request(e,{method:"POST",body:i,duplex:"half"}),L;if(utils$1.isFormData(i)&&(L=T.headers.get("content-type"))&&p.setContentType(L),T.body){const[F,C]=progressEventDecorator(v,progressEventReducer(asyncDecorator(f)));i=trackStream(T.body,DEFAULT_CHUNK_SIZE,F,C)}}utils$1.isString(g)||(g=g?"include":"omit");const b="credentials"in Request.prototype;S=new Request(e,{...y,signal:x,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:i,duplex:"half",credentials:b?g:void 0});let _=await fetch(S);const E=supportsResponseStream&&(h==="stream"||h==="response");if(supportsResponseStream&&(c||E&&w)){const T={};["status","statusText","headers"].forEach(O=>{T[O]=_[O]});const L=utils$1.toFiniteNumber(_.headers.get("content-length")),[F,C]=c&&progressEventDecorator(L,progressEventReducer(asyncDecorator(c),!0))||[];_=new Response(trackStream(_.body,DEFAULT_CHUNK_SIZE,F,()=>{C&&C(),w&&w()}),T)}h=h||"text";let k=await resolvers[utils$1.findKey(resolvers,h)||"text"](_,t);return!E&&w&&w(),await new Promise((T,L)=>{settle(T,L,{data:k,headers:AxiosHeaders.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:S})})}catch(b){throw w&&w(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,S),{cause:b.cause||b}):AxiosError.from(b,b&&b.code,t,S)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$1.isFunction(t)||t===null||t===!1,adapters={getAdapter:t=>{t=utils$1.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let o=0;o<e;o++){n=t[o];let l;if(i=n,!isResolvedHandle(n)&&(i=knownAdapters[(l=String(n)).toLowerCase()],i===void 0))throw new AxiosError(`Unknown adapter '${l}'`);if(i)break;s[l||"#"+o]=i}if(!i){const o=Object.entries(s).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(renderReason).join(`
`):" "+renderReason(o[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults.adapter)(t).then(function(i){return throwIfCancellationRequested(t),i.data=transformData.call(t,t.transformResponse,i),i.headers=AxiosHeaders.from(i.headers),i},function(i){return isCancel(i)||(throwIfCancellationRequested(t),i&&i.response&&(i.response.data=transformData.call(t,t.transformResponse,i.response),i.response.headers=AxiosHeaders.from(i.response.headers))),Promise.reject(i)})}const VERSION="1.8.3",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function t(e,n,i){function s(o,l){return"[Axios v"+VERSION+"] Transitional option '"+o+"'"+l+(i?". "+i:"")}return(o,l,c)=>{if(e===!1)throw new AxiosError(s(l," has been removed"+(n?" in "+n:"")),AxiosError.ERR_DEPRECATED);return n&&!deprecatedWarnings[l]&&(deprecatedWarnings[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,c):!0}};validators$1.spelling=function t(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function assertOptions(t,e,n){if(typeof t!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const o=i[s],l=e[o];if(l){const c=t[o],f=c===void 0||l(c,o,t);if(f!==!0)throw new AxiosError("option "+o+" must be "+f,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new AxiosError("Unknown option "+o,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=mergeConfig(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:o}=n;i!==void 0&&validator.assertOptions(i,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),s!=null&&(utils$1.isFunction(s)?n.paramsSerializer={serialize:s}:validator.assertOptions(s,{encode:validators.function,serialize:validators.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),validator.assertOptions(n,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&utils$1.merge(o.common,o[n.method]);o&&utils$1.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),n.headers=AxiosHeaders.concat(l,o);const c=[];let f=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(f=f&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let p,g=0,y;if(!f){const S=[dispatchRequest.bind(this),void 0];for(S.unshift.apply(S,c),S.push.apply(S,h),y=S.length,p=Promise.resolve(n);g<y;)p=p.then(S[g++],S[g++]);return p}y=c.length;let x=n;for(g=0;g<y;){const S=c[g++],w=c[g++];try{x=S(x)}catch(v){w.call(this,v);break}}try{p=dispatchRequest.call(this,x)}catch(S){return Promise.reject(S)}for(g=0,y=h.length;g<y;)p=p.then(h[g++],h[g++]);return p}getUri(e){e=mergeConfig(this.defaults,e);const n=buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls);return buildURL(n,e.params,e.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function t(e){Axios.prototype[e]=function(n,i){return this.request(mergeConfig(i||{},{method:e,url:n,data:(i||{}).data}))}});utils$1.forEach(["post","put","patch"],function t(e){function n(i){return function(o,l,c){return this.request(mergeConfig(c||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Axios.prototype[e]=n(),Axios.prototype[e+"Form"]=n(!0)});class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(c=>{i.subscribe(c),o=c}).then(s);return l.cancel=function(){i.unsubscribe(o)},l},e(function(o,l,c){i.reason||(i.reason=new CanceledError(o,l,c),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new CancelToken(function(s){e=s}),cancel:e}}}function spread(t){return function(n){return t.apply(null,n)}}function isAxiosError(t){return utils$1.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([t,e])=>{HttpStatusCode[e]=t});function createInstance(t){const e=new Axios(t),n=bind(Axios.prototype.request,e);return utils$1.extend(n,Axios.prototype,e,{allOwnKeys:!0}),utils$1.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return createInstance(mergeConfig(t,s))},n}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function t(e){return Promise.all(e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=t=>formDataToJSON(utils$1.isHTMLForm(t)?new FormData(t):t);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;const BookSyncPage=()=>{const[t,e]=reactExports.useState([]),[n,i]=reactExports.useState([]),[s,o]=reactExports.useState({}),[l,c]=reactExports.useState(!0),f=useNavigate();reactExports.useEffect(()=>{(async()=>{try{const w=await bookStorage.getBooks(),v=await axios.get("http://localhost:8080/books");e(w),i(v.data);const b={};w.forEach(_=>{const E=v.data.some(k=>k.title===_.metadata.title&&k.author===_.metadata.author);b[`${_.metadata.title}-${_.metadata.author}`]=E?"":"   "}),v.data.forEach(_=>{w.some(k=>k.metadata.title===_.title&&k.metadata.author===_.author)||(b[`${_.title}-${_.author}`]="   ")}),o(b)}catch(w){console.error("  :",w)}finally{c(!1)}})()},[]);const h=async S=>{try{let v=(await bookStorage.getBookById(S.id)).file;v instanceof ArrayBuffer&&(v=p(v)),await axios.post("http://localhost:8080/books/",{file:v,fileType:S.fileType,author:S.metadata.author,title:S.metadata.title,image:S.metadata.image,countPages:S.metadata.totalPages}),o(b=>({...b,[`${S.metadata.title}-${S.metadata.author}`]:""}))}catch(w){console.error(" :",w)}},p=S=>{let w="",v=new Uint8Array(S),b=v.byteLength;for(let _=0;_<b;_++)w+=String.fromCharCode(v[_]);return btoa(w)},g=async S=>{try{const w=await axios.get(`http://localhost:8080/books/${S.book_id}`);console.log(w.data);let v=w.data.file;y(v)&&(v=x(v));const b={fileType:w.data.fileType,metadata:{title:w.data.title,author:w.data.author,image:w.data.image,totalPages:w.data.countPages},file:v};await bookStorage.saveBook(b),e(_=>[..._,b]),o(_=>({..._,[`${S.title}-${S.author}`]:""}))}catch(w){console.error("  :",w)}},y=S=>/^([A-Za-z0-9+/=]+)$/.test(S)&&S.length%4===0,x=S=>{let w=atob(S),v=w.length,b=new Uint8Array(v);for(let _=0;_<v;_++)b[_]=w.charCodeAt(_);return b.buffer};return jsxRuntimeExports.jsxs(Container$1,{children:[jsxRuntimeExports.jsx(Typography,{variant:"h4",gutterBottom:!0,children:" "}),l?jsxRuntimeExports.jsx(Box,{display:"flex",justifyContent:"center",mt:3,children:jsxRuntimeExports.jsx(CircularProgress,{})}):jsxRuntimeExports.jsxs(Grid,{container:!0,spacing:3,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:3,style:{padding:"16px"},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",children:"  "}),jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(List,{children:t.map(S=>{const w=`${S.metadata.title}-${S.metadata.author}`;return jsxRuntimeExports.jsx(ListItem,{secondaryAction:s[w]==="   "&&jsxRuntimeExports.jsx(Button,{onClick:()=>h(S),variant:"outlined",size:"small",children:"   "}),children:jsxRuntimeExports.jsx(ListItemText,{primary:`${S.metadata.title} (${S.metadata.author||" "})`,secondary:`: ${s[w]||""}`})},w)})})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:6,children:jsxRuntimeExports.jsxs(Paper,{elevation:3,style:{padding:"16px"},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",children:"  "}),jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(List,{children:n.map(S=>{const w=`${S.title}-${S.author}`;return jsxRuntimeExports.jsx(ListItem,{secondaryAction:s[w]==="   "&&jsxRuntimeExports.jsx(Button,{onClick:()=>g(S),variant:"outlined",size:"small",children:"   "}),children:jsxRuntimeExports.jsx(ListItemText,{primary:`${S.title} (${S.author||" "})`,secondary:`: ${s[w]||""}`})},w)})})]})})]}),jsxRuntimeExports.jsx(Box,{mt:3,display:"flex",justifyContent:"space-between",children:jsxRuntimeExports.jsx(Button,{onClick:()=>f("/"),variant:"outlined",children:"  "})})]})},App=()=>(reactExports.useState(null),jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Navigate,{to:"/library"})}),jsxRuntimeExports.jsx(Route,{path:"/library",element:jsxRuntimeExports.jsx(BookLibrary,{})}),jsxRuntimeExports.jsx(Route,{path:"/book/:id",element:jsxRuntimeExports.jsx(BookReaderWrapper,{})}),jsxRuntimeExports.jsx(Route,{path:"/sync",element:jsxRuntimeExports.jsx(BookSyncPage,{})})]})})),BookReaderWrapper=()=>{const{id:t}=useParams(),[e,n]=reactExports.useState(null),[i,s]=reactExports.useState(!0);return reactExports.useEffect(()=>{(async()=>{const l=await bookStorage.getBookById(t);n(l),s(!1)})()},[t]),i?jsxRuntimeExports.jsx("div",{children:"..."}):e?jsxRuntimeExports.jsx(BookReader,{book:e}):jsxRuntimeExports.jsx("div",{children:"  "})};clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
